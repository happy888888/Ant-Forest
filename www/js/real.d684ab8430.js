/*!
 * BUILD_ASSET_META_START {"type":"kylin-build","uniquename":"app/60000002","name":"60000002_ant-forest","hash":"d684ab843087ad1a19fc","chunk":"real","time":1597914305298,"filename":"js/real.d684ab8430.js","site":false,"fengdie":false} BUILD_ASSET_META_END
 */
webpackJsonp([6],{0:function(e,t,n){n(12),e.exports=n(268)},205:function(e,t,n){var r;r={},r.ListView=function(){var e=n(58);return e=e.default||e}(),n(534);var o=n(6)(n(343),n(220),null,null,r);t.__esModule=!0,t.default=o.exports},220:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"real"},[e.banner.id?[n("div",{staticClass:"banner",on:{click:function(t){e.onBannerClick(e.banner.jumpSchema)}}},[n("div",{staticClass:"media"},[n("div",{staticClass:"img",style:e.banner.media[0].url?{backgroundImage:"url("+e.banner.media[0].url+")"}:""})]),e._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"title"},[e._v(e._s(e.banner.title))]),e._v(" "),n("div",{staticClass:"desc"},[e._v(e._s(e.banner.description))]),e._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"time"},[e._v(e._s(e.banner._time))]),e._v(" "),n("div",{staticClass:"more",on:{click:function(t){t.stopPropagation(),e.onMoreClick(t)}}},[e._v("更多 >")])])])])]:e._e(),e._v(" "),e.reals.length?[n("list-view",{ref:"listView",attrs:{"max-count":-1,"on-scroll-bottom":e.onBottom,"on-scroll":e.onScroll},scopedSlots:e._u([{key:"bottom",fn:function(t){return[n("div",{staticStyle:{"text-align":"center","font-size":"0.14rem",color:"#666"}},[t.loadAvailable&&t.loading&&e.hasMore?n("div",{on:{click:e.clickMore}},[e._v(e._s(e.t("loadMore")))]):t.loadFinish||!e.hasMore?n("div",[e._v(e._s(e.t("noMore")))]):t.loading?n("div",[e._v(e._s(e.t("loading")))]):t.loadError?n("div",[e._v(e._s(e.t("loadError")))]):e._e()])]}}])},e._l(e.reals,function(t){return n("div",{key:t.bizNo,staticClass:"real-item",on:{click:function(n){e.onPicInfo(t.forestName,t.forestPicInfos[0].forestId,0)}}},[t.forestPicInfos.length>0?[n("div",{staticClass:"item-imgs"},[n("div",{staticClass:"item-title",style:{backgroundImage:"url("+e.fixCoverUrl(t.forestPicInfos[0].djangoPicUrl)+")"}},[n("span",{staticClass:"title-t"},[n("span",{staticClass:"num af-digital-fontface"},[e._v(e._s(parseInt(t.forestName.split("·")[0])))]),e._v("号林")]),e._v(" "),n("div",{staticClass:"title-c"},[e._v(e._s(t.forestName.split("·")[1]))]),e._v(" "),n("div",{staticClass:"title-b"})]),e._v(" "),e._l(t.forestPicInfos,function(r,o){return n("div",{key:r.bizNo,staticClass:"item1",on:{click:function(n){n.stopPropagation(),e.onPicInfo(t.forestName,r.forestId,o)}}},[n("img",{staticClass:"item1-img",attrs:{src:e._f("fixPicUrl")(r.djangoPicUrl)}}),e._v(" "),n("div",{staticClass:"item1-time"},[e._v("\n                "+e._s(e._f("parseTimeToYMDHM")(r.picShootTime))+"\n              ")])])})],2)]:e._e()],2)}))]:e._e()],2)},staticRenderFns:[]}},268:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(l.default?(0,l.default)(e,t):e.__proto__=t)}function s(e){window.AlipayJSBridge&&window.AlipayJSBridge.call?e():navigator.userAgent.indexOf("AlipayClient")>=0?document.addEventListener("AlipayJSBridgeReady",e,!0):e()}function c(){var e=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.initOptions=function(){return{store:_.default,router:void 0}},t.prototype.render=function(e){return e(h.default)},t}(p.Page),t=new e("#app");return t._vue}var u=n(9),l=r(u),f=n(13),d=(r(f),n(298)),p=(r(d),n(4)),v=n(288),_=r(v),m=n(205),h=r(m);_.default&&s(function(){_.default.dispatch("pageBeforeRender")}),function(e){window.AlipayJSBridge&&window.AlipayJSBridge.call?setTimeout(e,0):navigator.userAgent.indexOf("AlipayClient")>=0?document.addEventListener("AlipayJSBridgeReady",e,!0):setTimeout(e,0)}(c)},278:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){return i?i:i="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(8),s=r(a),c=s.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(2),l=r(u),f=n(17),d=r(f),p=1,v=10;t.default={state:{banner:{},hasMore:!1,reals:[]},mutations:{updateBanner:function(e,t){e.banner=c({},t,{_time:d.default.formatDate(t.gmtCreate,"yyyy/MM/dd hh:mm")})},updateReals:function(e,t){1===p?e.reals=t:e.reals=e.reals.concat(t)},updateHasMore:function(e,t){e.hasMore=t}},actions:{pageBeforeRender:function(e){var t=e.dispatch;t("queryRealTree")},queryRealTree:function(e){return new(o())(function(t,n){var r,i;return r=e.commit,o().resolve(l.default.rpc.queryRealTreePicByPage({pageNum:p,pageSize:v})).then(function(e){try{return i=e,i.success&&i.banner&&r("updateBanner",i.banner),i.success&&i.realPictureDatas&&!function(){for(var e=i.realPictureDatas.filter(function(e){return e.forestPicInfos&&e.forestPicInfos.length}),t=0;t<e.length;t+=1)!function(t){setTimeout(function(){window.requestAnimationFrame(function(){r("updateReals",[e[t]])})},17*t*3)}(t);r("updateHasMore",i.hasMore),p++}(),t(i)}catch(e){return n(e)}}.bind(this),n)}.bind(this))}}}},288:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(278),i=r(o),a=n(4);i.default.strict=!1,i.default.plugins=[];var s=new a.Store(i.default);a.Store.setInstance?a.Store.setInstance(s):a.Store.getInstance=function(){try{console.warn(["Store.getInstance is deprecated, please use :",'import { Instance } from "@ali/kylin-framework";',"Instance.getStore();"].join("\n"))}catch(e){}return s},a.Instance&&a.Instance.setStore&&a.Instance.setStore(s),t.default=s},298:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n(18);var o=n(3),i=r(o),a=n(19),s=r(a),c=function(){i.default.html.isFullScreen()&&document.body.classList.add("full-screen"),i.default.html.setHTMLFontSize(),(0,s.default)(window.FastClick)};luna.ready(function(){c()})},343:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){return a?a:a="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=n(4),c=n(2),u=r(c),l=n(5),f=r(l),d=s.Component.Object({mapStateToProps:{banner:function(e){return e.banner},reals:function(e){return e.reals},hasMore:function(e){return e.hasMore}}})(function(){var e={name:"IndexView",props:{banner:Object,hasMore:Boolean,reals:Array},filters:{fixPicUrl:function(e){if(!e)return"";var t="&zoom=172h_316w_80q_1e_1c";return e+t}},methods:{fixCoverUrl:function(e){if(!e)return"";var t="&zoom=126h_92w_80q_1e_1c";return e+t},onScroll:function(){},onBottom:function(e,t){this.hasMore&&this.loadData(e,t)},loadData:function(e,t){return new(o())(function(n,r){var a,s,c;return o().resolve(this.$store.dispatch("queryRealTree")).then(function(o){try{return a=o,s=a.error,c=i(a,["error"]),c&&!c.hasMore?(this.$refs.listView.setNoMore(),n()):s||!c.success?(t(),n()):(e(),n())}catch(e){return r(e)}}.bind(this),r)}.bind(this))},clickMore:function(){this.$refs.listView.emitLoadMore()},onPicInfo:function(e,t,n){u.default.goto.realpic(e,t,n),Tracert.click("c26160.d49233")},onMoreClick:function(){u.default.goto.realAds()},onBannerClick:function(e){e&&f.default.call("pushWindow",{url:e})}}};return e});t.default=d},534:function(e,t){}});