/*!
 * BUILD_ASSET_META_START {"type":"kylin-build","uniquename":"app/60000002","name":"60000002_ant-forest","hash":"d684ab843087ad1a19fc","chunk":"realads","time":1597914305298,"filename":"js/realads.d684ab8430.js","site":false,"fengdie":false} BUILD_ASSET_META_END
 */
webpackJsonp([5],{0:function(e,t,n){n(12),e.exports=n(269)},206:function(e,t,n){var o;o={},o.ListView=function(){var e=n(58);return e=e.default||e}(),n(552);var r=n(6)(n(344),n(239),null,null,o);t.__esModule=!0,t.default=r.exports},239:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.ads.length?n("div",{staticClass:"realads"},[n("list-view",{ref:"listView",attrs:{"max-count":-1,"on-scroll-bottom":e.onBottom,"on-scroll":e.onScroll},scopedSlots:e._u([{key:"bottom",fn:function(t){return[n("div",{staticStyle:{"text-align":"center","font-size":"0.14rem",color:"#666"}},[t.loadAvailable&&t.loading&&e.hasMore?n("div",{on:{click:e.clickMore}},[e._v(e._s(e.t("loadMore")))]):t.loadFinish||!e.hasMore?n("div",[e._v(e._s(e.t("noMore")))]):t.loading?n("div",[e._v(e._s(e.t("loading")))]):t.loadError?n("div",[e._v(e._s(e.t("loadError")))]):e._e()])]}}])},e._l(e.ads,function(t){return n("div",{key:t.id,staticClass:"realads-item",on:{click:function(n){e.onItemClick(t.jumpSchema)}}},[t.id?[n("div",{staticClass:"media"},[n("div",{staticClass:"img",style:t.media[0].url?{backgroundImage:"url("+t.media[0].url+")"}:""})]),e._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"title"},[e._v(e._s(t.title))]),e._v(" "),n("div",{staticClass:"desc"},[e._v(e._s(t.description))]),e._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"time"},[e._v(e._s(t._time))])])])]:e._e()],2)}))],1):e._e()},staticRenderFns:[]}},269:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(l.default?(0,l.default)(e,t):e.__proto__=t)}function s(e){window.AlipayJSBridge&&window.AlipayJSBridge.call?e():navigator.userAgent.indexOf("AlipayClient")>=0?document.addEventListener("AlipayJSBridgeReady",e,!0):e()}function u(){var e=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.initOptions=function(){return{store:m.default,router:void 0}},t.prototype.render=function(e){return e(w.default)},t}(p.Page),t=new e("#app");return t._vue}var c=n(9),l=o(c),d=n(13),f=(o(d),n(299)),p=(o(f),n(4)),v=n(289),m=o(v),h=n(206),w=o(h);m.default&&s(function(){m.default.dispatch("pageBeforeRender")}),function(e){window.AlipayJSBridge&&window.AlipayJSBridge.call?setTimeout(e,0):navigator.userAgent.indexOf("AlipayClient")>=0?document.addEventListener("AlipayJSBridgeReady",e,!0):setTimeout(e,0)}(u)},279:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){return i?i:i="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(8),s=o(a),u=s.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=n(2),l=o(c),d=n(17),f=o(d),p=1,v=10;t.default={state:{hasMore:!1,ads:[]},mutations:{updateAds:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.map(function(e){return u({},e,{_time:f.default.formatDate(e.gmtCreate,"yyyy/MM/dd hh:mm")})});1===p?e.ads=n:e.ads=e.ads.concat(n)},updateHasMore:function(e,t){e.hasMore=t}},actions:{pageBeforeRender:function(e){var t=(e.commit,e.dispatch);t("queryRealAds")},queryRealAds:function(e){return new(r())(function(t,n){var o,i;return o=e.commit,r().resolve(l.default.rpc.queryMoreRealTreePicBanners({pageNum:p,pageSize:v})).then(function(e){try{return i=e,i.success&&i.banners&&!function(){for(var e=i.banners,t=0;t<e.length;t+=1)!function(t){setTimeout(function(){window.requestAnimationFrame(function(){o("updateAds",[e[t]])})},17*t*3)}(t);o("updateHasMore",i.hasMore),p++}(),t(i)}catch(e){return n(e)}}.bind(this),n)}.bind(this))}}}},289:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(279),i=o(r),a=n(4);i.default.strict=!1,i.default.plugins=[];var s=new a.Store(i.default);a.Store.setInstance?a.Store.setInstance(s):a.Store.getInstance=function(){try{console.warn(["Store.getInstance is deprecated, please use :",'import { Instance } from "@ali/kylin-framework";',"Instance.getStore();"].join("\n"))}catch(e){}return s},a.Instance&&a.Instance.setStore&&a.Instance.setStore(s),t.default=s},299:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}n(18);var r=n(3),i=o(r),a=n(19),s=o(a),u=function(){i.default.html.isFullScreen()&&document.body.classList.add("full-screen"),i.default.html.setHTMLFontSize(),(0,s.default)(window.FastClick)};luna.ready(function(){u()})},344:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){return a?a:a="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}function i(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=n(4),u=n(5),c=o(u),l=s.Component.Object({mapStateToProps:{ads:function(e){return e.ads},hasMore:function(e){return e.hasMore}}})(function(){var e={name:"IndexView",props:{hasMore:Boolean,ads:Array},methods:{onScroll:function(){},onBottom:function(e,t){this.hasMore&&this.loadData(e,t)},loadData:function(e,t){return new(r())(function(n,o){var a,s,u;return r().resolve(this.$store.dispatch("queryRealAds")).then(function(r){try{return a=r,s=a.error,u=i(a,["error"]),u&&!u.hasMore?(this.$refs.listView.setNoMore(),n()):s||!u.success?(t(),n()):(e(),n())}catch(e){return o(e)}}.bind(this),o)}.bind(this))},clickMore:function(){this.$refs.listView.emitLoadMore()},onItemClick:function(e){e&&c.default.call("pushWindow",{url:e})}}};return e});t.default=l},552:function(e,t){}});