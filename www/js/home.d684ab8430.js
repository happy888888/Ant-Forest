/*!
 * BUILD_ASSET_META_START {"type":"kylin-build","uniquename":"app/60000002","name":"60000002_ant-forest","hash":"d684ab843087ad1a19fc","chunk":"home","time":1597914305298,"filename":"js/home.d684ab8430.js","site":false,"fengdie":false} BUILD_ASSET_META_END
 */
webpackJsonp([1],[function(e,t,n){n(12),e.exports=n(263)},,,,,,,function(e,t){e.exports=Tiny},,,,,,,,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={skyLayer:{alignment:"center,top",size:"750,560",offset:"-375,0",lightNight:{size:"750,260",offset:"0,410"},light:{size:"244,360",offset:"-10,50",scale:2},cloundLeft:{image:"tileset-common-clound.png",size:"242,96",offset:"-242,280",opacity:.9,speed:.3,rightward:!0},cloundRight:{image:"tileset-common-clound.png",alignment:"right,top",size:"242,96",offset:"-10,480",scale:.5,opacity:.6,speed:.4},star1:{image:"tileset-common-star1.png",size:"35,37",offset:"190,110"},star2:{image:"tileset-common-star1.png",size:"35,37",offset:"16,245",opacity:.8},star3:{image:"tileset-common-star1.png",size:"35,37",offset:"388,206",opacity:.6},star4:{image:"tileset-common-star1.png",size:"35,37",offset:"494,78"},star5:{image:"tileset-common-star1.png",size:"35,37",offset:"518,274",opacity:.9},star6:{image:"tileset-common-star1.png",size:"35,37",offset:"680,234",opacity:.6},star7:{image:"tileset-common-star2.png",size:"33,33",offset:"144,46"},star8:{image:"tileset-common-star2.png",size:"33,33",offset:"264,270"},star9:{image:"tileset-common-star2.png",size:"33,33",offset:"183,500"},star10:{image:"tileset-common-star2.png",size:"33,33",offset:"717,513"},star11:{image:"tileset-common-star2.png",size:"33,33",offset:"588,561"}},groundLayer:{alignment:"center,bottom",size:"750,581",offset:"-375,581",groundLayer:{},ground:{offset:"0,111",size:"750,470"},mountLayer:{},mount:{size:"750,200"},lake:{size:"216,98",offset:"-68,270"},plantLayer:{alignment:"center,bottom",size:"750,220",offset:"-375,1080",zhangzisong:{anchor:"left,bottom",offset:"70,210"},suosuo:{anchor:"left,bottom",offset:"20,180"},huabang:{alignment:"right,top",anchor:"right,bottom",offset:"70,210"},shaliu:{alignment:"right,top",anchor:"right,bottom",offset:"20,180"},huyang:{alignment:"right,top",anchor:"right,bottom",offset:"110,180"},ningtiao:{anchor:"left,bottom",offset:"120,180"},reserve:{anchor:"center,bottom",offset:"120,306"},__prepares__:[{alignment:"right,top",anchor:"right,bottom",offset:"170,210"},{anchor:"left,bottom",offset:"170,210"},{anchor:"left,bottom",offset:"130,240"},{anchor:"left,bottom",offset:"210,240"},{alignment:"right,top",anchor:"right,bottom",offset:"130,240"},{alignment:"right,top",anchor:"right,bottom",offset:"210,240"},{alignment:"right,top",anchor:"right,bottom",offset:"40,240"},{alignment:"right,top",anchor:"right,bottom",offset:"0,210"},{anchor:"left,bottom",offset:"0,210"}]}},treeLayer:{alignment:"center,bottom",size:"500,600",offset:"-250,816",quit:{image:"https://gw.alipayobjects.com/zos/rmsportal/gOzVIbdXfvDbrrgvPIjV.png",size:"454,456",anchor:"center,bottom",offset:"250,700"},waterLayer:{offset:"440,640",size:"244,139",bottle:{image:"tileset-common-bottle.png",size:"244,139",offset:"80,70",anchor:"center"},gif:{size:"244,140",offset:"-128,-72",speed:.1},text:{anchor:"left,top",offset:"-50,0",style:{fontFamily:"digital",fontSize:40,fill:6413181,align:"center",fontWeight:"bold",letterSpacing:1}}},heart:{image:"tileset-common-heart.png",size:"46,39",anchor:"center,center",offset:"260,350"}},bubblesLayer:{alignment:"center,bottom",size:"500,300",offset:"-250,782",bubbleFull:{image:"tileset-bubble-full.png"},bubbleEmpty:{image:"tileset-bubble-empty.png"},bubbleBorder:{image:"tileset-bubble-border.png"},bubbleLight:{image:"tileset-bubble-light.png"},bubbleHelpcollect:{image:"tileset-bubble-helpcollect.png"},bubbleCancollect:{image:"tileset-bubble-cancollect.png"},bubbleWhisper:{image:"tileset-bubble-whisper.png"},whisperGif:{size:"40,20",offset:"56,62",speed:.1,direction:"alternate"},bubbleWater:{image:"tileset-bubble-water.png"},bubblesWater:{image:"tileset-bubble-waters.png"},bubblesProp:{image:"tileset-bubble-prop.png"},bubbleDouble:{image:"tileset-bubble-double.png",offset:"2,0"},ripple:{image:"tileset-common-ripple.png",anchor:"center,center",offset:"74,74"}},shieldLayer:{alignment:"center,top",offset:"-337,180",shield:{offset:"337,405"},shieldLight:{image:"tileset-common-shield-light.png",size:"300,80",offset:"100,145"},shieldDuang:{image:"tileset-common-shield-duang.png",size:"102,102",offset:"0,0"},countdownIcon:{image:"tileset-common-shield-countdown.png",size:"20,20"}},entriesLayer:{achieve_myself:{offset:"648,500",image:"tileset-entries-achieve.png"},achieve_friend:{offset:"648,266",image:"tileset-entries-achieve.png"},welfare:{image:"tileset-entries-welfare.png",offset:"646,266"},hongbao:{offset:"30,1006",image:"tileset-entries-hongbao.png"},shop:{offset:"200,868",dayBG:{offset:"145,830",image:"https://gw.alipayobjects.com/mdn/social_tod/afts/img/A*KESSS4sM7T8AAAAAAAAAAABkARQnAQ"},nightBG:{offset:"145,830",image:"https://gw.alipayobjects.com/mdn/social_tod/afts/img/A*qfxyRaWpAfQAAAAAAAAAAABkARQnAQ"},dayIcon:{offset:"145,880",image:"https://gw.alipayobjects.com/mdn/social_tod/afts/img/A*1BYbTa-o-fIAAAAAAAAAAABkARQnAQ"},nightIcon:{offset:"145,880",image:"https://gw.alipayobjects.com/mdn/social_tod/afts/img/A*yqx-S4lpuuEAAAAAAAAAAABkARQnAQ"}},sendProp:{offset:"192,1005",image:"tileset-entries-sendProp.png"},tips:{offset:"286,1005",image:"tileset-entries-tips.png"},remind:{offset:"286,1005",image:"tileset-entries-remind.png"},task:{offset:"384,1005",image:"tileset-entries-task.png"},barrage:{offset:"388,1005",image:"tileset-entries-barrage.png"},tool:{offset:"482,1005",image:"tileset-entries-tool.png"},water:{offset:"482,1005",image:"tileset-entries-water.png"},stroll:{offset:"570,1010",image:"tileset-entries-stroll.png"}}}},,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(c.default?(0,c.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=n(9),c=i(u),l=n(7),d=r(l),f=n(2),p=i(f),h=n(14),v=i(h),m=n(45),y=i(m),g=74,b={children:!0,texture:!1,baseTexture:!0},_=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n));return i.id=String(n.id),i.type=n.bubbleType,i.bubble=n,i.isDay=p.default.biz.isDay(),i.treeCenter=null,i._create(n,r),i}return s(t,e),t.prototype.draw=function(e){},t.prototype.onClick=function(e,t){},t.prototype.onChange=function(e,t){this.setBubble(e)},t.prototype.setBubble=function(e){e&&(this.bubble=e)},t.prototype._create=function(e,t){var n=this,r=""+e.id;this.id=r,this.setOpacity(0);var i=t.x-g,o=t.y,a=this._getBubbleScale(e.fullEnergy);i+=(i-i*a)/2,o+=(o-o*a)/2,this.setScale(a),this.setPosition(i,o),this.posIndex=t.posIndex,this._anime(),this.setEventEnabled(!0),this.on("tap",function(e){n.bubble&&n.bubble.id&&n.onClick(n.bubble,e)})},t.prototype._getBubbleScale=function(e){e=parseInt(e,10)||10;var t=.83,n=1,r=10,i=500;return e>=i?n:e<=r?t:(e-r)/(i-r)*(n-t)+t},t.prototype._anime=function(){var e=this.y,t=Math.PI/2+Math.PI*Math.random();this.yData={r:t,y:e}},t.prototype.remove=function(e){var t=this;this.setBubble(e),y.default.clean(this);var n=e.delete===v.default.DELETE_REMOVE||e.attribute===v.default.FORCE_DISAPPEAR;if(n)this.removeActions(),this.destroy(b);else{var r=600,i=this._getTreeCenter(),o=d.MoveTo(r,i),a=d.FadeOut(r),s=d.ScaleTo(r,{scaleX:0,scaleY:0});o.onComplete=function(){t.removeActions(),t.destroy(b),e.delete===v.default.DELETE_COLLECT&&(t._isFriend()&&d.app.tree.outHeart(),d.app.tree.shake())},d.Action.cleanup(this),this.runAction([o,a,s])}},t.prototype._getTreeCenter=function(){if(this.treeCenter)return this.treeCenter;var e=250,t=460,n={x:e,y:t};return this.treeCenter=n,n},t.prototype._isMyself=function(){return p.default.home.isMyself()},t.prototype._isFriend=function(){return p.default.home.isFriend()},t.prototype._isHideBubbleNo=function(){return this._isFriend()&&"Y"===p.default.properties.get("hideBubbleNo")},t.prototype._isCanHelpCollect=function(){var e=this.bubble.collectStatus,t=this.bubble.canHelpCollect;return this._isFriend()&&t&&("ROBBED"===e||"INSUFFICIENT"===e)},t}(d.CustomContainer);t.default=_},,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),a=i(o),s=n(20),u=r(s),c={ripple:function(e){for(var t=u.default.bubblesLayer.ripple,n=[],r=3;r>0;){var i=new a.CustomSprite(t);n.push(i),i.setOpacity(0),e.addChild(i),r--}var o=a.ScaleTo(1e3,{scaleX:1.4,scaleY:1.4}),s=a.FadeOut(1e3),c=function(){!e._destroyed&&e.rippleAnime&&(setTimeout(e.rippleAnime,2e3),n.forEach(function(e,t){setTimeout(function(){e&&!e._destroyed?(e.setOpacity(1),e.setScale(1),e.runAction([s,o])):e=void 0},100+330*t)}))};e.rippleAnime=c,c()},bling:function(e,t){if(!e.blingAnime){var n=function(){var n=1*Math.random(),r=function(){var r=a.ticker.shared.lastTime;r%=2e3,r/=2e3;var i=Math.abs(Math.sin((n+r)*Math.PI));"function"==typeof t?t(i):e.setOpacity(.5+.5*i)};return r._tiny_update_key="blingAnime_"+e.id,r}();e.blingAnime=n,a.app.onUpdate(n,!0)}},clean:function(e){e.blingAnime&&(a.app.offUpdate(e.blingAnime),e.blingAnime=null),e.rippleAnime&&(e.rippleAnime=null)}};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),a=i(o),s=n(3),u=r(s),c=n(20),l=r(c),d={actioning:!1,heartArr:null,shake:function(e){var t=this;if(!this.actioning){this.actioning=!0;var n=e.height;e.anime=new a.TWEEN.Tween({p:0}).to({p:1},800).easing(function(e){return e}).onUpdate(function(){var t=this.p,r=(1-t)*Math.sin(4*t*Math.PI)*2*10;e.height=n+r}).onComplete(function(){t.actioning=!1,e.anime.stop()}).start()}},outHeart:function(e,t){var n=l.default.treeLayer.heart,r=+t||0,i=n.offset.split(","),o=i[0],s=i[1];s=+s+r;var c=1e3,d=120,f=Math.random()>=.5?-1:1,p=function(e){return e},h=function(e){return Math.pow(e,.5)},v=function(e){return 120*h(e)/180*Math.PI},m=function(e){return p(e)+.4},y=function e(t,n,r,i){var a=f*(n%2?1:-1);window.requestAnimationFrame(function(){var l=u.default.time.now()-r,f=l/c;return f>.99?(t.setOpacity(0),void t.setPosition(o,s)):(t.setOpacity(1),t.x=+o+p(f)*d*a*i,t.y=+s+-h(f)*d*2+i,t.setRotation(v(f)*a/Math.PI),t.setScale(m(f)),void e(t,n,r,i))})};if(!this.heartArr){for(var g=[],b=3;b--;)g[b]=0;this.heartArr=g.map(function(){var t=new a.CustomSprite(n);return t.y=t.y+r,t.setOpacity(0),e.addChild(t),t})}this.heartArr.forEach(function(e,t){var n=function(){y(e,t,u.default.time.now(),.4*(1-t)+1)};setTimeout(n,100+300*t)})},water:function(e,t){var n=a.app.root.childMap.waterContainer;n.runWater({energyCount:e},t)},clean:function(){this.actioning=!1,this.heartArr=null}};t.default=d},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),a=i(o),s=a.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(7),c=r(u),l=n(424),d=i(l),f=n(422),p=i(f),h=n(425),v=i(h),m={tree__1:p.default,tree__2:p.default,tree__3:p.default,tree__main:v.default},y=s({},d.default,{$dressedMap:{},init:function(){var e=window.AF_STORE.state.dress,t=e.degradeIndexDress,n=e.showDress;!t&&n&&this.watch()},apply:function(){var e=this;this.removeAll();var t=window.AF_STORE.state,n=t.dress.indexDressList||[];n.forEach(function(t){var n=t.position,r=m[n];if("function"==typeof r){var i=new r;i.apply(t),e.$dressedMap[t.position]=i}})},watch:function(){var e=this;c.app.root.store.subscribe(function(t){if("dress/refreshIndexDress"===t.type&&e.apply(),"dress/applyDress"===t.type){var n=t.payload,r=n.position,i=e.$dressedMap[r];i&&i.remove();var o=m[r];if("function"!=typeof o)return;var a=new o;a.apply(n,{panelApply:!0}),e.$dressedMap[r]=a}if("dress/downDress"===t.type){var s=t.payload,u=s.position,c=e.$dressedMap[u];if(e._treeDecorationValid(c))c.down();else if(e._treeMainValid(c)){var l=m[u];if("function"!=typeof l)return;var d=new l;d.apply(s)}delete e.$dressedMap[u]}})},removeAll:function(){var e=this.$dressedMap;Object.keys(e).forEach(function(t){var n=e[t];try{n.remove()}catch(e){console.log(e)}})},_treeDecorationValid:function(e){return e&&"treeDecoration"===e.type},_treeMainValid:function(e){return e&&"treeMain"===e.type}});t.default=y},,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=r(i),a=n(31),s=(r(a),n(2)),u=r(s),c=n(392),l=r(c),d=n(391),f=r(d),p=n(393),h=r(p);n(575);var v="lock_tree_dialog",m={hasAutoShow:!1,init:function(){h.default.init()},hide:function(){if(!o.default.lock.isLocked(v)){h.default.hide();try{luna.afcommon.ui.treeDialog.hide()}catch(e){}}},autoShow:function(){if(!this.hasAutoShow&&!o.default.lock.isLocked(v)){o.default.lock.lock(v,2e3),this.hasAutoShow=!0;var e=this._getCondition();l.default.show(e,function(t){t||setTimeout(function(){h.default.show(e)},600)})}},showText:function(){if(!o.default.lock.isLocked(v)){o.default.lock.lock(v,1e3);var e=this._getCondition();h.default.show(e)}},showGuideCoWater:function(e){var t={icon:"https://gw.alipayobjects.com/zos/rmsportal/CPufgPQpZoxmJRvxRHVJ.png",title:"来合种浇水",subtitle:"让我们的树快快长大",btnText:"去浇水",link:"alipays://platformapi/startapp?appId=66666886",spm:"c8085.d30115"};f.default.show(t,e)},_getCondition:function(){var e=window.AF_STORE,t={self:u.default.home.isMyself(),friend:u.default.home.isFriend(),hasDress:!!e.state.dress.treeDress};return t}};t.default=m},function(e,t,n){e.exports={default:n(458),__esModule:!0}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=navigator.userAgent,t=e.match(/AlipayClient\/(\d+\.\d+\.\d+(\.\d+)?)/);return t?t[1]:"0"}function o(e,t,n){var r=e&&e.extInfo&&e.extInfo[t];return n&&(r=!!r),r}function a(e){if(!e)return!1;var t=e.extInfo,n=!0;if(t){if(t.minAppVersion){var r=i();n=luna.version.compare(r,t.minAppVersion,!0)>=0}if(n&&t.minH5Version){var o=/^\d+\.\d+\.(\d+)\.\d+$/i,a=l.default.native.getStartupParams().version||"",s=t.minH5Version.match(o),u=a.match(o);s&&s[1]&&u&&u[1]&&(n=u[1]>=s[1])}}return n}function s(e){var t=!1;return e&&a(e)&&(t=e&&e.extInfo&&"Y"===e.extInfo.isBigPromotion),t}function u(e){var t=null;if(e){var n=a(e);n?t={image:e.background,title:e.title,richText:o(e,"eventRichText"),url:e.eventUrl}:e.subText&&e.subText&&(t={image:e.subText,title:e.title,richText:"",url:e.btnText})}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getExtData=o,t.checkVersion=a,t.isBigPromotion=s,t.getTplData=u;var c=n(3),l=r(c)},,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return d?d:d="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(254),a=r(o),s=n(2),u=r(s),c=n(3),l=r(c);n(569);var d,f={gotoAntfarm:!1,$store:{},init:function(e,t){return this.$store=e,this.container=t.container,this.$antfarm=$(this.container),this.initGotoFarmEvents(),this.checkSkipAntfarm()?void $(this.container).addClass("skip-antfarm"):(this.antfarmService=new a.default({bizType:"ANTFOREST"}),this.initAntfarm(),void this.checkChickenStatus())},update:function(){if(!this.checkSkipAntfarm()){var e=!0;this.checkChickenStatus(e)}},checkSkipAntfarm:function(){var e=u.default.drm.get("skipAntfarmEntry"),t="Y"===u.default.properties.get("degradeAntfarmQuery");return t||e},initAntfarm:function(){this.$antfarm.show()},checkChickenStatus:function(e){var t=this;this.antfarmService.queryInfo({},function(n,r){return new(i())(function(o,a){var s,u,c,d,f,p,h,v,m,y,g,b,_;return n||!r.success?($(t.container).addClass("error-antfarm"),o()):i().resolve(l.default.native.getUserId()).then(function(n){try{return s=n,u=r.animalList||[],c=u.filter(function(e){return e.masterUserInfoVO&&e.masterUserInfoVO.userId===s})[0]||{animalStatusVO:{}},d=u.filter(function(e){return e.masterUserInfoVO&&e.masterUserInfoVO.userId!==s}),f=d[0],p=d[1],h=void 0,v=void 0,m=c.animalStatusVO,f&&(h=f.animalStatusVO),p&&(v=p.animalStatusVO),y="",v&&(y="GUEST"===p.subAnimalType?"EATING"===v.animalFeedStatus?"right-guest-eating":"right-guest-hungry":"EATING"===v.animalFeedStatus?"right-eating":"right-hungry"),g="",h&&(g="GUEST"===f.subAnimalType?"EATING"===h.animalFeedStatus?"left-guest-eating":"left-guest-hungry":"EATING"===h.animalFeedStatus?"left-eating":"left-hungry"),b="",b=r.openFarm&&m?"HOME"!==m.animalInteractStatus?"without-home":"EATING"===m.animalFeedStatus?"home-eating":"INJURED"===c.animalBuff?"home-pangzou":g||y?"home-beichi":"home-hungry":"not-open-farm",_={mine:b,left:g,right:y},e?t.updateChickenStatus(_):t.renderChickenStatus(_),t.status=b,Tracert.expo("c8085.d31359","",{chickenStatus:status}),o()}catch(e){return a(e)}}.bind(this),a)}.bind(this))})},renderChickenStatus:function(e){this.statusClass=e;var t=this.getDOMByStatus(e);this.$antfarm.html(t),this.$antfarm.find(".chicken").addClass("show"),this.$antfarm.addClass("animated")},updateChickenStatus:function(e){var t=this;if(this.statusDiff(e)){this.statusClass=e;var n=this.getDOMByStatus(e);this.$antfarm.find(".chicken").removeClass("show").addClass("hide"),setTimeout(function(){t.$antfarm.html(n),setTimeout(function(){t.$antfarm.find(".chicken").removeClass("hide").addClass("show"),setTimeout(function(){t.$antfarm.addClass("animated")},100)},20)},500)}},initGotoFarmEvents:function(){var e=this;this.$antfarm.on("click",function(){u.default.goto.antfarmHome(),e.gotoAntfarm=!0,Tracert.click("c8085.d31359",{chickenStatus:e.status})})},statusDiff:function(e){var t=this.statusClass,n=e;if(!t)return!0;var r=!1;return Object.keys(n).some(function(e){if(n[e]!==t[e])return r=!0,!0}),r},getDOMByStatus:function(e){var t=e.mine,n=e.left,r=e.right,i="";"home-hungry"!==t&&"without-home"!==t&&"not-open-farm"!==t||(i="no-shadow");var o=t?'<div class="mine-status _'+t+" "+i+'"><div class="'+t+'" role="img"></div></div>':"",a=n?'<div class="left-status"><div class="'+n+'" role="img"></div></div>':"",s=r?'<div class="right-status"><div class="'+r+'" role="img"></div></div>':"";return'<div class="fence" role="img"></div><div class="chicken">'+a+s+o+"</div>"}};t.default=f},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.EVENTS=void 0;var i=n(7),o=r(i),a=new o.EventEmitter;t.default=a;t.EVENTS={AF_COMMON_HOME_ERROR:"AF_COMMON_HOME_ERROR"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return m?m:m="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=r(o),s=n(5),u=r(s),c=n(3),l=r(c),d=n(23),f=r(d),p=n(380),h=r(p),v=n(379);n(571);var m,y=l.default.native.toast;t.default={$ele:null,$payBtn:null,opts:null,loading:!1,show:!1,start:function(e){return new(i())(function(t,n){var r,o,a,s;return r=this,this.show?t():(this.show=!0,this.opts=e,i().resolve(l.default.storage.get(l.default.storage.KEY.HONGBAO_VAL)).then(function(e){try{return o=e,a={isAndroid:luna.deviceType.android,remark:this._getRemark(),amount:o?o.amount:"",count:o?o.count:""},s=luna.template(h.default)(a),$("body").append(s),l.default.html.forbidBodyScroll(),this.loading=!1,setTimeout(function(){r._bindEvent()},17),Tracert.expo("c49914"),t()}catch(e){return n(e)}}.bind(this),n))}.bind(this))},_bindEvent:function(){var e=this,t=$("#J_hongbaoWater");this.$ele=t,t.find(".J_close").on("click",function(t){e._close()}),$("#J_payChange").on("click",function(t){e._changeFormValue(),Tracert.click("c49914.d102720")});var n=$("#J_payBtn");this.$payBtn=n,n.on("click",function(t){e._pay(),Tracert.click("c49914.d102719")}),$("#J_payNum, #J_payCount").on("blur",function(e){var t=(0,v.inputHandler)(e.target,!0),r=e.target.dataset.type,i="dis_"+r;t?n.removeClass(i):n.addClass(i)}).on("focus",function(e){(0,v.inputHandler)(e.target);var t=e.target.dataset.type;Tracert.click("num"===t?"c49914.d102722":"c49914.d102721")}).on("input change",function(e){(0,v.inputHandler)(e.target)})},_getFormValue:function(){var e=$("#J_payNum").val(),t=$("#J_payCount").val(),n=$("#J_payRemark").text(),r={amount:e,count:t,remark:n},i=(0,v.inputValid)(r,this.opts);return i},_pay:function(){return new(i())(function(e,t){var n,r,o,s,u,c,d,f;return n=this,this.loading?e():(this.loading=!0,r=a.default.logger.errorCommon,o=a.default.logger.infoCommon,s=this._getFormValue(),s.success?(u=s.data,i().resolve(this._getRedPacket(u)).then(function(s){try{return c=s,c.success?(l.default.storage.set(l.default.storage.KEY.HONGBAO_VAL,{amount:u.amount,count:u.count}),i().resolve(this._tradePay(c.depositOrderNo,c.extInfo.bizType)).then(function(i){try{return f=i,setTimeout(function(){n.loading=!1},1e3),9e3===+f.resultCode?(this._paySuccess(c.packetNo),o("HONGBAO",{packetNo:c.packetNo,code:f.resultCode})):(this._payError(f.resultCode,c.packetNo),r("HONGBAO",f.resultCode,c.packetNo)),e()}catch(e){return t(e)}}.bind(this),t)):(setTimeout(function(){n.loading=!1},1e3),d=c.error,y(d.resultDesc),r("HONGBAO",d.resultCode,d.resultDesc),"RED_PACKET_CIF_NOT_REAL"===d.resultCode&&a.default.hongbao.verified("place"),e())}catch(e){return t(e)}}.bind(this),t)):(s.error&&y(s.error),s.for&&this.$payBtn&&this.$payBtn.addClass("dis_"+s.for),r("HONGBAO",s.error),setTimeout(function(){n.loading=!1},500),e()))}.bind(this))},_getRedPacket:function(e){return new(i())(function(t,n){var r,o,s,u;return r=e.amount,o=e.count,s=e.remark,i().resolve(a.default.rpc.placeRedPacket(r,o,s)).then(function(e){try{return u=e,t(u)}catch(e){return n(e)}}.bind(this),n)}.bind(this))},_tradePay:function(e,t){return new(i())(function(n){u.default.call("tradePay",{tradeNO:e,bizType:t},function(e){e.error&&!e.resultCode&&(e.resultCode=e.error),n(e)})})},_paySuccess:function(e){this._close(),a.default.rpc.confirmRedPacketPaid(e),window.AF_STORE.commit("hongbao/updateRedpacket",{packetNo:e,init:!0});var t=!1,n=f.default.confirm({cont:"邀请好友来浇水领红包",okBtnText:"去邀请",cancleBtnText:"取消",textAlign:"center",onOkBtn:function(){if(!t){t=!0;var e=[];a.default.hongbao.inviteFriend("HONGBAO_INVITE",e),f.default.close(n),t=!1,Tracert.click("c49914.d113162")}}});Tracert.expo("c49914.d113162")},_payError:function(e,t){switch(a.default.rpc.cancelRedPacketPayment(t),+e){case 1002:y("人气太旺，请稍后");break;case 4e3:break;case 8e3:case 6004:y("服务器开小差了，请刷新重试");break;case 6002:y("服务器开小差了，请刷新重试");break;case 6001:case 99:}},_getRemark:function(e){var t=e,n=this.opts.options;try{var r=n[Math.floor(n.length*Math.random())].remark;t=r!==e?r:this._getRemark(e)}catch(e){}return t},_changeFormValue:function(){var e=$("#J_payRemark"),t=e.text(),n=this._getRemark(t);e.text(n)},_close:function(){this.$ele&&this.$ele.remove(),this.$ele=null,this.show=!1,l.default.html.allowBodyScroll()}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(){return u?u:u="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}function a(){return new(o())(function(e,t){var n,r;return n="Y"!==f.default.properties.get("de2"),o().resolve(f.default.devices.hasEffect("waterEffect")).then(function(i){try{return r=i,e(n&&r)}catch(e){return t(e)}}.bind(this),t)}.bind(this))}function s(){var e=null;try{e=l.app.root.childMap.effectContainer}catch(e){}return e}Object.defineProperty(t,"__esModule",{value:!0});var u,c=n(7),l=i(c),d=n(2),f=r(d),p=2800,h=150,v=10,m=0,y=function(){var e=[-1,-1],t=function t(n,r,i){var o=n+Math.random()*(r-n);return o=i?Math.floor(o-o%i):o,e.indexOf(o)>=0?t(n,r,i):(e.shift(),e.push(o),o)};return t}(),g={fallSomething:function(e){return new(o())(function(t,n){var r,i,u,c;return r=this,i=s(),e&&i?o().resolve(a()).then(function(o){try{return(u=o)?(c=0,this._resetFall(),m=setInterval(function(){var t=new l.CustomSprite({image:e}),n=100,o=y(n+0,n+750,80);t.x=o;var a=l.MoveTo(p,{x:o-2*n,y:1150});a.onComplete=function(){i.removeChild(t),t.renderable=!1,t.destroy(),t=null},t.runAction(a),i.addChild(t),++c,c>=v&&r._resetFall()},h),t()):t()}catch(e){return n(e)}}.bind(this),n):t()}.bind(this))},_resetFall:function(){clearInterval(m)}};t.default=g},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){var n=t.fromUser;if(n){var r=new a.CustomContainer,i=new a.Graphics;i.beginFill(16777215),i.drawCircle(16,20,16),i.endFill(),i.x=0,i.y=0,r.addChild(i);var o=n.headPortrait,s=n.displayName.length>6?n.displayName.substring(0,6)+"...":n.displayName,u=a.Sprite.fromImage(o);u.width=30,u.height=30,u.x=1,u.y=5;var c=new a.Graphics;c.lineStyle(0),c.beginFill(16777215),c.drawCircle(16,20,15),c.endFill(),u.mask=c,r.addChild(c),r.addChild(u);var l={fontSize:24,padding:5,fontWeight:"normal",fill:"#DC9423"},d=new a.CustomText(s,l,"BIZTEXT"+e._num%3);d.x=38,d.y=8,r.addChild(d),r.x=(e.width-(d.width+18))/2,r.y=135,e.addChild(r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),a=r(o);t.default={bizTextOfUserinfo:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(){return u?u:u="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),s=i(a);n(429),n(397),n(398),n(400),n(399),n(401),n(402);var u,c=n(3),l=r(c),d=n(2),f=r(d),p=n(418),h=r(p),v=n(415),m=r(v),y=n(409),g=r(y),b=n(416),_=r(b),w=n(410),C=r(w),T=n(420),k=r(T),E=n(421),P=r(E),A=n(411),S=r(A),x=n(414),O=r(x),I=n(419),M=r(I),R=n(46),D=r(R),L=n(47),F=r(L),B=n(20),N=r(B),j=n(104),U=r(j),z=n(426),H="J_treeCanvas",W={showFPS:!1,viewTouched:!0,referWidth:375,height:562,dpi:2,canvasId:H,renderType:2,renderOptions:{backgroundColor:10017023,transparent:!1},extraContextAttributes:{alpha:!1,antialias:!1}},V={initTinyOption:function(){return new(o())(function(e,t){var n,r,i,a,s=function(){try{return e()}catch(e){return t(e)}}.bind(this),u=function(e){try{throw e}catch(e){return t(e)}}.bind(this);try{return n=luna.urlParam.get("fps"),W.showFPS=!!n,o().resolve((0,z.getCustomFPS)()).then(function(t){try{return r=t,W.fps=r,o().resolve(f.default.devices.useWebgl()).then(function(t){try{return(i=t)?(delete W.renderType,f.default.logger.info("DEVICE-WEBGL",{type:1}),e()):(a=f.default.devices.noAcceleration(),a&&(W.extraContextAttributes={acceleration:!1}),s())}catch(e){return u(e)}}.bind(this),u)}catch(e){return u(e)}}.bind(this),u)}catch(e){u(e)}}.bind(this))},init:function(){var e=this;if(s.app&&(s.app.destroy({children:!0}),s.app._tickerHandlers=[],s.app._updatePoll={},s.app._currentScene=null,s.app.root=null,s.app.resources={}),s.app=this.tinyApp=new s.Application(W),s.app.root=this.root=new s.CustomContainer,this.root.name="rootContainer",this.tinyApp.resources=s.resources||{},this.tinyApp.run(this.root),H instanceof HTMLElement){var t=document.getElementById("J_treeContainer");t.innerHTML="",t.appendChild(H)}else H=s.app.view;var n=s.app.root.state.theme;n=U.default.checkTheme(n,!0),n?U.default.loadTheme(n,function(t){e._render(),t&&e._renderTheme(n)}):U.default.loadBase(function(t){e._render()}),D.default.clean()},_render:function(){this._addFrameContainer(),this._initEvents(),(0,z.bindScroll)();var e=window.AF_STORE.dispatch;f.default.home.isMyself()?e("autoPopupNext"):f.default.home.isFriend()&&e("tree/initBubbles")},_renderTheme:function(e){return new(o())(function(t,n){var r,i;return o().resolve(f.default.devices.hasEffect("themeEffect")).then(function(o){try{r=o,i={isMyself:f.default.home.isMyself(),hasEffect:r};try{luna.res[e.name].draw(i)}catch(e){}return t()}catch(e){return n(e)}}.bind(this),n)}.bind(this))},_addFrameContainer:function(){this.root.addChild(new h.default(N.default.skyLayer)),this.root.addChild(new m.default(N.default.groundLayer)),this.root.addChild(new M.default(N.default.treeLayer)),this.root.addChild(new P.default),this.root.addChild(new g.default(N.default.bubblesLayer)),this.root.addChild(new _.default(N.default.shieldLayer)),this.root.addChild(new C.default),this.root.addChild(new k.default(N.default.treeLayer.waterLayer)),this.root.addChild(new S.default),this.root.addChild(new O.default(N.default.entriesLayer)),F.default.init(),l.default.html.loadingFadeOut();var e=Math.floor(performance?performance.now():0);e-=window._reuseStart||0,window._useTs=e,f.default.logger.info("PAGE-LOAD-TIME",{use:e,reuse:!!window._reuseStart,fps:W.fps})},_initEvents:function(){var e=function(){s.app.pause()};e.toString=function(){return"pause_tiny"};var t=function(){return new(o())(function(e,t){var n;return s.app.resume(),o().resolve((0,z.getCustomFPS)()).then(function(r){try{return n=r,s.Application.FPS=n,e()}catch(e){return t(e)}}.bind(this),t)}.bind(this))};t.toString=function(){return"resume_tiny"},l.default.event.addEventListenerUniq("pause",e,null,!0),l.default.event.addEventListenerUniq("resume",t,null,!0);var n=H.getContext("webgl");n&&H.addEventListener("webglcontextlost",function(){s.app.stage&&f.default.logger.errorCommon("WEBGL",n.getError())});var r=function(){var e=375,t=562,n=document.documentElement.clientWidth/e*t;H.style.height=n+"px"};r.toString=function(){return"resize_canvas"},l.default.event.addEventListenerUniq("resize",r,window,!0)}};t.default=V},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(){return a?a:a="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(8),u=i(s),c=n(61),l=i(c),d=u.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=n(7),p=r(f),h=n(3),v=i(h),m=n(427),y=i(m),g=n(428),b=i(g),_={themeLoaded:{},loadResources:function(){var e=this;return new(o())(function(t,n){e.loadBase(function(r,i){if(r){var o=e.checkTheme();o?e.loadTheme(o,function(e,n){t(!0)}):t(!0)}else n(i)})})},loadBase:function(e){var t=this;if(this.themeLoaded.base){window.__THEME__.setThemeRes("base");var n=!0;return void e(n)}var r=new p.loaders.Loader,i=!1,o=y.default.getResource(),a=(0,l.default)(o),s=v.default.storage.getLS(v.default.storage.KEY.MAIN_TREE_DRESS);
s&&a.push({url:s,loadType:p.loaders.Resource.LOAD_TYPE.IMAGE}),r.run({resources:a,onProgress:function(n){if(n>=99.99&&!i){i=!0,t.themeLoaded.base=!0,window.__THEME__.setThemeRes("base",{load:o,online:b.default});var r=!0;e(r)}},onError:function(t,n,r){if(!i){i=!0;var o=t.lastIndexOf(","),a=t.substr(0,o);a=a+"("+r.url+")";var s=!1;e(s,a)}},onAllComplete:function(){p.resources=d({},p.resources,r.resources)}})},loadTheme:function(e,t){var n=this,r=e.name,i=e.version;if(console.log("加载当前主题资源："+r+"===="+i),this.themeLoaded[r]){window.__THEME__.setThemeRes(r);var o=!0;return void t(o)}var a="https://gw.alipayobjects.com/as/g/h5app-bj-resource/af/"+i+"/res.js";v.default.html.loadScript(a,function(){if(luna.res[r]&&"function"==typeof luna.res[r].loader)luna.res[r].loader(function(e,i){e&&(n.themeLoaded[r]=!0,window.__THEME__.setThemeRes(r,i)),t(e)});else{var e=!1;t(e,"no theme "+r)}},function(){var e=!1;t(e,"theme js load error")},3e3)},checkTheme:function(e,t){var n=v.default.time.now(),r="",i="0.0.0",o=v.default.html.getIOSVersion(),a=v.default.html.getAndroidVersion();if(a<6&&o<9)return null;if(luna.version.lt("10.1.25"))return null;var s=v.default.storage.getLS(v.default.storage.KEY.THEME),u=t?e:e||s;if(u){var c=u.name,l=u.version,d=u.startTime,f=void 0===d?0:d,p=u.endTime,h=void 0===p?0:p;f&&h?n>+f&&n<h&&(r=c,i=l):(r=c,i=l)}return r?v.default.storage.setLS(v.default.storage.KEY.THEME,u):v.default.storage.setLS(v.default.storage.KEY.THEME,""),r?{name:r,version:i}:null}};t.default=_},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r;n(545);var i=n(6)(n(313),n(231),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;n(531);var i=n(6)(n(314),n(217),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;n(557);var i=n(6)(n(315),n(244),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;n(549);var i=n(6)(n(316),n(236),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;n(542);var i=n(6)(n(317),n(228),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;n(527);var i=n(6)(n(318),n(212),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;n(526);var i=n(6)(n(319),n(211),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;n(536);var i=n(6)(n(320),n(223),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;r={},r.userinfo=function(){var e=n(195);return e=e.default||e}(),r.cooperation=function(){var e=n(179);return e=e.default||e}(),n(528);var i=n(6)(n(321),n(214),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;n(537);var i=n(6)(n(322),n(224),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;r={},r.ListView=function(){var e=n(58);return e=e.default||e}(),r["v-avatar"]=function(){var e=n(16);return e=e.default||e}(),n(529);var i=n(6)(n(323),n(215),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;r={},r.Swiper3=function(){var e=n(30);return e=e.Swiper3}(),r.SwiperSlide=function(){var e=n(30);return e=e.SwiperSlide}(),r["feed-item"]=function(){var e=n(85);return e=e.default||e}(),r.charity=function(){var e=n(178);return e=e.default||e}(),n(559);var i=n(6)(n(324),n(246),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;r={},r["tree-panel"]=function(){var e=n(194);return e=e.default||e}(),r["barrier-free"]=function(){var e=n(176);return e=e.default||e}(),r["tree-canvas"]=function(){var e=n(193);return e=e.default||e}(),r.feed=function(){var e=n(185);return e=e.default||e}(),r["feed-friend"]=function(){var e=n(184);return e=e.default||e}(),r.rank=function(){var e=n(189);return e=e.default||e}(),r.recommand=function(){var e=n(190);return e=e.default||e}(),r.donation=function(){var e=n(180);return e=e.default||e}(),r.props=function(){var e=n(188);return e=e.default||e}(),r.task=function(){var e=n(192);return e=e.default||e}(),r.pk=function(){var e=n(187);return e=e.default||e}(),r["barrage-panel"]=function(){var e=n(84);return e=e.default||e}(),r.fanghua=function(){var e=n(183);return e=e.default||e}(),r.water=function(){var e=n(196);return e=e.default||e}(),r["cdp-ad"]=function(){var e=n(177);return e=e.default||e}(),r.stranger=function(){var e=n(191);return e=e.default||e}(),n(560);var i=n(6)(n(325),n(248),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;r={},r.Swiper3=function(){var e=n(30);return e=e.Swiper3}(),r.SwiperSlide=function(){var e=n(30);return e=e.SwiperSlide}(),r["v-avatar"]=function(){var e=n(16);return e=e.default||e}(),n(525);var i=n(6)(n(326),n(209),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;n(558);var i=n(6)(n(327),n(245),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;r={},r["v-avatar"]=function(){var e=n(16);return e=e.default||e}(),n(553);var i=n(6)(n(328),n(240),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;r={},r["v-avatar"]=function(){var e=n(16);return e=e.default||e}(),n(554);var i=n(6)(n(329),n(241),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;n(539);var i=n(6)(n(330),n(225),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;n(564);var i=n(6)(n(331),n(252),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;n(538);var i=n(6)(n(332),null,null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;r={},r.entries=function(){var e=n(182);return e=e.default||e}(),r.barrage=function(){var e=n(175);return e=e.default||e}(),r.antfarm=function(){var e=n(174);return e=e.default||e}(),r.weather=function(){var e=n(197);return e=e.default||e}(),r.doubleCollect=function(){var e=n(181);return e=e.default||e}(),n(548);var i=n(6)(n(333),n(234),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;r={},r["v-avatar"]=function(){var e=n(16);return e=e.default||e}(),n(551);var i=n(6)(n(334),n(238),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;n(550);var i=n(6)(n(335),n(237),null,null,r);t.__esModule=!0,t.default=i.exports},function(e,t,n){var r;n(555);var i=n(6)(n(336),n(242),null,null,r);t.__esModule=!0,t.default=i.exports},,,,,,,,,,,,function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"af-pk-wrap"},[e.pkData.length?n("swiper3",{ref:"swiper",attrs:{options:{loop:!1,speed:300,resistanceRatio:0,pagination:e.pkData.length>1&&".swiper-pagination"},"wrapper-class":"af-pk swiper-wrapper"}},[e._l(e.pkData,function(t){return n("swiper-slide",{key:t.type},[n("div",{class:["af-pk-block",t.type+"-collect"]},[n("div",{staticClass:"af-pk-title t2-ignore"}),e._v(" "),n("div",{staticClass:"af-pk-compare"},[n("div",{class:{"af-pk-user":!0,won:"LEFT_WON"===t.pkResult}},[n("v-avatar",{key:t.target.userId,staticClass:"af-pk-avatar",attrs:{url:t.target.headPortrait}}),e._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"text"},[e._v("\n                "+e._s("help"===t.type?e.t("pkHelpLeft"):e.t("pkRobLeft"))+"\n              ")]),e._v(" "),n("div",{staticClass:"energy"},[e._v(e._s(e._f("parseEnergy")(t.target.collectEnergy)))])])],1),e._v(" "),n("div",{class:{"af-pk-vs":!0,equal:"EQUAL"===t.pkResult}},[n("div",{staticClass:"icon-txt t2-ignore"})]),e._v(" "),n("div",{class:{"af-pk-user":!0,won:"RIGHT_WON"===t.pkResult,right:!0}},[n("v-avatar",{key:t.my.userId,staticClass:"af-pk-avatar",attrs:{url:t.my.headPortrait}}),e._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"text"},[e._v("\n                "+e._s("help"===t.type?e.t("pkHelpRight"):e.t("pkRobRight"))+"\n              ")]),e._v(" "),n("div",{staticClass:"energy"},[e._v(e._s(e._f("parseEnergy")(t.my.collectEnergy)))])])],1)])])])}),e._v(" "),n("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2):e._e()],1)},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"donation",staticClass:"home-donation",attrs:{"data-aspm":"c8087"}},[e.isLoaded?[n("div",{staticClass:"donation-logo",attrs:{"data-aspm-d":"d14162"},on:{click:e._gotoDonation}},[n("p",[e._v(e._s(e.t("bottomSlogan")))]),e._v(" "),e.isShow?n("div",{staticClass:"donator"},[n("img",{attrs:{alt:"爱心捐赠",src:"https://gw.alipayobjects.com/mdn/consumer_operation/afts/img/A*yP_mRbJu7MgAAAAAAAAAAABkARQnAQ"}}),e._v(" "),n("i",{staticClass:"af-icon-arrow-right"})]):e._e()])]:e._e()],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cooperation"},[e.cooperatePlant.cooperationId&&e.cooperateDynamics.length?n("div",{ref:"cooperateDynamics",staticClass:"af-cooperation-msg"}):e._e(),e._v(" "),n("div",{class:["entry","t2-ignore",e.cooperateType,e.cooperateStageClass],attrs:{role:"button","aria-label":"合种"},on:{click:e.onCooperateClick}})])},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home-entries"},[n("userinfo"),e._v(" "),e.isMe&&e.coLoaded?n("cooperation"):e._e()],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"friend-feed"},[e._m(0),e._v(" "),e.feedList.length?n("ul",{staticClass:"friend-feed-list"},[n("list-view",{ref:"listView",staticClass:"am-list",attrs:{"max-count":-1,"on-scroll-bottom":e.onBottom},scopedSlots:e._u([{key:"bottom",fn:function(t){return[n("div",{staticStyle:{"text-align":"center","font-size":"0.14rem",color:"#666"}},[t.loadAvailable&&t.loading?n("div",{on:{click:e.clickMore}},[e._v(e._s(e.t("loadMore")))]):t.loading?n("div",[e._v(e._s(e.t("loading")))]):t.loadFinish?n("div",[e._v(e._s(e.t("noMore")))]):t.loadError?n("div",[e._v(e._s(e.t("loadError")))]):e._e()])]}}])},e._l(e.feedList,function(t){return n("div",{key:t.bizNo,staticClass:"feed-box"},[t.feedDivide?n("li",{class:["feed-divide"]},[e._v("\n          "+e._s(t.feedDivide)+"\n        ")]):e.specialFeed(t)?n("li",{staticClass:"slide feed-item am-flexbox"},[n("div",{staticClass:"container"},[n("div",{staticClass:"wrapper",on:{touchstart:function(n){return e.touchstart(n,t)},touchend:e.clearLoop}},[n("v-avatar",{staticClass:"avatar",attrs:{url:t.friend?t.fromUser.headPortrait||"":""}}),e._v(" "),n("div",{staticClass:"content af-ellipsis"},[n("div",{staticClass:"name af-ellipsis"},[e._v(e._s(t.friend?t.fromUser.displayName:e.t("herFriend")))]),e._v(" "),n("div",{staticClass:"text af-ellipsis"},[e._v(e._s(t.content))])]),e._v(" "),n("div",{staticClass:"image"},[n("img",{staticClass:"t2-ignore",attrs:{src:t.properties.image}})])],1)]),e._v(" "),n("span",{staticClass:"time"},[e._v(e._s(e._f("parseTimeToHM")(t.bizDt)))])]):n("li",{staticClass:"slide feed-item am-flexbox"},[n("span",{class:["icon",t.type,"t2-ignore"],attrs:{role:"img"}}),e._v(" "),n("div",{staticClass:"content af-ellipsis"},["ENERGY_GIVE"===t.type||"COLLECT_PROP"===t.type?n("div",{staticClass:"pre"},[e._v("收取 ")]):e._e(),e._v(" "),"OPEN_PACKET"===t.type?n("div",{staticClass:"pre"},[e._v("领取了 ")]):e._e(),e._v(" "),n("div",{staticClass:"name af-ellipsis"},[e._v(e._s(t.friend?t.fromUser.displayName:e.t("herFriend")))]),e._v(" "),n("div",{staticClass:"text af-ellipsis"},[e._v(e._s("BARRAGE"===t.type?"留下一个脚印":t.content))])]),e._v(" "),n("span",{staticClass:"time"},[e._v(e._s(e._f("parseTimeToHM")(t.bizDt)))])])])}))],1):e.loading?e._e():n("p",{staticClass:"friend-feed-none"},[e._v("暂无最新动态，快和好友去互动吧#^_^#")])])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"friend-feed-header"},[n("div",{staticClass:"af-title title-feed"})])}]}},,function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"barrageWrap",staticClass:"af-barrage-wrap"})},staticRenderFns:[]}},,,,,,function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.doubleCollect.remainingTime>0?n("div",{staticClass:"af-dcollect"},[e.doubleCollect.init?n("div",{staticClass:"dcollect-anime"}):e._e(),e._v(" "),n("div",{class:"dcollect-tips t2-ignore af-digital-fontface "+(e.doubleCollect.init?"fade-out":"")},[e._v(e._s(e.remainTimeStr))])]):e._e()},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"slideshow"},on:{"after-enter":e.onAfterShow}},[e.showPanel?n("section",{staticClass:"af-fanghua af-slide af-mask-blank",on:{click:function(t){e.onMash(t)}}},[n("div",{staticClass:"box",attrs:{"data-aspm":"c45801"}},[n("div",{staticClass:"panel-title with-input"},[n("div",{staticClass:"close",attrs:{role:"button","aria-label":"关闭"},on:{click:e.onClose}}),e._v(" "),n("div",{staticClass:"panel-input",attrs:{role:"button","aria-label":"说点什么"},on:{click:e.onInputClick}},[e.hasSet&&"text"===e.configType&&e.configContent?n("p",{staticClass:"panel-input-txt"},[n("span",{staticClass:"txt-cont"},[e._v(e._s(e.configContent))]),e._v(" "),n("span",{staticClass:"txt-cancel",on:{click:e.onClickCancel}})]):n("p",[e._v("给你的好友留句话")])]),e._v(" "),n("div",{staticClass:"panel-btn"},[e._v("设置")])]),e._v(" "),n("div",{staticClass:"panel-cont"},[n("ul",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"fanghua-list",attrs:{"data-aspm-d":"d93470"}},e._l(e.list,function(t){return n("li",{key:t.id,class:{selected:e.selected===t.id,set:e.hasSet&&"emoji"===e.configType&&e.configContent===String(t.id)},on:{click:function(n){e.onClickItem(t)}}},[n("div",{staticClass:"li-img"},[n("img",{attrs:{src:t.image}})]),e._v(" "),n("div",{staticClass:"li-text af-ellipsis"},[e._v(e._s(t.content))]),e._v(" "),e.hasSet&&"emoji"===e.configType&&e.configContent===String(t.id)?n("div",{staticClass:"li-btn btn-cancel",on:{click:e.onClickCancel}},[e._v("取消放话")]):e.selected===t.id?n("div",{staticClass:"li-btn btn-set",on:{click:function(n){e.onClickItemBtn(t)}}},[e._v("放话")]):e._e()])})),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"record-entry",attrs:{"data-aspm-d":"d93469"},on:{click:e.onClickRecords}},[n("span",[e._v("放话记录")]),e._v(" "),e.viewCount?n("span",{staticClass:"view-count"},[e._v("被看"+e._s(e.viewCount)+"次")]):e._e(),e._v(" "),n("div",{staticClass:"records-arrow"})]),e._v(" "),e.loading?n("div",{staticClass:"load-text"},[e._v("加载中....")]):e._e()])])]):e._e()])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home-stranger"},[e.isFriend?e._e():n("div",{staticClass:"stranger-btn green",on:{click:e.onAddFriend}},[e._v(e._s(e.t("addFriend")))]),e._v(" "),n("div",{staticClass:"stranger-btn white",on:{click:e.onGoToHome}},[e._v(e._s(e.t("backToHome")))])])},staticRenderFns:[]}},,,function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.charityUrl?n("div",{staticClass:"charity"},[e.charityDesc[0]?n("span",[e._v(e._s(e.charityDesc[0]))]):e._e(),e._v(" "),n("img",{staticClass:"t2-ignore",attrs:{alt:e.charity.name,src:e.charity.dayIconUrl||e.charity.nightIconUrl},on:{click:function(t){e.onCharityClick(e.charity)}}}),e._v(" "),e.charityDesc[1]?n("span",[e._v(e._s(e.charityDesc[1]))]):e._e()]):e._e()},staticRenderFns:[]}},,,function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{ref:"antfarm",staticClass:"antfarm-container",attrs:{role:"button","aria-label":"蚂蚁庄园","data-aspm":"c8085.d31359"}})},staticRenderFns:[]}},,,function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home-panel",attrs:{id:"J_home_panel"}},[e.weatherShow?n("weather"):e._e(),e._v(" "),n("entries"),e._v(" "),n("div",{staticClass:"af-tree-dialog-wrap",attrs:{id:"J_tree_dialog_wrap"}}),e._v(" "),e.hasBarrage?n("barrage"):e._e(),e._v(" "),e.isMe&&"N"!==e.antfarmEntry?n("antfarm"):e._e(),e._v(" "),n("doubleCollect")],1)},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.imgInfo?n("section",{staticClass:"af-ad-wrap af-mask"},[n("div",{staticClass:"af-ad-cont",on:{click:e.onClickImg}},[n("img",{attrs:{src:e.imgInfo.imgUrl}}),e._v(" "),n("div",{staticClass:"af-mask-close",attrs:{role:"button","aria-label":"关闭"},on:{click:function(t){t.stopPropagation(),e.close(t)}}})])]):e._e()},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"slideshow"},on:{"before-enter":e.onBeforeShow,"after-enter":e.onAfterShow}},[e.show?n("section",{staticClass:"af-water af-slide af-mask",on:{click:function(t){e.onMash(t)}}},[n("div",{staticClass:"box",attrs:{"data-aspm":"c40283"}},[n("div",{staticClass:"special-bg"}),e._v(" "),n("div",{staticClass:"bar"},[n("p",{staticClass:"bar-btn"},[e._v("请选择为TA浇水的克数")])]),e._v(" "),n("div",{staticClass:"main"},[n("div",{staticClass:"selected-energy"},[n("transition-group",{attrs:{name:"energy-bubble",tag:"div"}},e._l(e.config,function(t,r){return n("div",{key:t.energy,class:["energy-bubble-item af-digital-fontface",e.isChoose(t,r)?"choose":"bubble-"+r]},[n("span",{staticClass:"text"},[e._v(e._s(t.energy)+"g")])])}))],1),e._v(" "),n("div",{staticClass:"title"},[e._v(e._s(e.selectedTitle))]),e._v(" "),n("div",{staticClass:"select-list"},e._l(e.config,function(t,r){return n("div",{key:t.energy,class:["select-item af-digital-fontface",e.isChoose(t,r)?"choose":""],attrs:{"aria-label":t.energy+"克","data-aspm-d":e.tracertId[r],role:"button"},on:{click:function(n){e.onChooseEnergy(t,r)}}},[e._v("\n            "+e._s(t.energy)+"g\n          ")])})),e._v(" "),e.showSendChat?n("div",{staticClass:"checkbox-tips",attrs:{"data-aspm-d":e.needSendChat?"d81400":"d81401"},on:{click:e.onCheckSendChat}},[n("div",{class:["checkbox-item",e.needSendChat?"selected":""]}),e._v(" "),n("span",{staticClass:"checkbox-text"},[e._v("提醒TA来收（7天不收会退回）")])]):n("div",{staticClass:"checkbox-tips"},[n("span",{staticClass:"checkbox-text"},[e._v("（7天不收会退回）")])]),e._v(" "),n("div",{class:["water-btn",e.btnDisable?"disabled":""],attrs:{role:"button","aria-label":"浇水送祝福","data-aspm-d":"d81402"},on:{click:e.onSendEnergy}},[e._v("\n          送给 TA\n        ")])]),e._v(" "),n("div",{staticClass:"close",attrs:{role:"button","aria-label":"关闭","data-aspm-d":"d81403"},on:{click:e.onClose}})])]):e._e()])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"af-userinfo"},[n("v-avatar",{staticClass:"avatar",attrs:{url:e.baseInfo.headPortrait,"data-aspm-d":"MYSELF"===e.pageState?"c8085.d14151":"c10632.d19508",role:"button","aria-label":"我的大树养成记录"},nativeOn:{click:function(t){e.onAvatar(t)}}},[e.noticeRedDot?n("div",{staticClass:"red-dot",staticStyle:{top:"-0.03rem",right:"-0.03rem"}}):e._e()]),e._v(" "),n("div",{staticClass:"energy af-digital-fontface"},[n("span",{attrs:{id:"J_userEnergy"}},[e._v(e._s("number"==typeof+e.treeEnergy.currentEnergy?e.treeEnergy.currentEnergy:"--")+"g")]),e._v(" "),n("transition",{attrs:{name:"energyAdd"}},[e.showAdd?n("span",{staticClass:"energy-add"},[e._v("+"+e._s(e.energyAdd))]):e._e()])],1),e._v(" "),"MYSELF"===e.pageState?n("button",{staticClass:"exchange-btn",attrs:{role:"button","aria-label":"种树","data-aspm-d":"c8085.d14152"},on:{click:e.onPlantTree}},[e._v(e._s(e.t("plant")))]):e._e()],1)},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.success?n("div",{staticClass:"home-rank",attrs:{"data-aspm":"c38003"}},[e._m(0),e._v(" "),e.rankTab.length>1?n("div",{staticClass:"af-rank-tab"},[e._l(e.rankTab,function(t,r){return[r>0?n("div",{key:t.type+"_devide",staticClass:"af-rank-devide"}):e._e(),e._v(" "),n("div",{key:t.type,class:{"af-rank-tab-bar":!0,act:t.type===e.type},staticStyle:{position:"relative"},attrs:{"data-aspm-d":t.d},on:{click:function(n){e.onClickTab(t.type)}}},[e._v("\n        "+e._s(t.name)+"\n        ")])]})],2):e._e(),e._v(" "),n("ul",{staticClass:"home-rank-list",style:{position:e.isBigPromotion?"relative":"static"}},[e.isBigPromotion&&e.rankList.length>1&&e.rankFriendTips?n("div",{staticClass:"af-bigPromotion-rank-tips",style:{backgroundImage:"url("+e.rankFriendTips+")"}}):e._e(),e._v(" "),e._l(e.rankList,function(t,r){return n("li",{key:t.userId,staticClass:"rank-item",on:{click:function(n){e.onRank(t,r)}}},[n("span",{class:["item-badge af-digital-fontface","item-badge-"+(r+1)]},[e._v(e._s(r>2&&t.rank!==-1?t.rank:""))]),e._v(" "),n("v-avatar",{staticClass:"item-avatar",attrs:{url:t.headPortrait}}),e._v(" "),t.rank!==-1&&t.treeAmount>0?n("div",{staticClass:"item-content af-ellipsis"},[n("div",{staticClass:"item-content-name af-ellipsis"},[e._v(e._s(t.displayName||e.t("oneFriend")))]),e._v(" "),n("div",{staticClass:"item-content-cert af-ellipsis"},[e._v(e._s(e.t("obtained"))+" "+e._s(t.treeAmount)+" "+e._s(e.t("certificates")))])]):n("div",{staticClass:"item-content af-ellipsis"},[n("div",{staticClass:"item-content-name af-ellipsis"},[e._v(e._s(t.displayName||e.t("oneFriend")))])]),e._v(" "),t.rank!==-1?n("div",{staticClass:"item-energy"},[e._v(e._s(t.energyStr))]):t.isInvited?n("div",{staticClass:"item-invite invited"},[e._v(e._s(e.t("invited")))]):n("div",{staticClass:"item-invite",attrs:{role:"button"},on:{click:function(n){n.stopPropagation(),function(n){return e.onInvite(n,t.userId,r)}(n)}}},[e._v(e._s(e.t("invite")))]),e._v(" "),t.handled?e._e():n("div",{staticClass:"item-corner af-digital-fontface"},["hongbao"===t.cornerDisplay?n("span",{staticClass:"item-corner-hongbao"}):"collect"===t.cornerDisplay?n("span",{staticClass:"item-corner-cancollect"}):"help"===t.cornerDisplay?n("span",{staticClass:"item-corner-canhelpcollect"}):"delay"===t.cornerDisplay?n("span",{staticClass:"item-corner-delaycollect"},[e._v(e._s(t._produceTime))]):e._e()])],1)})],2),e._v(" "),[e.rankList.length<=1?[e.isBigPromotion&&e.addFriendTips?n("div",{staticClass:"af-bigPromotion-rank-add",style:{backgroundImage:"url("+e.addFriendTips+")"},on:{click:e.onAddFriend}}):n("div",{staticClass:"home-rank-add",on:{click:e.onAddFriend}},[e._v(e._s(e.t("gotoAddFriends")))])]:e.hasMore?n("div",{staticClass:"home-rank-more",attrs:{"data-aspm-d":"d14160"},on:{click:e.onRankMore}},[e._v(e._s(e.t("viewMoreFriends")))]):e._e()]],2):e._e()},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home-rank-header"},[n("i",{staticClass:"af-title title-rank"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"homeUnknown",staticClass:"home-unknown"},[e.isLoaded&&"Y"!==e.degradeIndexInvite?[e.recommendUsers.length?n("div",{staticClass:"unknown-friend",attrs:{"data-aspm":"c14483"}},[e._m(0),e._v(" "),n("div",{staticClass:"unknown-list"},[e._l(e.recommendUsers,function(t){return n("div",{key:t.phoneNum,staticClass:"unknown-item"},[n("div",{staticClass:"unknown-image",on:{click:function(n){e._toUserProfile(t)}}},[n("v-avatar",{class:{"new-people":!t.alipayUser},attrs:{url:t.headPortrait}},[t.forestUser?e._e():n("p",{staticClass:"shield-text"},[e._v(e._s(e.t("shield"))+"x"+e._s(t.grantEnergyShieldNum))])])],1),e._v(" "),n("div",{staticClass:"unknown-user af-ellipsis"},[e._v(e._s(t.displayName))]),e._v(" "),n("div",{staticClass:"unknown-energy"},[t.forestUser?n("span",[e._v(e._s(e._f("parseEnergy")(t.energySummation||0))+" "+e._s(e.t("energy").toLowerCase()))]):n("span",[e._v(e._s(e.t("earnShields")))])]),e._v(" "),t.forestUser?n("div",{class:["unknown-btn add",t.isAdded&&"added"],attrs:{disabled:t.isAdded,"data-aspm-d":"d26905"},on:{click:function(n){e._addFriend(t)}}},[e._v(e._s(t.isAdded?e.t("added"):e.t("add")))]):n("div",{class:["unknown-btn invite",t.isInvited&&"invited"],attrs:{disabled:t.isInvited},on:{click:function(n){e._inviteNewPeople(t)}}},[e._v(e._s(t.isInvited?e.t("invited"):e.t("inviteGift")))])])}),e._v(" "),n("div",{staticClass:"unknown-item",on:{click:e._onGotoRecommandMore}},[e._m(1),e._v(" "),n("div",{staticClass:"unknown-user"},[e._v("可能认识的人")]),e._v(" "),n("div",{staticClass:"unknown-energy"}),e._v(" "),n("div",{staticClass:"unknown-btn more"},[e._v("\n            "+e._s(e.t("more"))+" >\n          ")])])],2)]):e._e(),e._v(" "),e.showNewPeople?n("div",{staticClass:"unknown-new",attrs:{"data-aspm":"c14484"}},[e._m(2),e._v(" "),n("div",{staticClass:"unknown-box",attrs:{"data-aspm-d":"c14484.d26910"},on:{click:e._gotoNewPeople}},[n("div",{staticClass:"icon"}),e._v(" "),e._m(3),e._v(" "),n("div",{staticClass:"btn-more"},[e._v("去邀请")])])]):e._e()]:e._e()],2)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"unknown-title"},[n("i",{staticClass:"af-title title-unknown"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"unknown-image"},[n("div",{staticClass:"af-avatar new-people"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"unknown-title"},[n("i",{staticClass:"af-title title-newpeople"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content af-ellipsis"},[n("p",{staticClass:"af-ellipsis"},[e._v("邀请好友送能量保护罩")]),e._v(" "),n("p",{staticClass:"af-ellipsis"},[e._v("快来邀请好友一起种树")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.city&&e.temperature?n("div",{class:["af-weather",e.weatherCode]},[n("div",{staticClass:"temperature"},[e._v(e._s(e.temperature)+"°")]),e._v(" "),n("div",{staticClass:"right"},[n("div",{staticClass:"city af-ellipsis"},[e._v(e._s(e.city))]),e._v(" "),n("div",{staticClass:"bottom"},[n("div",{staticClass:"weather"},[e._v(e._s(e.weather))]),e._v(" "),n("div",{class:["icon",e.weatherCode,"t2-ignore"],attrs:{role:"img"}})])])]):e._e()])},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",{staticClass:"barrier-free",attrs:{id:"J_barrier_free","data-aspm":e.self?"c8085":"c10632"}},[e.self&&e.activity&&e.activity.icon?n("div",{staticClass:"entry-item activity",attrs:{"aria-label":e.activity.title,role:"button",tabindex:"0","data-aspm-d":"d17108"}},[e._v(" ")]):e._e(),e._v(" "),n("div",{staticClass:"entry-item real",attrs:{"aria-label":"看林区",role:"button","data-aspm-d":"d49133"}},[e._v(" ")]),e._v(" "),e._l(e.bubbles,function(t,r){return n("div",{key:t.id,staticClass:"ball-item",style:{top:t.style.y+"px",left:t.style.x+"px"},attrs:{"aria-label":t.isAvailable?"收集能量"+t.remainEnergy+"克":"",tabindex:r,"data-aspm-d":e.self?"d19514":"d19707",role:"button"}},[e._v(" ")])}),e._v(" "),e._l(e.entries,function(t,r){return n("div",{key:r,class:["entry-item",t.class],attrs:{"data-aspm-d":t.d,"aria-label":t.label,tabindex:r+e.bubbles.length,role:"button"}},[e._v(" ")])})],2):e._e()},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"slideshow"},on:{"after-enter":e.onAfterShow}},[e.show?n("section",{staticClass:"af-props af-slide af-mask-blank",on:{click:function(t){e.onMash(t)}}},[n("div",{staticClass:"box",attrs:{"data-aspm":"c22072"}},[n("div",{staticClass:"tab-bar"},[n("p",{class:{"bar-btn":!0,act:!!e.showDress&&1===e.show},on:{click:function(t){e.onChangeTab(1)}}},[e._v(e._s(e.isMyself?"道具":"我的道具"))]),e._v(" "),e.showDress?n("p",{class:{"bar-btn":!0,act:2===e.show},on:{click:function(t){e.onChangeTab(2)}}},[e._v("装扮")]):e._e()]),e._v(" "),1===e.show&&e.forestPropVOList&&e.forestPropVOList.length?n("div",{staticClass:"tools-tab-cont props",attrs:{"data-aspm-d":"d40586"}},[n("div",{staticClass:"block-border"}),e._v(" "),e._l(e.forestPropVOList,function(t){return[n("div",{key:t.id,staticClass:"cont-block"},[n("div",{staticClass:"tool-name"},[e._v(e._s(t.name))]),e._v(" "),[t.recentExpireTimeStr?n("div",{staticClass:"tool-tips"},[e._v("\n                "+e._s(t.recentExpireTimeStr)+"前有效\n              ")]):t.subTitle?n("div",{staticClass:"tool-desc"},[e._v(e._s(t.subTitle))]):n("div",{staticStyle:{height:"0.26rem"}})],e._v(" "),n("div",{staticClass:"tool-img"},[n("img",{attrs:{src:t.imageUrl,alt:""}}),e._v(" "),t.holdsNum>1?n("div",{staticClass:"tool-num"},[e._v("x"+e._s(t.holdsNum>999?"999+":t.holdsNum))]):e._e()]),e._v(" "),e.isMyself?[n("div",{staticClass:"tool-btn",on:{click:function(n){e.onPropCard(t,n)}}},[e._v("使用")]),e._v(" "),t.canGive&&"N"===e.de6?n("div",{staticClass:"corner handsel",on:{click:function(n){e.onPropSend(t,"self_corner")}}}):e._e()]:[n("div",{staticClass:"tool-btn",on:{click:function(n){e.onPropSend(t,"friend_btn")}}},[e._v("赠送")])]],2)]}),e._v(" "),n("div",{staticClass:"block-border"})],2):2===e.show&&e.showDress&&e.dressList.length?n("div",{staticClass:"tools-tab-cont dress",attrs:{"data-aspm-d":"d40587"}},[n("div",{staticClass:"block-border"}),e._v(" "),e._l(e.dressList,function(t){return[n("div",{key:t.dressType,class:["cont-block",t.batchType]},[n("div",{staticClass:"tool-name"},[n("span",{staticClass:"name"},[n("span",{staticClass:"center"},[e._v(e._s(t.name))])])]),e._v(" "),+t.count>0?n("span",{staticClass:"tool-num"},[e._v(e._s(e.degradeIndexDress?t.count:t.remainNum)+"/"+e._s(t.count))]):e._e(),e._v(" "),n("div",{staticClass:"tool-icon",on:{click:function(n){e.onDressShow(t)}}},[n("img",{attrs:{src:t.panelIcon}})]),e._v(" "),(e.degradeIndexDress?t.count>=0:t.remainNum>=1)?n("div",{staticClass:"tool-btn",on:{click:function(n){e.onDressApply(t,n)}}},[e.isTreeDress(t)?[e._v("立即装扮")]:[e._v("挂上")]],2):!e.degradeIndexDress&&0===t.remainNum&&t.count>0?n("div",{staticClass:"tool-btn down",on:{click:function(n){e.onTakeoffApply(t)}}},[e.isTreeDress(t)?[e._v("取消装扮")]:[e._v("取下")]],2):e._e(),e._v(" "),n("div",{staticClass:"cont-time"},[e._v(e._s(e.getExpireTime(t)))])])]}),e._v(" "),n("div",{staticClass:"block-border"})],2):n("div",{staticClass:"tools-tab-cont center"},[n("div",{staticClass:"no-box"},[n("img",{staticClass:"no-tools-image",attrs:{src:"https://gw.alipayobjects.com/zos/rmsportal/xWZfSPKDTWgpQYgAkOSc.png"}}),e._v(" "),1===e.show?n("div",{staticClass:"no-tools-text"},[e._v("还没有道具哟~")]):e._e(),e._v(" "),2===e.show&&e.showDress?n("div",{staticClass:"no-tools-text"},[e._v("还没有装扮哟~")]):e._e()])]),e._v(" "),e.isMyself&&1===e.show?n("p",{staticClass:"vip-enter"},[n("span",{on:{click:e.onGotoTask}},[e._v("做任务，领道具>>")])]):!e.isMyself||2===e.show&&0===e.dressList.length?n("p",{staticClass:"vip-enter"}):e._e(),e._v(" "),n("div",{staticClass:"close",on:{click:e.onClose}})])]):e._e()])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loaded?n("div",{staticClass:"af-feed home-feed",attrs:{"data-aspm":"c8086"}},[n("div",{staticClass:"home-feed-header"},[n("div",{staticClass:"af-title title-feed"}),e._v(" "),n("charity")],1),e._v(" "),e.displayArticles.length?n("div",{staticClass:"container banner",attrs:{"data-aspm-d":"d98547"}},[e.displayArticles.length>1?n("swiper3",{ref:"swiper",staticStyle:{height:".66rem"},attrs:{options:{autoplay:3e3,loop:!0,direction:"vertical",speed:300,followFinger:!1,iOSEdgeSwipeDetection:!0,resistanceRatio:0,pagination:!1,onTap:e.onArticleTap,onTransitionEnd:e.onArticleShow},"wrapper-class":"swiper-wrapper"}},e._l(e.displayArticles,function(t,r){return n("swiper-slide",{key:r},[n("div",{staticClass:"box banner-item"},[n("div",{staticClass:"left pic t2-ignore",style:"background-image: url("+t.imageUrl+")"}),e._v(" "),n("div",{staticClass:"mid"},[n("div",{staticClass:"line-1 af-ellipsis"},[e._v("\n              "+e._s(t.title)+"\n            ")]),e._v(" "),n("div",{
staticClass:"line-2 af-ellipsis"},[e._v(e._s(t.desc))])]),e._v(" "),n("div",{staticClass:"right btn",attrs:{role:"button"}},[e._v(e._s(e.t("view")))])])])})):n("div",{staticClass:"box banner-item",on:{click:function(t){e.onArticleTap(e.displayArticles[0],!0)}}},[n("div",{staticClass:"left pic t2-ignore",style:"background-image: url("+e.displayArticles[0].imageUrl+")"}),e._v(" "),n("div",{staticClass:"mid"},[n("div",{staticClass:"line-1 af-ellipsis"},[e._v("\n          "+e._s(e.displayArticles[0].title)+"\n        ")]),e._v(" "),n("div",{staticClass:"line-2 af-ellipsis"},[e._v(e._s(e.displayArticles[0].desc))])]),e._v(" "),n("div",{staticClass:"right btn",attrs:{role:"button"}},[e._v(e._s(e.t("view")))])])],1):e._e(),e._v(" "),n("div",{staticClass:"container"},[e.todayEnergySummary?n("div",{staticClass:"box banner-item af-border-bottom"},[n("div",{staticClass:"left bubble af-digital-fontface t2-ignore"},[e._v("\n        "+e._s(e.todayEnergySummary.iconValue||0)+"g\n      ")]),e._v(" "),e.todayEnergySummary.defaultText?n("div",{staticClass:"mid"},[n("div",{staticClass:"line-1 af-ellipsis"},[e._v("\n          "+e._s(e.todayEnergySummary.defaultText)+"\n        ")])]):n("div",{staticClass:"mid"},[n("div",{staticClass:"line-1 af-ellipsis"},[e._v("\n          "+e._s(e.todayEnergySummary.title)+"\n        ")]),e._v(" "),n("div",{staticClass:"line-2 af-ellipsis"},[n("div",{staticClass:"green text-mid"},[e._v(e._s(e.todayEnergySummary.leftText))]),e._v(" "),n("div",{staticClass:"icon-vs t2-ignore"}),e._v(" "),n("div",{staticClass:"blue text-mid"},[e._v(e._s(e.todayEnergySummary.rightText))])])]),e._v(" "),e.showFanghua?n("div",{staticClass:"right btn fanghua",attrs:{role:"button"},on:{click:e.onClickFanghua}},[n("span",{staticClass:"icon t2-ignore FANGHUA"}),e._v(" "),n("span",[e._v("放话")])]):e._e()]):e._e(),e._v(" "),e._l(e.robRank,function(t){return[n("feed-item",{key:t.bizNo,attrs:{item:t,"click-feed-params":["robRank"],spm:"c8086.d98544"},on:{onClickFeed:e.onClickFeed,onClickBtn:e.onClickBtn}},[t.tagText?n("span",{class:t.color+" text-mid",attrs:{slot:"line2"},slot:"line2"},[e._v(e._s(t.tagText))]):e._e()])]}),e._v(" "),e._l(e.recentDynamics,function(t){return[n("feed-item",{key:t.bizNo,attrs:{item:t,"click-feed-params":["recentDynamics"],spm:"c8086.d98544"},on:{onClickFeed:e.onClickFeed,onClickBtn:e.onClickBtn}})]}),e._v(" "),e.hasMore?n("div",{staticClass:"list-more af-border-top",attrs:{role:"button","data-aspm-d":"d14156"},on:{click:e.onFeedMore}},[e._v(e._s(e.t("viewMoreFeeds")))]):e._e()],2)]):e._e()},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"af-body"},[n("section",{key:e.bizNo+"_tree",staticClass:"af-home",attrs:{id:"J_af_home"}},[e.isLoaded?[n("tree-canvas"),e._v(" "),n("tree-panel"),e._v(" "),n("barrier-free")]:e._e()],2),e._v(" "),"MYSELF"===e.pageState?[n("section",{key:e.bizNo,staticClass:"af-flow"},[n("feed"),e._v(" "),n("rank"),e._v(" "),n("recommand"),e._v(" "),n("donation")],1),e._v(" "),n("barrage-panel"),e._v(" "),n("fanghua"),e._v(" "),n("props"),e._v(" "),n("task"),e._v(" "),n("cdp-ad")]:"FRIEND"===e.pageState?[n("section",{key:e.bizNo,staticClass:"af-flow"},[n("pk"),e._v(" "),n("feed-friend")],1),e._v(" "),n("barrage-panel"),e._v(" "),n("water"),e._v(" "),n("props")]:"FRIEND_QUIT"===e.pageState?[n("section",{key:e.bizNo,staticClass:"af-flow"},[n("stranger",{attrs:{"is-friend":!0}})],1)]:"STRANGER"===e.pageState?[n("section",{key:e.bizNo,staticClass:"af-flow"},[n("stranger")],1)]:e._e()],2)},staticRenderFns:[]}},,,,function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"slideshow"}},[e.show?n("section",{staticClass:"af-task af-slide af-mask-blank",on:{click:function(t){e.onMash(t)}}},[n("div",{staticClass:"box",attrs:{"data-aspm":"c22416"}},[n("div",{staticClass:"bar"},[n("p",{staticClass:"bar-btn"},[e._v("任务")])]),e._v(" "),e.taskInfoList.length?n("div",{staticClass:"main"},[e._l(e.taskInfoList,function(t){return n("div",{key:t.taskType,staticClass:"item",on:{click:function(n){e.onTaskItemClick(t)}}},[n("div",{staticClass:"left"},[n("img",{staticClass:"icon",attrs:{src:t.bizInfo.awardIcon}}),e._v(" "),n("div",{staticClass:"count"},[e._v("x"+e._s(t.bizInfo.awardCount))]),e._v(" "),n("div",{staticClass:"name"},[e._v(e._s(t.bizInfo.awardName))])]),e._v(" "),n("div",{staticClass:"center"},[n("div",{staticClass:"title"},[e._v(e._s(t.bizInfo.taskTitle))]),e._v(" "),e.showProgress(t)?n("div",{staticClass:"require"},[n("div",{staticClass:"progress",style:{width:+t.taskProgress===-1?0:+t.taskProgress/+t.taskRequire*100+"%"}})]):e._e(),e._v(" "),e.calcProgress(t)?n("div",{staticClass:"desc"},[e._v("\n              进度计算中...\n            ")]):n("div",{staticClass:"desc"},[n("span",[e._v(e._s(t.desc))]),e._v(" "),e.showProgress(t)?n("span",[e._v(e._s(+t.taskProgress>+t.taskRequire?+t.taskRequire:+t.taskProgress)+"/"+e._s(t.taskRequire))]):e._e()])]),e._v(" "),n("button",{class:["btn",t.btn.className],attrs:{"data-aspm-d":"d41412"},on:{click:function(n){n.stopPropagation(),e.onTaskBtnClick(t)}}},[e._v(e._s(t.btn.text))]),e._v(" "),t.bizInfo.logo?n("div",{staticClass:"logo"},[n("img",{attrs:{src:t.bizInfo.logo}})]):e._e()])}),e._v(" "),n("div",{staticClass:"more"},[e._v("更多任务，敬请期待")])],2):n("div",{staticClass:"no-task"},[n("img",{attrs:{src:"https://gw.alipayobjects.com/zos/rmsportal/xWZfSPKDTWgpQYgAkOSc.png"}}),e._v(" "),n("div",{staticClass:"no-task-text"},[e._v("还没有任务哟~")])]),e._v(" "),n("div",{staticClass:"close",on:{click:e.onClose}})])]):e._e()])},staticRenderFns:[]}},,function(e,t,n){/* @license
	@alipay/luna-antfarm-service - 蚂蚁庄园信息查询组件
	Author: simeng.lsm
	Version: v0.1.0
	*/
!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e){if(!t)throw new Error("此组件依赖 luna-core！请在页面中引入 https://a.alipayobjects.com/g/luna/luna-offline/1.0.0/index.js");if(void 0===e.bizType)throw new Error("bizType is required");this.bizType=e.bizType||""}var t=window.luna;return e.prototype.queryInfo=function(e,n){var r=e||{},i={operationType:"com.alipay.antfarm.queryAnimalStatus",requestData:{requestType:"NORMAL",sceneCode:"ENTER",source:r.bizType||this.bizType,version:r.version||"",userId:r.userId||""},onSuccess:function(e){"function"==typeof n&&n(null,e)},onFail:function(e){"function"==typeof n&&n(e)}};t.rpc(i)},e})},function(e,t,n){/*!
	 * @alipay/luna-barrage - 弹幕组件
	 * Author: yj138290
	 * Version: v0.1.14
	 */
!function(t,n){e.exports=n()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/dist",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(2);var o=n(3),a=n(6),s=n(7),u=n(5),c=n(8),l=n(9),d=17,f=function e(t,n){var a=this;if(!t)throw new Error("new Barrage(<string|element>, {}) first parameter is required!");var u=void 0;if("string"==typeof t?u=document.querySelector(t):"object"===("undefined"==typeof t?"undefined":i(t))&&t.nodeType&&1===t.nodeType&&(u=t),!u)throw new Error("Barrage container is not found!");var c=window.getComputedStyle(u);"relative"!==c.position&&"absolute"!==c.position&&"fixed"!==c.position&&(u.style.position="relative"),u.style.overflowX="hidden",this.container=u,this.options=r({},e.defaultOptions,n||{}),this.data=this.options.data||[],this._dirty=!!this.data.length,this.size={width:s.getWidth(this.container),height:s.getHeight(this.container)},l.init(this.options.rowCount);for(var d=[],f=this.options.rowCount;f--;)d[f]=0;this.tracks=d.map(function(e,t){var n=new o(a,t,l.get());return n}),this.hasStart=0,this._bindEvent()};f.defaultOptions={data:[],isLoop:!1,rowCount:4,intervalTime:2,refreshfrequency:"auto",speed:150,positionFix:0,itemClass:"",maxDom:0,itemMaker:null,onClickItem:function(e,t){},onDataEmpty:function(){},onAllTrackEmpty:function(){}},f.prototype._getEmptyTrack=function(){for(var e=void 0,t=0,n=0;n<this.tracks.length;n+=1){var r=this.tracks[n];if(r.runningEndTime<(new Date).getTime()&&(!t||r.runningEndTime<t)){t=r.runningEndTime,e=n;break}}return void 0!==e?this.tracks[e]:null},f.prototype._bindEvent=function(){var e=this,t=0,n=0;document.addEventListener("pause",function(n){1===e.hasStart&&(t=Date.now(),e.stop(!0))},!1),document.addEventListener("resume",function(r){if(e.hasStart===-1){n=Date.now();var i=n-t-d,o=navigator.userAgent,a=!!o.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);a&&e.tracks.map(function(e){e.runningEndTime+=i,e.emptyTime+=i}),e.start()}},!1),this.onItemOut=function(){var t=e.container.querySelectorAll(".barrage-item");t.length||e.options.onAllTrackEmpty()}},f.prototype.start=function(){var e=this;if(1!==this.hasStart){this.hasStart=1;var t=this.options,n=function n(){e.intervalIndex=window.requestAnimationFrame(function(){e.nextTimeoutIndex=window.setTimeout(function(){n()},2*d);var r=!0;if(t.maxDom){var i=e.container.querySelectorAll(".barrage-item");i&&i.length>=t.maxDom&&(r=!1)}c(e.container)||(r=!1);var o=e._getEmptyTrack();if(o||(r=!1),r)if(e.data.length>0){var s=e.data.splice(0,1)[0],u=new a(s,t);o.go(u),e.options.isLoop&&e.data.push(s)}else e._dirty&&(e._dirty=!1,e.options.onDataEmpty())})};n()}},f.prototype.stop=function(e){window.cancelAnimationFrame(this.intervalIndex),window.clearTimeout(this.nextTimeoutIndex),this.hasStart=e?-1:0},f.prototype.append=function(e){this.data=this.data.concat(e),this._dirty=!0},f.prototype.publish=function(e){this.data=[e].concat(this.data),this._dirty=!0},f.transitionendEvent=u,e.exports=f},function(e,t){"use strict";function n(){var e=0,t=["webkit","moz"],n=void 0;for(n=0;n<t.length&&!window.requestAnimationFrame;n+=1)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];var r="";switch(n){case 0:r="window.requestAnimationFrame";break;case 1:r="window.webkitRequestAnimationFrame";break;case 2:r=window.requestAnimationFrame?"window.mozRequestAnimationFrame":"window.setTimeout"}return window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),r=Math.max(0,16.7-(n-e)),i=window.setTimeout(function(){var e=n+r;t(e)},r);return e=n+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),r}e.exports=n()},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(4),o=n(5),a=17,s=function(e,t,n){this.wrapper=e,this.options=e.options,this.index=t,this.height=e.size.height/e.options.rowCount,this.width=e.size.width,this.runningEndTime=(new Date).getTime()+800*n,this.emptyTime=(new Date).getTime()};s.prototype._getTop=function(){var e=this.height*(this.index+1);return e},s.prototype._getItemFixTop=function(){var e=this.options,t=this._getTop(),n=-(this.height/2);if(e.positionFix){var o=0;o="[object Array]"===Object.prototype.toString.call(e.positionFix)?i.apply(void 0,r(e.positionFix)):parseFloat(e.positionFix)||0,n+=o}return t+n},s.prototype.go=function(e){var t=this,n=e.ele,s=this.options,u=this._getItemFixTop();n.style.top=u+"px",this.wrapper.container.appendChild(e.ele),setTimeout(function(){n.style.right=-n.offsetWidth+"px",n.style.visibility="visible";var u=t.wrapper.size.width,c=n.offsetWidth+u,l=c/s.speed;n.style.webkitTransition="-webkit-transform "+(l||0)+"s linear",n.style.transition="transform "+(l||0)+"s linear";var d=o();if(d){var f=function r(){n.removeEventListener(d,r,!1),e.remove(),t.wrapper.onItemOut()};n.addEventListener(d,f,!1)}else setTimeout(function(){e.remove()},1e3*l+a);setTimeout(function(){n.style.webkitTransform="translate(-"+c+"px,0)",n.style.transform="translate(-"+c+"px,0)"},a);var p=n.offsetWidth/s.speed;"number"==typeof s.intervalTime?p+=s.intervalTime:"[object Array]"===Object.prototype.toString.call(s.intervalTime)&&(p+=i.apply(void 0,r(s.intervalTime))),t.runningEndTime=(new Date).getTime()+1e3*p,t.emptyTime=(new Date).getTime()+1e3*l},a)},s.prototype.getOptions=function(){return this.wrapper.options},e.exports=s},function(e,t){"use strict";function n(e,t){var n=parseFloat(e),r=parseFloat(t);return n&&r?n+(r-n)*Math.random():0}e.exports=n},function(e,t){"use strict";function n(){for(var e=document.createElement("surface"),t={OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd",transition:"transitionend"},n=Object.keys(t),r="",i=0;i<n.length;i+=1){var o=n[i];void 0!==e.style[o]&&(r=t[o])}return r}e.exports=n},function(e,t){"use strict";var n=function(e,t){this.data=e,this.options=t,this.ele=this._createElement(e)};n.prototype._createElement=function(e){var t=document.createElement("div");t.classList.add("barrage-item"),this.options.itemClass&&t.classList.add(this.options.itemClass),this.options.itemMaker?t.innerHTML=this.options.itemMaker.bind(e)(e):t.innerText=e.toString(),t.id="barrage_item_"+(new Date).getTime(),t.style.position="absolute",t.style.right=0,t.style.visibility="hidden",t.style.whiteSpace="nowrap",t.style.willChange="transform";var n=this;return t.onclick=function(e){n.options.onClickItem(e,n)},t},n.prototype.remove=function(){this.ele.parentElement.removeChild(this.ele)},e.exports=n},function(e,t){"use strict";function n(e){return e&&e.offsetWidth}function r(e){return e&&e.offsetHeight}e.exports={getWidth:n,getHeight:r}},function(e,t){"use strict";function n(e){if("object"===("undefined"==typeof e?"undefined":r(e))&&e.nodeType&&1===e.nodeType){var t=e.getBoundingClientRect(),n=document.documentElement.clientHeight||document.body.clientHeight;return!(t.bottom<0||t.top>n)}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=n},function(e,t){"use strict";e.exports={pool:[],init:function(e){for(var t=0;t<e;)this.pool.push(t),t++},get:function(){var e=Math.floor(this.pool.length*Math.random());return this.pool.splice(e,1)[0]||0}}}])})},function(e,t){function n(e){if("string"!=typeof e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);t+=r>=0&&r<=128?1:2}return t}e.exports=n},function(e,t){function n(e,t){if("string"!=typeof e)return e;if(!t)return e;var n="",r=0;e=e.split("");for(var i=0;i<e.length&&(r+=null!=e[i].match(/[^\x00-\xff]/gi)?2:1,!(r>t));i++)n+=e[i];return n}e.exports=n},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(l.default?(0,l.default)(e,t):e.__proto__=t)}function s(e){window.AlipayJSBridge&&window.AlipayJSBridge.call?e():navigator.userAgent.indexOf("AlipayClient")>=0?document.addEventListener("AlipayJSBridgeReady",e,!0):e()}function u(){var e=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.initOptions=function(){return{store:v.default,router:void 0}},t.prototype.render=function(e){return e(y.default)},t}(p.Page),t=new e("#app");return t._vue}var c=n(9),l=r(c),d=n(13),f=(r(d),n(293)),p=(r(f),n(4)),h=n(283),v=r(h),m=n(186),y=r(m);v.default&&s(function(){v.default.dispatch("pageBeforeRender")}),function(e){window.AlipayJSBridge&&window.AlipayJSBridge.call?setTimeout(e,0):navigator.userAgent.indexOf("AlipayClient")>=0?document.addEventListener("AlipayJSBridgeReady",e,!0):setTimeout(e,0)}(u)},,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return o?o:o="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(8),s=r(a),u=s.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(5),l=r(c),d=n(3),f=r(d),p=n(2),h=r(p),v=n(437),m=r(v),y=n(435),g=r(y),b=n(438),_=r(b),w=n(434),C=r(w),T=n(449),k=r(T),E=n(441),P=r(E),A=n(443),S=r(A),x=n(446),O=r(x),I=n(442),M=r(I),R=n(450),D=r(R),L=n(433),F=r(L),B=n(444),N=r(B),j=n(431),U=r(j),z=n(432),H=r(z),W=n(436),V=r(W),G=n(452),$=r(G),J=n(440),Y=r(J),X=n(447),q=r(X),K=n(445),Q=r(K),Z=n(448),ee=r(Z),te=n(439),ne=r(te),re=n(451),ie=r(re),oe=n(95),ae=r(oe),se=n(96),ue=r(se),ce=n(386),le=r(ce),de=n(384),fe=r(de),pe=n(381),he=r(pe),ve=n(430),me=r(ve),ye=["newPeopleGuide",["invitePopup","tree/initBubbles"],"activity/firstShow","cdpadvertising/init","weakDependence","barrage/init",["props/autoShowProps","task/autoShowTask","fanghua/autoShowFanghua","hongbao/autoShowHongbao"]],ge=0,be=f.default.native,_e=!1;t.default={modules:{feed:m.default,feedfriend:_.default,cooperation:C.default,userinfo:D.default,rank:S.default,resume:O.default,tree:k.default,plantTrees:P.default,props:M.default,charity:F.default,recommand:N.default,activity:U.default,cdpadvertising:H.default,barrage:ae.default,fanghua:V.default,whisper:$.default,pk:Y.default,water:ue.default,task:q.default,dress:g.default,refined:Q.default,tired:ee.default,hongbao:ne.default,weather:ie.default},state:{pageState:"",needGuide:!1,isLoaded:0,uid:luna.urlParam.get("userId"),bizNo:"",properties:{},theme:null},mutations:{updateIsLoaded:function(e,t){e.isLoaded=t},updatePageState:function(e,t){e.pageState=t.type},updateAction:function(e,t){e.uid=t.userEnergy.userId,e.bizNo=t.bizNo,e.needGuide=t.needGuide},updateTheme:function(e,t){t&&(e.theme={name:t.themeType,version:t.themeVersion,startTime:t.startTime,endTime:t.endTime})}},actions:{pageBeforeRender:function(e){return new(i())(function(t,n){var r,o,a,s,c,d,p,v,m,y,g,b,_,w,C,T,k,E,P,A,S,x,O,I,M,R,D,L,F,B,N;r=e.dispatch,o=e.commit,window.AF_STORE=e;var j=function(){try{return f.default.storage.setLS(f.default.storage.KEY.SWITCH_OPENED,!0),t()}catch(e){return n(e)}}.bind(this),U=function(e){try{return B=void 0,N=void 0,"string"==typeof e?(B="",N=e):e instanceof Error?(B="",N=e.toString()):(B=e.resultCode||e.error,N=e.resultDesc||e.errorMessage),h.default.logger.error("PAGE-LOAD-ERROR",B,N),j()}catch(e){return n(e)}}.bind(this);try{return o("updateIsLoaded",0),ge=0,i().resolve(me.default.start()).then(function(e){try{return a=e,s=a[0],c=h.default.home.getPageState(s),d=s.now,p=s.properties,v=s.bubbles,m=s.wateringBubbles,y=s.waterBubbleHasMore,g=s.userEnergy,b=s.treeEnergy,_=s.indexDressVO,w=s.redPacketVO,C=s.usingUserProps,T=s.loginUserUsingProp,k=s.givenProps,E=s.combineHandlerVOMap,f.default.time.init(d),h.default.properties.init(p),P=h.default.home.getSource(),A=be.getMultiSourceParam("inviterUserId"),S=be.getMultiSourceParam("uk"),"INTRO"===c.type?(_e=A&&S,x=_e?{inviterUserId:A,uk:S}:{},h.default.goto.introPage(!1,u({source:P},x)),t()):(O="MYSELF"===c.type,I=E||{},M=I.eventConfig,R=I.plantTreeCount,D=I.wateringBubbleConfig,L=I.tiredInfo,F=I.redPacketConfig,o("updateAction",s),o("updateTheme",M),o("userinfo/updateUserEnergy",g),r("userinfo/init",g),o("tree/updateTreeEnergy",b),o("tree/initBubbles",{bubbles:v,self:O}),o("plantTrees/setPlantTrees",R),r("initDress",_),r("props/init",{usingUserProps:C,loginUserUsingProp:T,givenProps:k}),r("water/init",{config:D,bubbles:m,hasMore:y}),r("hongbao/init",{redPacketConfig:F,redPacketVO:w}),o("activity/init",M),O?(r("pageMEBeforeServer"),Tracert.expo("c32620",void 0,{homepageFrom:P})):(l.default.call("hideOptionMenu"),r("tired/init",L)),f.default.event.clearEventListener(),o("updatePageState",c),o("updateIsLoaded",1),j())}catch(e){return U(e)}}.bind(this),U)}catch(e){U(e)}}.bind(this))},autoPopupNext:function(e){var t=e.dispatch,n=ye[ge];n&&(ge++,console.log(n+">>>>>>>>>>>>>>>"),"string"==typeof n&&t(n),luna.isArray(n)&&n.forEach(function(e){t(e)}))},weakDependence:function(e){return new(i())(function(t,n){var r,o,a,s,u,c;return r=e.commit,o=e.dispatch,a=e.getters,i().resolve(h.default.rpc.queryCombineBiz({noCollectEnergy:a["tree/canCollectBubbleCount"]<=0?"Y":"N",hasP2p:_e?"Y":"N"})).then(function(e){try{return s=e,u=s.combineHandlerVOMap,u&&(o("refined/initCombineBiz",u.refinedOps),o("whisper/init",u.forestWhisper),r("charity/setCharity",u.displayDonator)),o("weather/init"),o("autoPopupNext"),c=h.default.drm.get("preInstallApp"),c&&l.default.call("installApp",{appId:c},function(e){e.success?Tracert.expo("c30318.d58779",void 0,{appId:c}):Tracert.expo("c30318.d58780",void 0,{appId:c})}),t()}catch(e){return n(e)}}.bind(this),n)}.bind(this))},pageMEBeforeServer:function(e){var t=e.dispatch;t("resume/init"),t("cooperation/queryIndexCooperate"),le.default.init(),document.addEventListener("optionMenu",function(e){le.default.showPopMenu()},!1),document.addEventListener("popMenuClick",function(e){le.default.popMenuClick(e)},!1),document.addEventListener("resume",function(e){t("resume/run")},!1)},initDress:function(e,t){var n=e.commit,r=t||{};n("dress/updateProperty",{degradeIndexDress:r.degradeIndexDress,showDress:r.showDress});var i=r.dressDetailList||[];n("dress/refreshIndexDress",i)},newPeopleGuide:function(e){fe.default.start(e)},invitePopup:function(e){he.default.start(e)}}}},,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(273),o=r(i),a=n(4);o.default.strict=!1,o.default.plugins=[];var s=new a.Store(o.default);a.Store.setInstance?a.Store.setInstance(s):a.Store.getInstance=function(){try{console.warn(["Store.getInstance is deprecated, please use :",'import { Instance } from "@ali/kylin-framework";',"Instance.getStore();"].join("\n"))}catch(e){}return s},a.Instance&&a.Instance.setStore&&a.Instance.setStore(s),t.default=s},,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e={friend:"https://gw.alipayobjects.com/mdn/consumer_operation/afts/img/A*ono3QZfRUE0AAAAAAAAAAAAAARQnAQ"},t=luna.urlParam.get("loadAmine"),n=$("#J_animeLoading");if(t){var r=e[t];r&&n.find(".load-tips").css("backgroundImage","url("+r+")"),n.addClass("start")}else n.remove()}n(18);var o=n(29),a=n(2),s=r(a),u=n(3),c=r(u),l=n(19),d=r(l),f=n(5),p=r(f),h=function(){var e=s.default.biz.isDay(),t=e?"af-day":"af-night";document.documentElement.classList.add(t);var n=document.body,r=luna.deviceType.ios?"af-ios":"af-android";n.classList.add(r),n.classList.add("language-"+o.lang.prefix),c.default.html.isFullScreen()&&n.classList.add("full-screen")},v=function(){if(p.default.call("getTitleAndStatusbarHeight",function(e){var t=e.statusBarHeight,n=void 0===t?0:t,r=e.titleBarHeight,i=void 0===r?0:r,o=Math.floor(n+i-64);o=Math.max(0,o);var a=document.getElementById("J_fullscreenFix");a&&(a.style.height=o+"px")}),WebGLRenderingContext){var e={},t=1,n=WebGLRenderingContext.prototype.createTexture;WebGLRenderingContext.prototype.createTexture=function(){var r=n.call(this);return r.index=t,e[t]=r,t++,r};var r=WebGLRenderingContext.prototype.deleteTexture;WebGLRenderingContext.prototype.deleteTexture=function(t){var n=t.index,i=r.call(this,t);return e[n]&&delete e[n],i},window.TexturePool=e}c.default.html.loadingInit(),c.default.time.init(),s.default.drm.init(),h(),(0,d.default)(window.FastClick)};luna.ready(function(){v(),i()})},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(4),o=n(98),a=r(o),s=i.Component.Object()(function(){var e={name:"Antfarm",mounted:function(){var e=this,t={dispatch:function(){var t;return(t=e.$store).dispatch.apply(t,arguments)},commit:function(){var t;return(t=e.$store).commit.apply(t,arguments)},state:this.$store.state},n={container:this.$refs.antfarm};a.default.init(t,n)},methods:{}};return e});t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(4),o=n(255),a=r(o),s=n(24),u=r(s),c=n(2),l=r(c),d=i.Component.Object({mapStateToProps:{barrages:function(e){return e.barrage.barrages}}})(function(){var e={name:"BarrageDynamic",props:{barrages:Array},data:function(){return{show:!0}},mounted:function(){var e=this,t=l.default.home.isMyself(),n=0,r=this.$refs.barrageWrap,i=new a.default(r,{data:[].concat(this.barrages),positionFix:-19*document.documentElement.clientWidth/375,rowCount:1,speed:100,intervalTime:1,itemClass:"",itemMaker:function(e){var t='\n          <div class="af-barrage-item <%= data.type %>">\n            <div class="avatar">\n              <img src="<%= data.headPortrait %>" class="t2-ignore"/>\n            </div>\n            <div class="text">\n              <p class="line1 af-ellipsis"><%= data.displayName %></p>\n              <p class="line2"><%= data.content %></p>\n            </div>\n            <% if (data.image) { %>\n            <div class="icon"><img src="<%= data.image %>" class="t2-ignore"/></div>\n            <% } else if (data.type === \'WATER\') { %>\n            <div><div class="btn">回复</div></div>\n            <% } %>\n          </div>\n        ',n=luna.extend({},e);n.headPortrait=e.headPortrait||u.default.DefaultAvatarOnline,n.displayName=e.displayName||"一位好友";var r=luna.template(t)({data:n});return r},onAllTrackEmpty:function(){i.stop(),n=setTimeout(function(){e.show=!1},1e3)},onClickItem:function(n,r){if(t){var i={userId:r.data.userId};e.$store.dispatch("barrage/showPanel",i),"WATER"===r.data.type&&Tracert.click("c40524.d81911")}}});i.start(),this.$store.subscribe(function(t,r){"barrage/appendBarrage"===t.type&&t.payload&&(clearTimeout(n),e.show=!0,i.append(t.payload),i.start())})},beforeDestroy:function(){this.$store.commit("barrage/updateBarrages",[])},methods:{}};return e});t.default=d},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(61),a=i(o),s=n(4),u=n(7),c=r(u),l=n(2),d=i(l),f=s.Component.Object({mapStateToProps:{activity:function(e){return e.activity.data}}})(function(){var e={name:"BarrierFree",props:{activity:Object},data:function(){return{bubbles:[],show:!0,entries:[],posMap:{},self:void 0}},mounted:function(){var e=this;this.self=d.default.home.isMyself(),setTimeout(function(){e._entry(),e.$store.watch(function(e){return e.tree.bubbles},function(){e._fresh()},{immediate:!0})},1e3)},methods:{_entry:function(){var e=this.self?[{label:"公益林",class:"welfare",d:"d61511"},{label:"合种",class:"cooperate",d:"d61510"},{label:"成就",class:"achieve",d:"d61509"},{label:"红包",class:"hongbao",d:"d102728"},{label:"攻略",class:"tips",d:"d14163"},{label:"任务",class:"task",d:"d97703"},{label:"背包",class:"props",d:"d14164"}]:[{label:"成就",class:"achieve-friend",d:"d35339"},{label:"送道具",class:"sendProp",d:""},{label:"提醒",class:"message",d:"d84118"},{label:"弹幕",class:"barrage",d:"d19709"},{label:"浇水",class:"water",d:"d19708"}];this.entries=e},_fresh:function(){var e=this,t=this.$store.state.tree.bubbles;if(c.app&&c.app.root){var n=c.app.root.childMap.bubblesContainer;if(n){var r=n.bubbleShowPool||{};t.forEach(function(e){var t=e.id,n=r[t+""];n&&(n.remainEnergy=e.remainEnergy,n.isAvailable="AVAILABLE"===e.collectStatus)});var i=(0,a.default)(r),o=i.map(function(t){var n=t.id;if(!e.posMap[n+""]){var r=t.getGlobalPosition();r={x:r.x,y:r.y},e.posMap[n+""]=r}return{id:n,remainEnergy:t.remainEnergy,isAvailable:t.isAvailable,style:e.posMap[n+""]}});this.bubbles=o}}}}};return e});t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(4),o=n(2),a=r(o),s=n(3),u=r(s),c=i.Component.Object({mapStateToProps:{imgInfo:function(e){return e.cdpadvertising.imgInfo}}})(function(){var e={name:"Cdpadvertising",props:{imgInfo:Object},methods:{onClickImg:function(){var e=this.imgInfo,t=e.actionUrl;t&&u.default.scheme.go(t),this._close(),a.default.cdp.feedback(e.spaceCode,e.objectId,"CLICK"),Tracert.click("c8085.d31461")},close:function(){var e=this.imgInfo;a.default.cdp.feedback(e.spaceCode,e.objectId,"CLOSE"),this._close()},_close:function(){this.$store.dispatch("cdpadvertising/close")}}};return e});t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(4),o=n(5),a=r(o),s=i.Component.Object({mapStateToProps:{charity:function(e){return e.charity.charity}}})(function(){var e={name:"Charity",props:{charity:Object},computed:{charityUrl:{get:function(){return this.charity.dayIconUrl||this.charity.nightIconUrl}},charityDesc:{get:function(){var e=this.charity.description;return e&&e.indexOf("#")!==-1?e.split("#"):[]}}},mounted:function(){this.charityUrl&&Tracert.expo("c8085.d31605")},methods:{onCharityClick:function(e){Tracert.expo("c8085.d31605"),e.donateUrl&&a.default.call("pushWindow",{url:e.donateUrl,param:{backgroundColor:-1}})}}};return e});t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(4),o=n(2),a=r(o),s=n(377),u=r(s),c=i.Component.Object({mapStateToProps:{cooperatePlant:function(e){return e.cooperation.cooperatePlant},cooperateDynamics:function(e){return e.cooperation.cooperateDynamics},cooperateTemplate:function(e){return e.cooperation.cooperateTemplate}}})(function(){var e={name:"Cooperation",props:{cooperatePlant:Object,cooperateDynamics:Array,cooperateTemplate:Object},computed:{cooperateType:{get:function(){return this.cooperateTemplate.bizType||"create"}},cooperateStageClass:{get:function(){if(void 0===this.cooperatePlant.currentEnergy||void 0===this.cooperateTemplate.phaseConfig)return"create";var e=this._calcTreeStage(this.cooperatePlant.currentEnergy,this.cooperateTemplate.phaseConfig);return"stage-"+e}}},mounted:function(){var e=this,t={dispatch:function(){var t;return(t=e.$store).dispatch.apply(t,arguments)},commit:function(){var t;return(t=e.$store).commit.apply(t,arguments)},state:this.$store.state},n={container:this.$refs.cooperateDynamics,dynamics:this.cooperateDynamics};u.default.run(t,n),Tracert.expo("c8085.d61510")},methods:{_calcTreeStage:function(e,t){var n=1;if(t){var r=JSON.parse(t);r.some(function(t){return e<t.needEnergy?(n=t.index,!0):void(n=t.index)})}return n},onCooperateClick:function(){a.default.goto.cooperationHome(),this.$store.commit("resume/updateToCooperation",!0),Tracert.click("c8085.d61510")}}};return e});t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(4),o=n(2),a=r(o),s=n(3),u=r(s),c=i.Component.Object()(function(){var e={name:"Donation",data:function(){return{isShow:!0,isLoaded:!1}},mounted:function(){var e=this;this.isShow="Y"!==a.default.properties.get("donateDowngrade");var t=function t(){var n=e.$refs.donation;!e.isLoaded&&n.getBoundingClientRect().top<document.documentElement.clientHeight+10&&(e.isLoaded=!0,window.removeEventListener("scroll",t))};t.toString=function(){return"scroll_donation_show"},u.default.event.addEventListenerUniq("scroll",t,window,!0)},methods:{_gotoDonation:function(){a.default.goto.donation(),Tracert.click("c8087.d14162")}}};return e});t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(4),o=n(3),a=r(o),s=i.Component.Object({mapStateToProps:{doubleCollect:function(e){return e.props.doubleCollect}}})(function(){var e={name:"DoubleCollect",props:{doubleCollect:Object},computed:{remainTimeStr:{get:function(){return a.default.time.formatRestTime(this.doubleCollect.remainingTime,!0)}}},methods:{}};return e});t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(4),o=n(2),a=r(o),s=i.Component.Object({mapStateToProps:{coLoaded:function(e){return e.cooperation.isLoaded}}})(function(){var e={name:"IndexView",props:{coLoaded:Boolean},computed:{isMe:{get:function(){return a.default.home.isMyself()}}},methods:{}};return e});t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return o?o:o="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=n(4),s=n(3),u=r(s),c=n(5),l=r(c),d=a.Component.Object({mapStateToProps:{list:function(e){return e.fanghua.list},hasSet:function(e){return e.fanghua.hasSet},configType:function(e){return e.fanghua.configType},configContent:function(e){return e.fanghua.configContent},viewCount:function(e){return e.fanghua.viewCount},showPanel:function(e){return e.fanghua.showPanel},loading:function(e){return e.fanghua.loading}}})(function(){var e={name:"BarragePanel",props:{list:Array,hasSet:Boolean,configType:String,configContent:String,viewCount:Number,showPanel:Boolean,loading:Boolean},data:function(){return{selected:-1,posting:!1,hasShow:!1}},methods:{onClose:function(){var e=this;this.$store.dispatch("fanghua/hidePanel"),setTimeout(function(){e.hasShow=!1},300)},onClickItem:function(e){if(this.selected!==e.id){var t={opType:"set",configType:"emoji",configContent:e.id,emojiConfig:e};this.$store.dispatch("fanghua/mockFanghua",t,{root:!0})}this.selected=e.id,Tracert.click("c45801.d93470")},onClickCancel:function(){return new(i())(function(e,t){var n;return this.posting?e():(this.posting=!0,n={opType:"cancel"},i().resolve(this.$store.dispatch("fanghua/setFanghua",n)).then(function(n){try{return this.posting=!1,e()}catch(e){return t(e)}}.bind(this),t))}.bind(this))},onClickItemBtn:function(e){return new(i())(function(t,n){var r;return this.posting?t():(this.posting=!0,r={opType:"set",configType:"emoji",configContent:e.id,emojiConfig:e},i().resolve(this.$store.dispatch("fanghua/setFanghua",r)).then(function(e){try{return this.posting=!1,this.onClose(),t()}catch(e){return n(e)}}.bind(this),n))}.bind(this))},onInputClick:function(){return new(i())(function(e,t){var n=this;return this.posting?e():(this.posting=!0,setTimeout(function(){n.posting=!1},1e3),this.onClose(),l.default.call("emotionInput",{sendBtnName:"确定",hint:"给你的好友留句话",maxlength:10},function(e){if(e&&e.content){var t={opType:"set",configType:"text",configContent:e.content.replace(/[\n\r]/gi," ")};n.$store.dispatch("fanghua/setFanghua",t),Tracert.click("c45801.d93471")}else u.default.native.toast("请输入你要说的内容")}),Tracert.expo("c45801.d93471"),e())}.bind(this))},onClickRecords:function(){var e="https://render.alipay.com/p/f/antforest/fanghua_records.html?__webview_options__=bc%3D-1%26ttb%3Dnone%26pd%3DNO%26so%3DNO";l.default.call("pushWindow",{url:e}),Tracert.click("c45801.d93469")},onMash:function(e){this.hasShow&&e.target.classList.contains("af-mask-blank")&&this.onClose()},onAfterShow:function(){this.hasShow=!0}}};return e});t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return o?o:o="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=n(4),s=n(5),u=r(s),c=n(3),l=r(c),d=n(2),f=r(d),p=a.Component.Object({mapStateToProps:{hasMore:function(e){return e.feedfriend.hasMore},feedList:function(e){return e.feedfriend.feedList}}})(function(){var e={name:"FriendFeed",props:{hasMore:Boolean,feedList:Array},data:function(){return{loading:!1}},mounted:function(){var e=function(){};this.loadData(e,e,!0),l.default.html.simulateHover(".feed-item","hover",".friend-feed")},methods:{specialFeed:function(e){return"PROTECT_BY_SHIELD"===e.type||"BARRAGE"===e.type&&(e.friend||e.properties.image)},touchstart:function(e,t){return new(i())(function(e,n){var r,o;return r=this,clearInterval(this.Loop),i().resolve(l.default.native.getUserId()).then(function(i){try{return o=i,t.fromUser.userId!==o?e():(this.Loop=setTimeout(function(){u.default.call("actionSheet",{btns:["删除弹幕"],cancelBtn:"取消",destructiveBtnIndex:0},function(e){if(0===e.index){var n=r.$store.state.uid;r.$store.dispatch("feedfriend/deleteFeed",{bizNo:t.bizNo,bizDt:t.bizDt,userId:n})}})},1e3),e())}catch(e){return n(e)}}.bind(this),n)}.bind(this))},clearLoop:function(){clearInterval(this.Loop)},onFeed:function(e){e.userId&&e.friend&&f.default.goto.homePage({userId:e.userId})},onBottom:function(e,t){this.loadData(e,t)},loadData:function(e,t,n){return new(i())(function(r,o){var a;return this.loading?r():(this.loading=!0,i().resolve(this.$store.dispatch("feedfriend/queryFriendFeed",{forceUpdate:n})).then(function(n){try{return a=n,this.loading=!1,a.success?!a.hasMore&&this.$refs.listView?(this.$refs.listView.setNoMore(),r()):(e(),r()):(t(),r())}catch(e){return o(e)}}.bind(this),o))}.bind(this))},clickMore:function(){this.$refs.listView.emitLoadMore()}}};return e});t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(4),o=n(3),a=r(o),s=n(2),u=r(s),c=n(5),l=r(c),d=i.Component.Object({mapStateToProps:{loaded:function(e){return e.feed.loaded},hasMore:function(e){return e.feed.hasMore},displayArticles:function(e){return e.feed.displayArticles},todayEnergySummary:function(e){return e.feed.todayEnergySummary},robRank:function(e){return e.feed.robRank;
},recentDynamics:function(e){return e.feed.recentDynamics}}})(function(){var e={name:"Homefeed",props:{loaded:Boolean,hasMore:Boolean,displayArticles:Array,todayEnergySummary:Object,robRank:Array,recentDynamics:Array},data:function(){return{cdpFeedback:{},showFanghua:!1}},created:function(){this.$store.dispatch("feed/queryDynamicsIndex",{})},mounted:function(){var e=this;this.showFanghua="Y"!==u.default.properties.get("degradeSetBluff"),setTimeout(function(){e.displayArticles.length&&Tracert.expo("c8086.d98547"),e.showFanghua&&Tracert.expo("c8085.d97704")},1e3)},methods:{onArticleTap:function(e,t){var n=void 0;if(t===!0)n=e;else{var r=+e.clickedSlide.dataset.swiperSlideIndex||0;n=this.displayArticles[r]}n.spaceInfo&&n.objectId&&u.default.cdp.feedbackForServer(n.spaceInfo,n.objectId,"CLICK"),n.jumpUrl&&l.default.call("pushWindow",{url:n.jumpUrl,param:{transparentTitle:"none"}}),Tracert.click("c8086.d98547")},onArticleShow:function(e){var t=e.wrapper[0].querySelector(".swiper-slide-active"),n=+t.dataset.swiperSlideIndex||0,r=this.displayArticles[n];r.spaceInfo&&r.objectId&&!this.cdpFeedback[n]&&(u.default.cdp.feedbackForServer(r.spaceInfo,r.objectId,"SHOW"),this.cdpFeedback[n]=!0)},onClickFanghua:function(){this.$store.dispatch("fanghua/showFanghuaPanel"),Tracert.click("c8085.d97704")},onClickFeed:function(e,t){var n=e.fromUser?e.fromUser.userId:e.userId;u.default.goto.homePage({userId:n})},onClickBtn:function(e,t){if(!e.alreadyOperate){var n="dynamic_"+e.bizNo;if(!a.default.lock.isLocked(n)){a.default.lock.lock(n);var r=e.btn,i=e.fromUser?e.fromUser.userId:e.userId,o={id:e.bizNo,type:e.type,path:t,action:"feed/handleDynamic"};switch(r.actionType){case"WATER":this.$store.dispatch("water/sendEnergy",{targetUserId:i,energyId:r.actionValue,energy:parseInt(r.energy,10),singleton:!0,biz:o,from:"dynamics"});break;case"BARRAGE":var s={userId:i,biz:o};if(r.actionValue){this.$store.commit("barrage/updateTargetUser",s);var u=Math.floor(r.actionValue.length*Math.random()),c=r.actionValue[u];this.$store.dispatch("barrage/sendBarrage",{id:c})}else this.$store.dispatch("barrage/showPanel",s);break;case"PRAISE":this.$store.dispatch("feed/operateDynamic",{dynamic:e})}setTimeout(function(){a.default.lock.unlock(n)},2e3)}}},onFeedMore:function(){u.default.goto.listFeed(),Tracert.click("c8086.d14156")}}};return e});t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(7),a=i(o),s=n(4),u=n(5),c=r(u),l=n(3),d=r(l),f=n(2),p=r(f),h=s.Component.Object({mapStateToProps:{pageState:function(e){return e.pageState},isLoaded:function(e){return e.isLoaded},bizNo:function(e){return e.bizNo}}})(function(){var e={name:"IndexView",props:{isLoaded:Number,pageState:String,bizNo:String},data:function(){return{isDay:void 0}},created:function(){document.addEventListener("memoryWarning",function(e){p.default.logger.errorCommon("MEMORY","Warning",JSON.stringify(e))},!1)},mounted:function(){var e=this;this.$store.watch(function(e){return e.isLoaded},function(e){2===e&&$("body").addClass("no-placeholder")},{immediate:!0}),p.default.logger.info("REUSE"),this.isDay=p.default.biz.isDay(),document.addEventListener("reuse",function(t){p.default.logger.info("REUSE-CALLBACK"),window._reuseStart=Math.floor(performance?performance.now():0),c.default.call("setTitle",{title:"蚂蚁森林"}),d.default.html.loadingIn();var n=p.default.biz.isDay();try{var r=t.data.url;if(window.history.replaceState({},"",r),n!==e.isDay)e.isDay=n,window.location.replace(r);else{for(var i=e.$store._watcherVM._watchers;i.length;)i.forEach(function(e){return e.teardown()});e.$store._subscribers=[],e.$store._makeLocalGettersCache=Object.create(null),e.$store.commit("tree/initBubbles",{}),e.$store.commit("water/updateBubbles",{}),e.$store.commit("whisper/updateWhispers",{}),setTimeout(function(){e.$store.dispatch("pageBeforeRender")},32)}}catch(e){p.default.logger.errorCommon("REUSE","init","")}}),document.addEventListener("back",function(t){t.preventDefault();try{if(a.app.stop(),luna.deviceType.android){"MYSELF"!==e.pageState&&($("#J_app_outter").remove(),a.app.destroy({children:!0,texture:!0,baseTexture:!0}));var n=a.app.view.getContext("webgl");if(n){var r=window.TexturePool||{};Object.keys(r).forEach(function(e){n.deleteTexture(r[e])})}}}catch(e){}c.default.call("popWindow")},!1)},methods:{}};return e});t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(8),o=r(i),a=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(4),u=s.Component.Object({mapStateToProps:{robRecord:function(e){return e.pk.robRecord},helpRecord:function(e){return e.pk.helpRecord}}})(function(){var e={name:"PK",props:{robRecord:Object,helpRecord:Object},computed:{pkData:{get:function(){var e=[],t=this._resolvePkResult("rob"),n=this._resolvePkResult("help");return t&&e.push(t),n&&e.push(n),e}}},created:function(){this.$store.dispatch("pk/init")},mounted:function(){var e=this;this.$store.subscribe(function(t,n){if("pk/slideTo"===t.type)try{e.$refs.swiper.swiper.slideTo(n.pk.index)}catch(e){}})},methods:{_resolvePkResult:function(e){var t=this[e+"Record"];if(!t)return null;try{var n="EQUAL",r=t.my.collectEnergy,i=t.target.collectEnergy;return r>i?n="RIGHT_WON":r<i&&(n="LEFT_WON"),a({},t,{pkResult:n,type:e})}catch(e){return null}}}};return e});t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return o?o:o="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=n(8),s=r(a),u=n(4),c=n(2),l=r(c),d=n(23),f=r(d),p=n(3),h=r(p),v=n(47),m=r(v),y=u.Component.Object({mapStateToProps:{showDress:function(e){return e.dress.showDress},degradeIndexDress:function(e){return e.dress.degradeIndexDress},indexDressList:function(e){return e.dress.indexDressList},dressList:function(e){return e.dress.dressList},show:function(e){return e.props.show},forestPropVOList:function(e){return e.props.forestPropVOList},usingShield:function(e,t){return t["props/usingShield"]},usingDoubleClick:function(e,t){return t["props/usingDoubleClick"]}}})(function(){var e={name:"Props",props:{showDress:Boolean,degradeIndexDress:Boolean,indexDressList:Array,dressList:Array,show:Number,forestPropVOList:Array,usingShield:Boolean,usingDoubleClick:Boolean},data:function(){return{isMyself:!0,de6:void 0}},mounted:function(){this.isMyself=l.default.home.isMyself(),this.de6=l.default.properties.get("de6")},methods:{onAfterShow:function(){Tracert.expo(this.isMyself?"c22072":"c52592")},isTreeDress:function(e){return e.posList.indexOf("tree__main")>=0},getExpireTime:function(e){return e.expireTime<79821216e5?e.expireTimeFormat+"前有效":""},onChangeTab:function(e){this.$store.commit("props/triggerShow",e),Tracert.expo(1===e?"c22072.d40586":"c22072.d40587")},onDressApply:function(e){this.$store.dispatch("dress/apply",e),Tracert.click("c22072.d40587",{dressType:e.dressType})},onTakeoffApply:function(e){var t=(0,s.default)({},e);if(e.posList.indexOf("tree__main")>=0)t.position="tree__main";else if(e.posList.length){var n=e.dressType,r=this.indexDressList.filter(function(e){return e.dressType===n}),i=r.pop(),o=i.position;t.position=o}this.$store.dispatch("dress/takeoff",t)},onDressShow:function(e){m.default.$dressMask(e,{btn:!1})},onPropCard:function(e,t){var n=this,r=e.canGive&&"N"===this.de6,i=f.default.propCard({tplData:{icon:e.imageUrl,title:e.name,subTitle:e.subTitle,desc:this._getPropDesc(e.desc),okBtnText:"立即使用",hasCancleBtn:r,cancleBtnText:"赠送",btnDisable:!1,hasMore:!1},onBtn:function(t){f.default.close(i),n._useProp(e),Tracert.click("c22072.d108755",{propType:e.propType})},onCancleBtn:r?function(){f.default.close(i),n.onPropSend(e,"self_btn"),Tracert.click("c22072.d108754")}:void 0});Tracert.click("c22072.d108757")},onPropSend:function(e,t){this.$store.dispatch("props/handselProp",{prop:e,source:t}),Tracert.click(this.isMyself?"c22072.d108756":"c52592.d108753")},onMash:function(e){e.target.classList.contains("af-mask-blank")&&this.onClose()},onClose:function(){this.$store.commit("props/triggerShow",0)},onGotoTask:function(){var e=this;this.onClose(),setTimeout(function(){e.$store.dispatch("task/showTaskPanel",!0)},300)},_useProp:function(e){var t=e.propType,n=l.default.props.PropTypeKey;t===n.ES||t===n.DES||t===n.NDES||t===n.MES||t===n.LTES?this._useShield(e):t===n.BB?this._useAccelerate(e):t===n.EDC&&this._useDoubleCollect(e)},_useShield:function(e){return new(i())(function(t,n){var r,o;return this.usingShield?(f.default.alert({title:"保护罩",cont:"你的能量正在被保护，一层保护就够啦！",okBtnText:"知道了"}),t()):i().resolve(this.$store.dispatch("props/useProp",e)).then(function(i){try{return r=i,r&&(h.default.native.toast(r.useResult||"道具使用成功"),o=f.default.alert({icon:e.imageUrl,title:"保护成功",cont:"快让小伙伴们见识下你的能量保护罩吧~",okBtnText:"炫耀一下",onOkBtn:function(){l.default.share.call({desc:"我使用了能量保护罩，你们不要再惦记我的绿色能量啦，哼哼~"}),f.default.close(o)}})),t()}catch(e){return n(e)}}.bind(this),n)}.bind(this))},_useAccelerate:function(e){return new(i())(function(t,n){var r,o,a;return r=this.$store.getters["tree/waitingBubbleCount"],r<=0?(o=r===-1?"你还没有未成熟的能量球哦~":"所有能量球都成熟啦，不用加速，快去收取吧",f.default.alert({icon:e.imageUrl,cont:o,okBtnText:"知道了"}),t()):i().resolve(this.$store.dispatch("props/useProp",e)).then(function(e){try{return a=e,a&&h.default.native.toast("加速成功"),t()}catch(e){return n(e)}}.bind(this),n)}.bind(this))},_useDoubleCollect:function(e){return new(i())(function(t,n){var r;return this.usingDoubleClick?(f.default.alert({title:"双击卡",cont:"你已经有一张双击卡正在使用了，稍后在用哦~",okBtnText:"知道了"}),t()):i().resolve(this.$store.dispatch("props/useProp",e)).then(function(e){try{return r=e,r&&h.default.native.toast("使用成功"),t()}catch(e){return n(e)}}.bind(this),n)}.bind(this))},_getPropDesc:function(e){return e?e.replace(/{/g,'<span class="green"> ').replace(/}/g," </span>"):""}}};return e});t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return a?a:a="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=n(4),u=n(3),c=r(u),l=n(2),d=r(l),f=n(5),p=r(f),h=n(23),v=r(h),m={weekRank:{type:"week",name:"周排行榜",d:"d76693"},totalRank:{type:"total",name:"总排行榜",d:"d76694"}},y=s.Component.Object({mapStateToProps:{hasMore:function(e){return e.rank.hasMore},rankList:function(e){return e.rank.list},inviteds:function(e){return e.rank.inviteds},success:function(e){return e.rank.success},loading:function(e){return e.rank.loading},type:function(e){return e.rank.type},isBigPromotion:function(e,t){return t["activity/isBigPromotion"]},rankFriendTips:function(e,t){return t["activity/rankFriendTips"]},addFriendTips:function(e,t){return t["activity/addFriendTips"]}}})(function(){var e={name:"HomeRank",props:{rankList:Array,inviteds:Object,hasMore:Boolean,success:Boolean,loading:Boolean,type:String,isBigPromotion:Boolean,rankFriendTips:String,addFriendTips:String},data:function(){return{inviteUserId:"",inviteIndex:"",energyRankConf:void 0}},computed:{rankTab:{get:function(){var e=["totalRank"];try{e=JSON.parse(this.energyRankConf)}catch(e){}return e=e.map(function(e){return m[e]})}}},created:function(){return new(i())(function(e,t){var n,r,o,a;return n=this,this.energyRankConf=d.default.properties.get("energyRankConf"),i().resolve(c.default.storage.get(c.default.storage.KEY.RANK_TAB)).then(function(s){try{return r=s,r=r||this.rankTab[0].type,i().resolve(this.$store.dispatch("rank/changeTab",{type:r})).then(function(i){try{return o=i,o&&(a=".rank-item,.home-rank-add,.home-rank-more",c.default.html.simulateHover(a,"hover",".home-rank"),document.addEventListener("pause",function(){n.$store.dispatch("rank/refresh",{stop:!0})})),Tracert.expo("week"===r?"c38003.d76693":"c38003.d76694"),e()}catch(e){return t(e)}}.bind(this),t)}catch(e){return t(e)}}.bind(this),t)}.bind(this))},methods:{onClickTab:function(e){this.$store.dispatch("rank/changeTab",{type:e}),c.default.storage.set(c.default.storage.KEY.RANK_TAB,e),Tracert.click("week"===e?"c38003.d76693":"c38003.d76694"),Tracert.expo("week"===e?"c38003.d76693":"c38003.d76694")},onInvite:function(e,t,n){var r=this;this.inviteUserId=t,this.inviteIndex=n,this.unpopup=v.default.alert({title:"邀请好友加入",cont:"加入蚂蚁森林，抵御沙漠化，和我一起，开始种树",okBtnText:"发送",onOkBtn:function(){return r.onInviteFriend()}})},onInviteFriend:function(){return new(i())(function(e,t){var n,r,a;return i().resolve(this.$store.dispatch("rank/rankInviteFriend",{userId:this.inviteUserId,index:this.inviteIndex})).then(function(i){try{return n=i,r=n.error,a=o(n,["error"]),!r&&a.success?p.default.call("taost",{content:"邀请成功"}):p.default.call("taost",{content:"发送失败, 请稍后再试"}),v.default.close(this.unpopup),this.$forceUpdate(),e()}catch(e){return t(e)}}.bind(this),t)}.bind(this))},onRank:function(e,t){var n=this,r=this.$store.state.uid;e.userId!==r&&e.rank!==-1&&(setTimeout(function(){"collect"!==e.cornerDisplay&&"help"!==e.cornerDisplay&&"hongbao"!==e.cornerDisplay||n.$store.commit("rank/updateOneData",{data:{handled:!0},index:t}),n.$forceUpdate()},17),d.default.goto.homePage({userId:e.userId,status:e.cornerDisplay||"none"}),Tracert.click("c38003.d76695"))},onRankMore:function(){d.default.goto.listRank(this.energyRankConf,this.type),this.$store.commit("resume/updateToRankPage",Date.now()),Tracert.click("c38003.d14160")},onAddFriend:function(){d.default.goto.clientContacts()}}};return e});t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return o?o:o="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=n(4),s=n(2),u=r(s),c=n(3),l=r(c),d=n(5),f=r(d),p=a.Component.Object({mapStateToProps:{recommendUsers:function(e){return e.recommand.recommendUsers}},mapActionsToMethods:[]})(function(){var e={name:"Invite",props:{recommendUsers:Array},data:function(){return{isLoaded:!1,degradeIndexInvite:void 0,showNewPeople:void 0}},mounted:function(){var e=this;if(this.degradeIndexInvite=u.default.properties.get("degradeIndexInvite"),"Y"!==this.degradeIndexInvite){this.showNewPeople=!u.default.drm.get("skipRecommendList"),l.default.html.simulateHover(".unknown-item","hover",".home-unknown","unknown-btn"),l.default.html.simulateHover(".unknown-box","hover",".home-unknown","btn-more");var t=function t(){var n=e.$refs.homeUnknown;!e.isLoaded&&n.getBoundingClientRect().top<document.documentElement.clientHeight+20&&(e.isLoaded=!0,e.$store.dispatch("recommand/queryRecommand"),window.removeEventListener("scroll",t))};t.toString=function(){return"scroll_recommand_show"},l.default.event.addEventListenerUniq("scroll",t,window,!0)}},methods:{_gotoNewPeople:function(){Tracert.click("c14484.d26910"),u.default.goto.newPeoplePage()},_inviteNewPeople:function(e){return new(i())(function(t,n){var r,o,a,s,u,c,d;return r=this,o=e.userId,a=e.phoneNum,s=o||a,u=s+"_invite",l.default.lock.isLocked(u)?t():(l.default.lock.lock(u),i().resolve(l.default.native.getUserInfo()).then(function(o){try{return c=o,d=c.memo||c.nickName||c.displayName||"",f.default.call("confirm",{title:"给你的好友发送信息",message:"你的朋友"+d+"邀请你一起到支付宝种树啦，一起做一件有意义的事吧。",okButton:"发送",cancelButton:"取消"},function(t){return new(i())(function(n,o){function a(){return n()}var s,c,d,f;return t.ok?i().resolve(r.$store.dispatch("recommand/invite",e)).then(function(e){try{return s=e,c=s.error,c&&(d={NOT_TARGET_USER:"消息发送失败，请重试",INVITE_MOBILE_OVER_TIMES:"每天最多可以邀请"+(s.invitePerDay||50)+"个好友哦",INVITE_USER_ID_OVER_TIMES:"Ta今天已被邀请"+(s.invitedPerDay||2)+"次啦，明天再来邀请吧"},f=d[c.resultCode]||c.resultDesc||"消息发送失败，请重试",l.default.native.toast(f),Tracert.click("c14483.d26908")),l.default.lock.unlock(u),a.call(this)}catch(e){return o(e)}}.bind(this),o):(l.default.lock.unlock(u),a.call(this))}.bind(this))}),Tracert.click("c14483.d26904"),t()}catch(e){return n(e)}}.bind(this),n))}.bind(this))},_addFriend:function(e){var t=e.userId,n=t+"_invite";l.default.lock.isLocked(n)||(l.default.lock.lock(n),this.$store.dispatch("recommand/addFriend",e),Tracert.click("c14483.d26905"))},_toUserProfile:function(e){var t=e.userId,n=e.loginId;u.default.goto.userProfile(t,n,"by_antforest_potential_to_profilepage"),Tracert.click("c14483.d26907")},_onGotoRecommandMore:function(){u.default.goto.mayKnow(),Tracert.click("c14483.d26906")}}};return e});t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(4),o=n(2),a=r(o),s=i.Component.Object({mapStateToProps:{userEnergy:function(e){return e.userinfo.userEnergy},baseInfo:function(e){return e.userinfo.baseInfo}}})(function(){var e={name:"Stranger",props:{userEnergy:Object,baseInfo:Object,isFriend:Boolean},mounted:function(){this.$store.commit("updateIsLoaded",2)},methods:{onAddFriend:function(){var e=this.baseInfo.userId,t=this.baseInfo.loginId;a.default.goto.userProfile(e,t,"by_antforest_stranger_to_profilepage")},onGoToHome:function(){a.default.goto.homePage({canGoMyself:!0})}}};return e});t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return o?o:o="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=n(8),s=r(a),u=s.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(4),l=n(3),d=r(l),f=n(23),p=r(f),h=n(389),v=r(h),m=c.Component.Object({mapStateToProps:{show:function(e){return e.task.show},taskInfos:function(e){return e.task.taskInfos}}})(function(){var e={name:"Props",props:{show:Boolean,taskInfos:Array},computed:{taskInfoList:{get:function(){var e=this,t=(this.taskInfos||[]).map(function(t){var n={text:"",className:"",clickType:""},r=t.bizInfo.taskDesc;if("TODO"===t.taskStatus&&t.curCycleFinished)n.text="今日已完成",n.className="finished";else if("TODO"===t.taskStatus&&!t.curCycleFinished||"RECEIVED"===t.taskStatus&&t.bizInfo.ignoreReceiced)n.text=t.bizInfo.taskJumpBtn,n.clickType="JUMP";else if("FINISHED"===t.taskStatus){var i=e._stockState(t);i.currentProgressHasStock?(n.text=(t.bizInfo.finishJumpBtn||"立即领取")+(+t.awardCount>1?"x"+t.awardCount:""),n.className="award",n.clickType="GET"):i.nextProgressHasStock?(n.text=t.bizInfo.finishNoStockBtn||"已抢完",n.className="received",r=t.bizInfo.taskNextDesc||"今日已抢完，明日再来"):(n.text=t.bizInfo.finishNoStockBtn||"已抢完",n.className="received")}else"RECEIVED"===t.taskStatus&&(n.text="已领取",n.className="received");var o=u({},t,{btn:n,desc:r});return o});return t}}},methods:{showProgress:function(e){var t=e.bizInfo,n=t.showProgress;return n&&void 0!==e.taskRequire&&void 0!==e.taskProgress},calcProgress:function(e){var t=e.bizInfo,n=t.showProgress;return n&&void 0===e.taskProgress},_stockState:function(e){var t={currentProgressHasStock:!0,currentProgressStartTime:Date.now(),nextProgressHasStock:!1,nextProgressStartTime:0};if(luna.isObject(e.stockState)){var n=e.stockState;n.currentStageStock&&(t.currentProgressHasStock=n.currentStageStock.hasStock,t.currentProgressStartTime=n.currentStageStock.startTime),n.nextStageStock&&(t.nextProgressHasStock=n.nextStageStock.hasStock,t.nextProgressStartTime=n.nextStageStock.startTime)}return t},onMash:function(e){e.target.classList.contains("af-mask-blank")&&this.onClose()},onClose:function(){this.$store.commit("task/triggerShow",!1)},onTaskBtnClick:function(e){return new(i())(function(t,n){function r(){return o.call(this)}function o(){return t()}var a,s,u;return a=e.btn.clickType,"JUMP"===a?(this.onClose(),s=e&&e.bizInfo&&e.bizInfo.taskJumpUrl,v.default.tryHandleTodo(e,this.$store),s&&setTimeout(function(){d.default.scheme.go(s)},17),Tracert.click("c22416.d41412","",{taskType:e.taskType}),o.call(this)):"GET"===a?i().resolve(this.$store.dispatch("task/onTaskGetClick",e)).then(function(t){try{return u=t,u&&v.default.tryHandleFinish(e,this.$store),Tracert.click("c22416.d41413",{taskType:e.taskType}),r.call(this)}catch(e){return n(e)}}.bind(this),n):r.call(this)}.bind(this))},onTaskItemClick:function(e){var t=e.bizInfo.subAwards,n=t.length<=1?"hide":"";p.default.alert({icon:"https://gw.alipayobjects.com/zos/rmsportal/BxzXgAKIIWrTzQitprsD.png",title:e.bizInfo.taskTitle,cont:e.bizInfo.taskContent+'\n      <div class="af-task-popup-main">\n        <span class="title">奖励</span>\n        <div class="awards">\n          '+t.map(function(r){var i=t.length>1?r.awardCount:e.awardCount;return'\n                <div class="item">\n                  <img class="icon" src="'+r.awardIcon+'" />\n                  <div class="count '+n+'">x'+i+'</div>\n                  <div class="name">'+r.awardName+"</div>\n                </div>\n              "}).join("")+"\n        </div>\n      </div>",okBtnText:"知道了"})}}};return e});t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(103),o=r(i),a=n(60),s=r(a);t.default={mounted:function(){o.default.init(),s.default.init(),$("#J_treeContainer").on("click",function(){s.default.hide()})},render:function(){return""}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(4),o=n(2),a=r(o),s=i.Component.Object({mapStateToProps:{hasBarrage:function(e,t){return t["barrage/hasBarrage"]},weatherShow:function(e){return e.weather.show}}})(function(){var e={name:"TreePanel",props:{hasBarrage:Boolean,weatherShow:Boolean},computed:{isMe:{get:function(){return a.default.home.isMyself()}},antfarmEntry:{get:function(){return a.default.properties.get("antfarmEntry")}}},methods:{}};return e});t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(4),o=n(2),a=r(o),s=n(3),u=r(s),c=i.Component.Object({mapStateToProps:{pageState:function(e){return e.pageState},userEnergy:function(e){return e.userinfo.userEnergy},baseInfo:function(e){return e.userinfo.baseInfo},noticeRedDot:function(e){return e.userinfo.noticeRedDot},treeEnergy:function(e){return e.tree.treeEnergy}}})(function(){var e={name:"Userinfo",props:{pageState:String,userEnergy:Object,baseInfo:Object,treeEnergy:Object,noticeRedDot:Boolean},data:function(){return{showAdd:!1,energyAdd:0}},mounted:function(){var e=this,t=0;this.$store.subscribe(function(n,r){"userinfo/addUserEnergy"===n.type&&n.payload>0&&(e.showAdd=!1,setTimeout(function(){e.energyAdd=n.payload,e.showAdd=!0},16),clearTimeout(t),t=setTimeout(function(){e.showAdd=!1},980))})},methods:{onAvatar:function(){var e=this;if("MYSELF"===this.pageState){var t=u.default.storage.set(u.default.storage.KEY.HISTORY_DATA,{userEnergy:this.userEnergy,treeEnergy:this.treeEnergy,noticeRedDot:this.noticeRedDot});t.then(function(){e.$store.commit("resume/updateToHistory",!0),a.default.goto.history()}),Tracert.click("c8085.d14151")}else{var n=this.baseInfo.userId,r=this.baseInfo.loginId;a.default.goto.userProfile(n,r,"STRANGER"===this.pageState?"by_antforest_stranger_to_profilepage":""),Tracert.click("c10632.d19508")}},onPlantTree:function(){a.default.goto.listExchange(),Tracert.click("c8085.d14152")}}};return e});t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return o?o:o="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=n(4),s=n(5),u=r(s),c=n(3),l=r(c),d=n(2),f=r(d),p=n(46),h=r(p),v=n(101),m=r(v),y=l.default.storage.KEY,g=a.Component.Object({mapStateToProps:{show:function(e){return e.water.show},config:function(e){return e.water.config}}})(function(){var e={name:"Water",props:{show:Boolean,config:Array},data:function(){return{needSendChat:!1,posting:!1,choosedEnergy:null,showSendChat:!0,hasShow:!1,tracertId:["c40283.d81396","c40283.d81397","c40283.d81398","c40283.d81399"]}},computed:{btnDisable:{get:function(){return!this.choosedEnergy||this.posting}},selectedTitle:{get:function(){var e=this;return this.choosedEnergy?this.config.find(function(t){return t.energyId===e.choosedEnergy.energyId}).content:""}}},methods:{isChoose:function(e,t){return this.choosedEnergy&&this.choosedEnergy.energyId===e.energyId},onBeforeShow:function(){return new(i())(function(e,t){var n,r;return this.showSendChat="Y"!==f.default.properties.get("de1"),i().resolve(l.default.storage.get(y.WATER_SEND_CHAT)).then(function(o){try{return n=o,i().resolve(l.default.storage.get(y.WATER_SLT_INDEX)).then(function(i){try{return r=i,r=null!==r?r:0,this.choosedEnergy=this.config[r],this.needSendChat=!!+n,Tracert.expo("c40283"),e()}catch(e){return t(e)}}.bind(this),t)}catch(e){return t(e)}}.bind(this),t)}.bind(this))},onAfterShow:function(){this.hasShow=!0},onMash:function(e){this.hasShow&&e.target.classList.contains("af-mask")&&this.onClose()},onClose:function(){var e=this;this.$store.commit("water/triggerShow",!1),setTimeout(function(){e.hasShow=!1},300),Tracert.click("c40283.d81403")},onChooseEnergy:function(e,t){this.choosedEnergy=e,l.default.storage.set(y.WATER_SLT_INDEX,t),Tracert.click(this.tracertId[t])},onCheckSendChat:function(){this.needSendChat=!this.needSendChat,Tracert.click(this.needSendChat?"c40283.d81400":"c40283.d81401")},onSendEnergy:function(){return new(i())(function(e,t){var n,r,o;return n=this,!this.choosedEnergy||this.posting?e():(u.default.call("showLoading",{text:"发送中"}),this.posting=!0,r=luna.extend({},this.choosedEnergy,{needSendChat:this.showSendChat&&this.needSendChat,from:"friendIndex"}),i().resolve(this.$store.dispatch("water/sendEnergy",r)).then(function(i){try{return o=i,u.default.call("hideLoading"),setTimeout(function(){n.posting=!1},1500),o.success&&(h.default.water(r.energy,function(){n.$store.dispatch("water/mockBubble",r),m.default.fallSomething(r.image)}),l.default.storage.set(y.WATER_SEND_CHAT,this.needSendChat?1:0),l.default.native.toast("浇水成功")),this.onClose(),Tracert.click("c40283.d81402"),e()}catch(e){return t(e)}}.bind(this),t))}.bind(this))}}};return e});t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(4),i=r.Component.Object({mapStateToProps:{city:function(e){return e.weather.city},weather:function(e){return e.weather.weather},weatherCode:function(e){return e.weather.weatherCode},temperature:function(e){return e.weather.temperature}}})(function(){var e={name:"Weather",props:{city:String,weather:String,weatherCode:String,temperature:Number},mounted:function(){console.log("Weather mounted")},methods:{}};return e});t.default=i},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return g?g:g="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}function o(){var e={};return["week","total"].forEach(function(t){e[t]={list:[],hasMore:!1,inited:!1}}),e}function a(e){return A[e]||A.total}function s(e,t,n){e&&(n?_.default.set(A[e],n,t):A[e]=luna.extend(A[e],t))}function u(){return A=o()}function c(e){S[e]=1}function l(e){return new(i())(function(t,n){return S=luna.extend(S,e),t()}.bind(this))}function d(){return new(i())(function(e,t){var n;return i().resolve(C.default.storage.get(E.RANK_INVITED)).then(function(r){try{return n=r,P=n||{},e(P)}catch(e){return t(e)}}.bind(this),t)}.bind(this))}function f(e){P=y({},P,e||{}),C.default.storage.set(E.RANK_INVITED,P)}function p(e){return new(i())(function(t,n){var r,o;return r={},i().resolve(k.default.queryHomeRank(e)).then(function(e){try{return r=e,i().resolve(d()).then(function(e){try{return o=e,r.friendRanking=(r.friendRanking||[]).map(function(e){e.displayName=e.displayName||"你的好友",e.canCollectLaterTime=C.default.time.friendCollectionTimeFix(e.canCollectLaterTime),e.energyStr=C.default.parse.parseEnergyAmount(e.energySummation,"rank");var t=C.default.time.now();if(e.rank===-1){var n=t-(o[e.userId]||0);e.isInvited=n<2592e6}return e.headPortrait=C.default.html.tfs2mdn(e.headPortrait),e}),t(r)}catch(e){return n(e)}}.bind(this),n)}catch(e){return n(e)}}.bind(this),n)}.bind(this))}function h(e){var t=e||[];return t=t.map(function(e){var t=luna.extend({},e);return t.cornerDisplay=C.default.parse.parseCornerDisplay(t),"delay"===t.cornerDisplay&&(t._produceTime=C.default.parse.parseBubbleProduceTime(t.canCollectLaterTime,!0)),S[t.userId]&&(t.handled=!0),t})}Object.defineProperty(t,"__esModule",{value:!0});var v=n(8),m=r(v),y=m.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getTypeData=a,t.setTypeData=s,t.clear=u,t.setHandleData=c,t.appendHandleData=l,t.getInvited=d,t.setInvited=f,t.getList=p,t.refreshList=h;var g,b=n(54),_=r(b),w=n(3),C=r(w),T=n(92),k=r(T),E=C.default.storage.KEY,P={},A=o(),S={}},,,,function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Array]"===Object.prototype.toString.call(e)}function o(e,t){for(var r in t)n(t,r)&&(e[r]=t[r]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}e.exports=function e(t){if(!r(t)&&!i(t))return t;for(var a=i(t)?o([],t):o({},t),s=arguments.length,u=1;u<s;u++){var c=arguments[u]||{};if(r(c)){var l;for(l in c)n(c,l)&&(r(a[l])&&r(c[l])?a[l]=e(a[l],c[l]):r(c[l])?a[l]=e(c[l]):i(c[l])?a[l]=e(c[l]):a[l]=c[l]);for(l in a)r(a[l])&&n(a,l)&&!n(c,l)&&(a[l]=e(a[l]))}}if(1===s)for(l in a)r(a[l])&&n(a,l)&&(a[l]=e(a[l]));return a}},,,,,,,,,,function(e,t){"use strict";function n(e,t){if(!(e instanceof Array))throw new TypeError("arrayEqual 1st parameter must be an array");if(!(t instanceof Array))return!1;if(e.length!==t.length)return!1;for(var i=0,o=e.length;i<o;i++)if(e[i]instanceof Array&&t[i]instanceof Array){if(!n(e[i],t[i]))return!1}else if(e[i]instanceof Object&&t[i]instanceof Object){if(null!==r(e[i],t[i],!0))return!1}else if(e[i]!==t[i])return!1;return!0}function r(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.N,a=void 0!==o&&o,s=i.D,u=void 0!==s&&s;if("object"!=typeof e)throw new TypeError("First parameter must be an object");if("object"!=typeof t)throw new TypeError("Second parameter must be an object");var c={};return Object.keys(t).forEach(function(i){return e.hasOwnProperty(i)?null===e[i]||null===t[i]?void(e[i]!==t[i]&&(c[i]=t[i])):null===e[i]||null===t[i]?void(e[i]!==t[i]&&(c[i]=t[i])):"object"==typeof t[i]?t[i]instanceof Array?void(n(t[i],e[i])||(c[i]=t[i])):e[i]instanceof Object?(c[i]=r(e[i],t[i],{N:a,D:u}),void(null===c[i]&&delete c[i])):void(c[i]=t[i]):void(e[i]!==t[i]&&(c[i]=t[i])):void(a&&(c[i]=t[i]))}),u&&Object.keys(e).forEach(function(n){e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(c[n]=void 0)}),0===Object.keys(c).length?null:c}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){
t="function"==typeof t?t:function(){},n="function"==typeof n?n:function(){};var i=!1,o=new Image;o.onload=function(){i||(i=!0,t(o))},o.onerror=function(){i||(i=!0,n())},r&&setTimeout(function(){i||(i=!0,n())},r),o.src=e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=r(o),s=n(376),u=r(s);n(568);var c="J_activityPopup",l={showNormal:function(e,t,n){var r=this;t="function"==typeof t?t:function(){},n="function"==typeof n?n:function(){},i(e.image,function(i){var o=i.width/2/100+"rem",s=i.height/2/100+"rem",l=document.documentElement.clientWidth,d=document.documentElement.clientHeight,f=l,p=d;if(l>d&&(f=d,p=l),(f>424||p<568)&&(o=i.width/3/100+"rem",s=i.height/3/100+"rem"),!document.getElementById(c)){$("body").append(luna.template(u.default.normal)({data:e,width:o,height:s}));var h=$("#"+c),v=a.default.html.getAndroidVersion();(!v||v>6)&&(h.addClass("activity-enter activity-enter-active"),setTimeout(function(){h.removeClass("activity-enter")},35)),h.find(".activity-body").on("click",function(){t(),r._close(),n()}),h.find(".activity-close").on("click",function(){r._close(),n()})}},function(){},800)},_close:function(){var e=$("#"+c),t=a.default.html.getAndroidVersion();!t||t>6?(e.removeClass("activity-enter-active").addClass("activity-leave-active"),setTimeout(function(){e.addClass("activity-leave-to"),setTimeout(function(){e.remove()},300)},35)):e.remove()}};t.default=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n='\n  <div id="J_activityPopup" class="activity-popup af-mask">\n    <div class="activity-popup-cont">\n      <div class="activity-body" tabindex="1" role="button" aria-label="<%=data.title%>">\n        <img class="t2-ignore" aria-hidden style="width: <%= width %>; height: <%= height %>" src="<%=data.image%>" alt="<%=data.title%>">\n      </div>\n      <% if (data.richText) { %>\n        <div class="rich-text"><%unsafe= data.richText %></div>\n      <% } %>\n      <div class="activity-close af-mask-close t2-ignore" role="img" aria-label="关闭蒙层"></div>\n    </div>\n  </div>\n';t.default={normal:n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return c?c:c="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=r(o),s=n(378),u=r(s);n(570);var c,l={$dom:null,$store:{},opts:{},run:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.opts=n,this.$store=e,this.$dom=$(n.container)||$("#J_cooperation_msg_list"),this._cleanData(n.dynamics||[]).then(function(e){return t.startMessageRoll(e)})},startMessageRoll:function(e){var t=this,n=e||[];if(n.length){var r=luna.template(u.default)({list:n});this.$dom.html(r);var i=$("#J_cooperation_msg_list"),o=function e(n){setTimeout(function(){n&&i.children().first().remove(),i.children().first().remove();var r=i.children().first(),o=r.next().data("id");o&&t._appendId(o),i.children().length&&e()},2e3)};o(1),Tracert.expo("c8085.d24232")}},_cleanData:function(e){return new(i())(function(t,n){var r,o,s;return i().resolve(a.default.storage.get("cooperateDynamicIds")).then(function(i){try{return r=i||[],o=[],s=e.filter(function(e){return o.push(e.replyId),!~r.indexOf(e.replyId)}),o=r.filter(function(e){return~o.indexOf(e)}),a.default.storage.set("cooperateDynamicIds",o),t(s)}catch(e){return n(e)}}.bind(this),n)}.bind(this))},_appendId:function(e){return new(i())(function(t,n){var r,o;return i().resolve(a.default.storage.get("cooperateDynamicIds")).then(function(i){try{return r=i,o=r||[],o.push(e),a.default.storage.set("cooperateDynamicIds",o),t()}catch(e){return n(e)}}.bind(this),n)}.bind(this))}};t.default=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='<ul id="J_cooperation_msg_list" class="msg-list new">\n  <li class="hide"></li>\n  <li class="hide"></li>\n  <li class="hide"></li>\n  <% for (var i = 0; i < list.length; i++) { %>\n  <% var item = list[i]; %>\n  <li data-id="<%=(item.replyId)%>">\n    <img src="<%=(item.headPortrait)%>" class="t2-ignore"/>\n    <p><span class="name"><span><%=\'浇水\' + item.energy + \'g\'%></span></p>\n  </li>\n  <% }%>\n</ul>'},function(e,t){"use strict";function n(e,t){var n=e.value+"",r=Number(e.getAttribute("maxlength")||"10");r>0&&(n=n.slice(0,r));var i=n.indexOf(".");i>0&&(n=n.slice(0,i+3));var o=n;o=o.replace(/^\s*|\s*$/gi,"");var a=e.getAttribute("data-integer")||"0";return"1"===a?o=parseInt(o,10):t&&(o=parseFloat(o),o=parseFloat(o.toFixed(3).slice(0,-1))),o=o?""+o:"",e.value=o,o}function r(e,t){var n=e.amount,r=e.count,i=e.remark,o=t||{},a=o.minAmount,s=void 0===a?1:a,u=o.maxAmount,c=void 0===u?9999:u,l=o.minCount,d=void 0===l?1:l,f=o.maxCount,p=void 0===f?100:f;n=parseFloat(n),n=parseFloat(n.toFixed(3).slice(0,-1)),r=parseInt(r,10);var h={success:!1,error:"",data:{},for:""};return n?r?n<+s?(h.for="num",h.error="最少包"+s+"元的红包哦",h):n>+c?(h.for="num",h.error="土豪不能超过"+c+"元哦",h):r<+d?(h.for="count",h):r>+p?(h.for="count",h.error="一次最多发"+p+"个红包哦",h):n/r<.01?(h.error="单个红包金额不能小于0.01元",h):(h.success=!0,h.data={amount:n,count:r,remark:i},h):(h.for="count",h):(h.for="num",h)}Object.defineProperty(t,"__esModule",{value:!0}),t.inputHandler=n,t.inputValid=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <div id="J_hongbaoWater" class="hongbao-popup af-mask" style="position: absolute !important;">\n    <div class="hongbao-cont" data-aspm="c49914">\n      <div class="hb-wrap">\n        <div class="hb-bg1"></div>\n        <div class="hb-box">\n          <p class="hb-title">包爱心红包</p>\n          <p class="hb-title-sub">好友给你浇水后，才可领取红包</p>\n          <div class="hb-input-box" data-aspm-d="d102722">\n            <span class="left">总金额</span>\n            <input id="J_payNum" class="mid" type="<%= isAndroid ? \'tel\' : \'number\' %>" value="<%= amount %>" pattern="[\\d\\.]*" placeholder="填写金额" data-type="num" />\n            <span class="right">元</span>\n          </div>\n          <div class="hb-input-box" data-aspm-d="d102721">\n            <span class="left">红包个数</span>\n            <input id="J_payCount" class="mid" type="<%= isAndroid ? \'tel\' : \'number\' %>" value="<%= count %>" pattern="[\\d]*" placeholder="填写个数" data-type="count" data-integer="1"/>\n            <span class="right">个</span>\n          </div>\n          <div class="hb-remark" data-aspm-d="d102722">\n            <div class="hb-remark-txt">\n              <span>给好友的寄语</span>：<span id="J_payRemark"><%= remark %></span>\n            </div>\n            <div id="J_payChange" class="hb-remark-change"></div>\n          </div>\n        </div>\n        <div class="hb-bg2">\n          <div class="hb-btn" data-aspm-d="d102720">\n            <p id="J_payBtn" class="btn-1 text-mid <%= amount ? \'\' : \'dis_num\' %> <%= count ? \'\' : \'dis_count\' %>" style="width: 2.4rem; height: .49rem;">塞钱进红包</p>\n          </div>\n        </div>\n      </div>\n      <div class="J_close hb-close"></div>\n    </div>\n  </div>\n'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return v?v:v="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(382),a=r(o),s=n(2),u=r(s),c=n(3),l=r(c),d=n(256),f=r(d),p=n(257),h=r(p);n(572);var v,m={next:function(){},start:function(e){return new(i())(function(t,n){var r;return this.next=function(){e.dispatch("autoPopupNext",void 0,{root:!0})},i().resolve(this._queryAward()).then(function(e){try{return r=e,r?this._show(r):this.next(),t()}catch(e){return n(e)}}.bind(this),n)}.bind(this))},_show:function(e){var t=this;$("body").append(luna.template(a.default)({data:e}));var n=$("#J_invitePopup");n.find(".invite-btn").on("click",function(r){n.remove(),t.next(),l.default.scheme.go(e.link)}),n.find(".invite-close").on("click",function(e){n.remove(),t.next()})},_queryAward:function(){return new(i())(function(e,t){var n,r,o,a,s,c,d;return n=null,r=l.default.native.getMultiSourceParam("inviterUserId"),o=l.default.native.getMultiSourceParam("uk"),a=l.default.native.getMultiSourceParam("bizTraceId"),r&&o?i().resolve(u.default.rpc.achieveBeInvitedP2P(r,o,a)).then(function(o){function a(){return p.call(this)}function p(){return v.call(this)}function v(){return m.call(this)}function m(){return e(n)}try{return s=o,s.success?s.hasHandle?v.call(this):s.hasExpire?(l.default.native.toast("链接过期了，下次早点哦~"),p.call(this)):s.awardType?i().resolve(l.default.native.getAccounts([r])).then(function(e){try{return c=e,c.length>0?(c=c[0],c=c.memo||c.nickName||c.displayName,(0,f.default)(c)>10&&(c=(0,h.default)(c,10)+"...")):c="一个好友",d=u.default.props.getAwardInfoObj(),n=d[s.awardType],n&&(n.userName=c),a.call(this)}catch(e){return t(e)}}.bind(this),t):a.call(this):m.call(this)}catch(e){return t(e)}}.bind(this),t):e(n)}.bind(this))}};t.default=m},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n='\n  <div id="J_invitePopup" class="invite-popup af-mask">\n    <div class="invite-popup-cont">\n      <p class="invite-award"><img src="<%=data.icon%>" class="t2-ignore"></p>\n      <p class="invite-text">\n        <b><%=data.userName%></b>\n        <%unsafe= data.desc%>\n      </p>\n      <p class="invite-btn">\n        <button>去看看</button>\n      </p>\n      <div class="invite-close af-mask-close t2-ignore" role="img"></div>\n    </div>\n  </div>\n';t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(5),o=r(i),a={bridgeCall:function(e,t,n){var r={requestType:e};luna.isFunction(t)?n=t:luna.extend(r,t),o.default.call("healthKitRequest",r,function(e){n(e)})},isAvailable:function(e,t){t=t||function(e){var t=!0;return void 0!==e.available&&(t=e.available),t},this.bridgeCall("isAvailable",function(n){e(t(n))})},getPrivilege:function(e){this.bridgeCall("hasStepCountAuthorization",function(t){var n="undefined";if(t.authorizationStatus)switch(t.authorizationStatus){case"authorizationStatusSharingAuthorized":n=!0;break;case"authorizationStatusSharingDenied":n="deny";break;case"authorizationStatusNotDetermined":n=!1;break;default:n="undefined"}e(n)})}};e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return u?u:u="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}function o(){l.default.call("startApp",{appId:"20000869",param:{url:"/www/open.htm?sourceName=antforesthome",startMultApp:"YES",canPullDown:"NO",showOptionMenu:"NO",cAppName:"蚂蚁森林",cAppId:"antforesthome",cBizId:"home"},closeCurrentApp:!1,appClearTop:!1},function(e){e.error&&console.error(e)})}function a(){return new(i())(function(e){m.default.isAvailable(function(t){t?m.default.getPrivilege(function(t){e(t===!0)}):e(!0)})})}function s(e){var t=h.default.alert({icon:"https://gw.alipayobjects.com/zos/rmsportal/NQDCVHpQwTlAWlApQEXV.png",title:"行走可得绿色能量",cont:"未能检测您的运动数据，开启后才能记录你的运动数据哦！",okBtnText:"去开启",zIndex:199,onOkBtn:function(){e&&e(),h.default.close(t)}})}Object.defineProperty(t,"__esModule",{value:!0}),n(573);var u,c=n(5),l=r(c),d=n(3),f=r(d),p=n(23),h=r(p),v=n(383),m=r(v),y=n(385),g=r(y),b={next:null,store:null,start:function(e){return new(i())(function(t,n){function r(){return o?this._guideStrategy():this.next(),t()}var o,a;return this.store=e,this.next=function(){e.dispatch("autoPopupNext",void 0,{root:!0})},o=e.state.needGuide,o?i().resolve(f.default.storage.get(f.default.storage.KEY.GUIDE_VISITED)).then(function(e){try{return a=e,"visited"===a&&(o=!1),r.call(this)}catch(e){return n(e)}}.bind(this),n):r.call(this)}.bind(this))},_guideStrategy:function(){var e=this,t=luna.template(g.default)({});$("body").append(t),f.default.html.forbidBodyScroll();var n=$("#J_guide");setTimeout(function(){n.find(".J_nextBtn").on("click",function(e){e.preventDefault(),e.stopPropagation(),n.removeClass("af-mask-blank").addClass("af-mask"),n.children().removeClass("act"),n.find(".stage-2").addClass("act")}),n.find(".J_guide_wrap").on("click",function(t){t.preventDefault(),t.stopPropagation(),n.remove(),f.default.html.allowBodyScroll(),e.__guide_next__(),e._guideSport()})},17)},__guide_next__:function(){f.default.storage.set(f.default.storage.KEY.GUIDE_VISITED,"visited"),this.next()},_guideSport:function(){return new(i())(function(e,t){var n,r,u;return n="newUserServerSportStatus",r=f.default.storage.getLS(n),i().resolve(a()).then(function(i){try{return u=i,f.default.storage.removeLS(n),"OPEN"===r?u||s(function(){l.default.call("pushWindow",{url:"alipays://platformapi/startapp?appId=20000869&url=%2Fwww%2Findex.htm%3FsourceName%3Dantforesthome"})}):"UNOPEN"!==r&&"CLOSE"!==r||s(function(){o()}),e()}catch(e){return t(e)}}.bind(this),t)}.bind(this))}};t.default=b},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n='\n  <section id="J_guide" class="af-guide af-mask-blank">\n    <!-- 引导一 -->\n    <div class="stage-1 act">\n      <div role="button" aria-disabled="false" aria-label="收集能量-1克" class="af-guide-bubble J_nextBtn t2-ignore"/>\n      <div class="af-guide-cursor t2-ignore"></div>\n    </div>\n    <!-- 引导二 -->\n    <div class="stage-2 af-guide-wrap J_guide_wrap">\n      <div class="af-guide-title af-cm-border-bottom">\n        <div class="text am-ft-center am-ft-14">(低碳行为产生的绿色能量<span class="hour" />后可收取)</div>\n      </div>\n      <div class="af-guide-cont am-ft-15">\n        <div class="af-guide-item walk">行走</div>\n        <div class="af-guide-item pay">线下支付</div>\n        <div class="af-guide-item bike">共享单车</div>\n        <div class="af-guide-item train">网购火车票</div>\n        <div class="af-guide-item life">生活缴费</div>\n        <div class="af-guide-item bus">公交车</div>\n        <!-- <div class="af-guide-item metro">地铁</div>\n        <div class="af-guide-item film">网络购票</div>\n        <div class="af-guide-item bill">电子发票</div>\n        <div class="af-guide-item business">绿色办公</div> -->\n      </div>\n      <img class="af-guide-more-tips" src="https://gw.alipayobjects.com/zos/rmsportal/yAaDUSzCAOwOZDtvLTYr.png" />\n      <img class="af-guide-gonglue" src="https://gw.alipayobjects.com/zos/rmsportal/ccjIPxufWJUvzHdoLYoL.png" />\n      <div class="af-guide-close" role="button" aria-disabled="false" aria-label="关闭引导蒙层"/>\n    </div>\n  </section>\n';t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(29),o=n(5),a=r(o),s=n(2),u=r(s),c={redDot:!1,init:function(){a.default.call("setOptionMenu",{preventDefault:!0}),a.default.call("showOptionMenu")},showPopMenu:function(){var e={share:"iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAMAAADyHTlpAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABgUExURUxpcTQ0NHV1dRYWFklJSUhISEVFRTs7O9TU1D09PRMTE0RERAwMDEpKSkVFRTIyMjMzM0hISCUlJT09PdTU1Hd3d0NDQ6ysrE5OTn5+fnNzcz09PUNDQxkZGVZWVmhoaE0X4moAAAAgdFJOUwBqehuuwsLFJLcXmwR6ukoJyS5xDGamHZJLda6UUWaCTEeZlwAAAOpJREFUOMvV1dsSgiAQBmBUxERFwEN56P1fMy1DkV3krum/kp1vOO2ohPxf2tue1q7dbVkXuQmrv0X2Hk8VP8qUpSbKULWMmBBqlvvqBSsik0ZvZd2sIypENhh6y9MIO0QjFjoG0LJirKdZfE1XOes+gK6y4Dxg1o8kyTXdZAD9SsIffeelRi6PZemjB2nFpZh0KSodissz9cgT9UmbOrKUEr4sd06sBcDqSGOhfcJUQieCaa2As8NU09m9JWSvXJJQCuXn1Hpj7xNrEjSaZntjSaUExSPyw3eTz5kn+fO4HzmMMZYu+b8/ywsfKxBSN/FPlgAAAABJRU5ErkJggg==",help:"iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAMAAADyHTlpAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABgUExURUxpcSUlJTk5OUlJSUZGRkpKSklJSUVFRUhISENDQxUVFTAwMDY2NkNDQzs7OzExMUdHRz8/PyoqKnBwcDIyMiYmJjs7Oz8/PxMTEzY2NlVVVT09PdPT02xsbNHR0WxsbJ38f10AAAAgdFJOUwAVXaPGrrvBwbsITDeWwT+Max1/JS54vw6IkqoVVyc6/FOlgAAAAgBJREFUOMu9Vdu2oyAMrSAkUShoVarW0///y8EbgrZnHmatyRPCJpedTbzd/otl7+kx2/TOfseV/XjfbbRl8Q34ZAIBHC4GjgB5+RlpOIA/fTCjWlVWgwQitPUVWFTeo7TmyLBhHAiEuiA7JNSn7aySRNKckTlhda2i5XjGVkDyYwm1RhJNXJGPHiHrtg3VZBpAH+GeHLAKX8oKRGH3vBtBwMIhiy8ymQPObOxhSp/CzksmQIbalQTOlKokiD0JC8FtCWBDBJuvVZQYzufbz3XZAwY+agHdln/e75sacI2ajeGSJxI3Kgp9QBniev99d4+jm3JzENwvm6CXxXRHFlFs9qYcWWUcxte8eNzRXLpUSrAH8RroZ4OqKzLnkfwGcDu0vfrkceMH57549T3hiaTt4fUkqhLS7Au+5TrdoUqhXS6S5+qJWxnwvA4p1OY6UbnCjddsJNmcoOndDneNRsrZvPQmrZKoDYLkv40SBm4o9gIpLazpWREXRTDdDp3LuAt9HjelSx6XhSQFhtEX80/UJDFQR9g2i3pMeZKdkh7bfCpJUiyxRaZ+S1yGRu3HE+gzO0aAn3uJbjLm98BeeWz8yAGpWbMcFbXqZuCnQeZPvRM/YCXXdrDcTxhywM23+c74PFc2Qxqm4nsPn6bTIznnaNRVW/ztH/P6me31L7+pP1XgGoRTr6dYAAAAAElFTkSuQmCC",setting:"iVBORw0KGgoAAAANSUhEUgAAACoAAAAqBAMAAAA37dRoAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAYUExURXV1dUxpcXR0dHBwcHR0dHR0dHJycnNzc4M6mGcAAAAIdFJOU/4A1RiCrTdZWyX84QAAAY1JREFUKM+Nk0FPwkAQhZ/bIleWLct1KaJX25hwLSB63YrR6xJjvLbi/48zs0AACbFJs83X2dl5b2ahzz24TB2A+pQaghid0iHyHNdHNKz0AGtdpdrmxY5aYBHoI6gPj/GOBs7Z0brPqyoitVAVkGrKAswlmDdibPwdhzy4hXEcTJQ32Xg2LSXXR9Snh7IGmAm9B+8eLidPTBsV82asdMiKb1l5N1LDmjxXRZszkS2VjShbZ2O+0aWQROjUo9UNvVpXLFu9FxosqIjZ5ITAMtEDXsmxaK1LdOahiKo1B7VCq26sjaiULgbqhgX1drS/NT8c0b+xWBzntZVQTESItDRh64kOnNSbRr9q0oMb0mbnJD+wf8bTf9/Z7H3IoJ6/KrLJ4OrAs0Y8W5PKrWfivmUrV3rbGekmF2t+HjciBLGb7mzfuNdZ1Dbl2FpoibF1KTmnP/FmeYikBqe8zA43wIvTbFZJIuOcKZm3SCm4Leno0KHO1fv5LWd0dMuOmeXJrNOT/O9e6Jc8z2eX79svr/ROd3ASHXcAAAAASUVORK5CYII="};a.default.call("showPopMenu",{menus:[{name:(0,i.t)("share"),tag:"share",icon:e.share},{name:(0,i.t)("help"),tag:"help",icon:e.help},{name:(0,i.t)("setting"),tag:"setting",icon:e.setting}]})},popMenuClick:function(e){var t=e?e.data:{};switch(t.title){case(0,i.t)("share"):this.homeShare({}),Tracert.click("c8085.d14158",{menuType:"share"});break;case(0,i.t)("help"):u.default.goto.help(),Tracert.click("c8085.d14158",{menuType:"help"});break;case(0,i.t)("setting"):u.default.goto.setting(),Tracert.click("c8085.d14158",{menuType:"setting"})}},homeShare:function(){u.default.share.call()}};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=r(i),a={REMIND:"REMIND",BARRAGE:"BARRAGE"},s={bubble:o.default.html.showBubbleTips,corner:o.default.html.showCornerTips},u={_pool:{},KEY:a,init:function(){var e=this;Object.keys(this._pool).forEach(function(t){e.hide(t)})},show:function(e,t,n){Object.keys(this._pool).length||e&&t&&s[t]&&(this.hide(e),this._pool[e]=s[t](n))},hide:function(e){"function"==typeof this._pool[e]&&(this._pool[e](),delete this._pool[e])}};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return s?s:s="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}function o(){var e="alipays://platformapi/startapp?appId=20000067&url=https%3A%2F%2Frender.alipay.com%2Fp%2Ff%2Ffd-jut44jb7%2F1577788583929.html&pr=NO&pd=NO&bc=3194732&so=NO&ttb=auto";p.default.call("pushWindow",{url:e,param:{transparentTitle:"auto",backgroundColor:c.default.biz.getBBC(),closeCurrentWindow:!c.default.home.isMyself()}})}function a(){return new(i())(function(e,t){var n,r,a,s,u,l,f,p,w,C,T;return n=parseInt(b.getItem(y))||0,r=parseInt(b.getItem(g))||0,r>0&&n>r?(o(),e()):(a=parseInt(b.getItem(v))||0,s=parseInt(b.getItem(m))||0,s>0&&a>s?(d.default.native.toast(_.LIMIT),e()):h?e():(h=!0,i().resolve(i().all([c.default.rpc.takeLook(),d.default.time.delay(300)])).then(function(r){try{return u=r,l=u[0],setTimeout(function(){h=!1},700),l.success?(f=l.pageReloadCount||0,b.setItem(m,f),l.friendId?(a++,b.setItem(v,a),p=c.default.drm.get("animeLoad"),c.default.goto.homePage({userId:l.friendId,isReplace:!c.default.home.isMyself(),status:"",other:p?"loadAmine=friend":""})):o()):(w=l.error.retries||0,b.setItem(g,w),C=l.error.resultCode,T=l.error.resultDesc||"网络繁忙, 请稍后再试","TAKE_LOOK_TRY_AGAIN"===C?(n++,b.setItem(y,n),d.default.native.toast(T)):"NO_FRIENDS"===C?o():d.default.native.toast(T)),e()}catch(e){return t(e)}}.bind(this),t)))}.bind(this))}Object.defineProperty(t,"__esModule",{value:!0}),t.go=a;var s,u=n(2),c=r(u),l=n(3),d=r(l),f=n(5),p=r(f),h=!1,v="JUMP_COUNT",m="MAX_JUMP_COUNT",y="RETRY_COUNT",g="MAX_RETRY_COUNT",b=window.sessionStorage||{getItem:function(){},setItem:function(){}},_={LIMIT:"你今天逛的次数太多了，休息一下再来吧"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(390),s=r(a),u=n(5),c=r(u);n(574),t.default={$ele:null,$store:null,tryHandleTodo:function(e,t){this.$store=t,e&&"ANTFOREST_FOREST_PUT_INDEX"===e.taskType&&(this.$store.commit("task/triggerShow",!1),c.default.call("addToHomeWithComponent",{appId:"60000002"},function(e){o.default.logger.info("ADD_TO_HOMESTAGE",e)}))},tryHandleFinish:function(e,t){this.$store=t,this._validNeedShow(e)&&(this.$store.commit("task/triggerShow",!1),this._show(e))},_show:function(e){var t=this,n=e.bizInfo;if(n&&n.awardImage){var r=luna.template(s.default)({data:n});$("body").append(r),this.$ele=$("#J_popupAward"),$("#J_popupAward_receive").on("click",function(e){t._hide(),t.$store.dispatch("props/showPropsPanel",2)}),$("#J_popupAward_dress").on("click",function(e){t._hide()}),$("#J_popupAward_close").on("click",function(e){t._hide()})}},_hide:function(){this.$ele&&this.$ele.remove()},_validNeedShow:function(e){return e&&e.bizInfo&&e.bizInfo.awardImage}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n='\n<div id="J_popupAward" class="af-mask af-popup-award">\n  <div class="award-box">\n    <div class="award-cont">\n      <div class="award-img">\n        <div class="award-img-bg"></div>\n        <div class="award-img-pic">\n          <img src="<%=data.awardImage%>" />\n        </div>\n      </div>\n      <div class="award-title">恭喜你获得 <%=data.awardName%></div>\n      <div class="award-desc"><%=data.taskDesc%></div>\n      <div class="award-btn">\n        <button id="J_popupAward_receive" class="btn-2">确定</button>\n      </div>\n    </div>\n    <div id="J_popupAward_close" class="af-mask-close">关闭</div>\n  </div>\n</div>\n';t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(i),a=n(31),s=r(a),u={show:function(e,t){(0,s.default)(function(n){try{window.scrollTo(0,0),n.ui.treeDialog.show({wrapDom:"#J_tree_dialog_wrap",data:e,domClass:"guide-next",onShow:function(){"function"==typeof t&&t(),e.spmId&&Tracert.expo(e.spmId)},onBtnClick:function(){e.link&&o.default.call("pushWindow",{url:e.link}),e.spmId&&Tracert.click(e.spmId)}})}catch(e){console.log("guideCommon error",e)}})}};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(31),s=r(a),u=["PICTURE_INFO","QUERY_SPORTS_STATUS"],c={show:function(e,t){var n=[];if(e.self&&(n=n.concat(u)),!n.length){var r=!1;return void t(r)}(0,s.default)(function(e){try{e.biz.tiredInfo.do({bizType:n,bizData:{source:"firstPageTree",contactsStatus:"N"},treeDialog:{wrapDom:"#J_tree_dialog_wrap"},callback:function(e){var n=!(e.error||e.success===!1);t(n),n||o.default.logger.errorCommon("POPUP",e.bizType,e.error)}})}catch(e){var r=!1;t(r)}})}};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),a=i(o),s=n(2),u=r(s),c=n(394),l=r(c),d={_texts:{normal:l.default.normal,friendDress:l.default.friendDress},hideTimeoutIndex:0,init:function(){var e=u.default.drm.get("normalBubbleTexts")||[];this._texts.normal=l.default.normal.concat(e)},show:function(e){var t=this;$("#J_tree_dialog_wrap").children().length>0||(this.hideTimeoutIndex?this.hide():setTimeout(function(){t._showText(e||{})},32))},hide:function(){clearTimeout(this.hideTimeoutIndex),this.hideTimeoutIndex=0;var e=this._getTextContainer();e.hide()},_showText:function(e){var t=this;this.hideTimeoutIndex=setTimeout(function(){return t.hide()},4e3);var n=this._getRandomText(e);if(n)try{n=n.text.replace(/<br\s*(\/)?>/gi,"\n");var r=this._getTextContainer();r.dialog(n)}catch(e){}},_getRandomText:function(e){if(e.self){var t=Math.floor(this._texts.normal.length*Math.random());return this._texts.normal[t]}if(e.friend&&e.hasDress)return this._texts.friendDress},_getTextContainer:function(){return a.app.root.childMap.dialogContainer}};t.default=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={friendDress:{text:"点点树，有惊喜"},normal:[{text:"钉钉绿色办公<br/>异地会议免出行，工作高效也减排"},{text:"你在城市绿色低碳<br/>我在沙漠拼命成长~"},{text:"为了长大我用尽了洪荒之力<br/>主人的低碳行为可不能少呀~"},{text:"多走路，少开车<br/>减少排放我最行"},{text:"走路一公里<br/>攒了绿色能量，也看了更多风景"},{text:"别看我不起眼<br/>我可以保护10㎡荒漠呢~"},{text:"沙漠里的我有超强的<br/>抗旱、抗热、抗寒能力~"},{text:"我是荒漠里的植被之王~"},{text:"亲~线下购物用支付宝<br/>节约小票打印纸，更环保奥~"},{text:"网购火车票，减少奔波<br/>也减少碳排放，很绿色。"},{text:"每天走一万步，身体好<br/>出门选择公共交通，为地球减减负~"},{text:"网络购买电影票<br/>简单快捷减排放~"},{text:"ETC缴费不停车<br/>省时省油还减排呢~"},{text:"有爱的主人去给好友浇浇水吧<br/>大家一起才能种出大片的森林~"},{text:"听说<br/>低碳行为第二天才能产生绿色能量~"},{text:"能量三天不收，就会自动消失哟~"},{text:"把我养大后，就能种一棵真树咯~"},{text:"睡觉前来看一下宝宝<br/>明天能量会更多噢~"}]};t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return p?p:p="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=r(o),s=n(2),u=r(s),c=n(3),l=r(c),d=n(396),f=r(d);n(576);var p;t.default={data:null,$store:null,$wapper:null,show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.store,n=e.data,r=e.point,i=void 0===r?{left:"0px",top:"0px"}:r;if(t=t||window.AF_STORE,$("#J_whisper_container").remove(),t&&t.dispatch&&n){var o=$(luna.template(f.default)(n));this.data=n,this.$store=t,this.$wapper=o,$("body").append(o);var a=o.find(".J_whisper_icon"),s=o.find(".J_whisper_main"),u=a.get(0).getBoundingClientRect(),c={top:u.top+"px",left:"0.625rem"},l="translate(calc("+i.left+" - "+c.left+"), calc("+i.top+" - "+c.top+")) scale(0.3)";a.css({webkitTransform:l,transform:l}),setTimeout(function(){return o.removeClass("hide")},17),setTimeout(function(){s.removeClass("init"),a.css({webkitTransform:"translate(-100%, 0) scale(1)",transform:"translate(-100%, 0) scale(1)",webkitTransition:"all 0.3s",transition:"all 0.3s"})},85),this.bindEvent(),Tracert.expo("c40525.d81915")}},hide:function(){var e=this,t=this.$wapper;t&&(t.addClass("hide"),setTimeout(function(){t.remove(),e.data=null,e.$store=null,e.$wapper=null},300))},bindEvent:function(){var e=this,t=this.$wapper;if(t){var n=t.find(".J_whisper_main"),r=t.find(".J_whisper_close"),i=t.find(".J_whisper_reply"),o=t.find(".J_whisper_like");n.on("click",function(e){e.preventDefault(),e.stopPropagation()}),r.on("click",function(t){t.preventDefault(),t.stopPropagation(),e.hide()}),i.on("click",function(){e.hide(),e.$store.dispatch("barrage/showPanel",e.data.fromUser),Tracert.click("c40525.d81914")}),o.on("click",function(){e.hide(),e._like()})}},_like:function(){return new(i())(function(e,t){var n,r,o;return n=this.data.fromUserId,r="4",i().resolve(u.default.rpc.sendBarrage(n,r)).then(function(n){try{return o=n,o.success?(l.default.native.toast("点赞成功"),a.default.call("vibrate")):l.default.native.toast(o.error.resultDesc),e()}catch(e){return t(e)}}.bind(this),t)}.bind(this))}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n<div id="J_whisper_container" class="whisper-container hide af-mask">\n  <div class="whisper-main init J_whisper_main">\n    <div class="whisper-close J_whisper_close"></div>\n    <div class="whisper-icon J_whisper_icon" style="background-image: url(<%= fromUser.headPortrait %>)"></div>\n    <div class="whisper-tc">\n      <div class="whisper-title"><%= fromUser.displayName %>对你说：</div>\n      <div class="whisper-content"><%= content %></div>\n    </div>\n    <div class="whisper-btns">\n      <div class="btn btn-left J_whisper_reply">回复</div>\n      <div class="btn btn-right J_whisper_like">点赞</div>\n    </div>\n  </div>\n</div>\n'},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d.default?(0,d.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(8),c=i(u),l=n(9),d=i(l),f=n(61),p=i(f),h=c.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=n(7),m=r(v);t.default=m.CustomAnimateSprite=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),n=h({},t.defaults,n,r);var i=m.resources[n.frames],s=(0,p.default)(i.textures);"undefined"==typeof s[0]?s=[m.Texture.EMPTY]:"alternate"===n.direction?s=[].concat(s).concat(s.reverse()):"reverse"===n.direction&&(s=s.reverse());var u=a(this,e.call(this,s));return u.animationSpeed=n.speed,u.config=n,u.textures=s,u.layout=new m.CustomLayout(u.config),u.layout.place(u),u}return s(t,e),t}(m.AnimatedSprite)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(c.default?(0,c.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),c=i(u),l=n(7),d=r(l);t.default=d.CustomContainer=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var r=a(this,e.call(this,n));return r.config=n,r.layout=new d.CustomLayout(r.config),r.layout.place(r),r.childMap={},r}return s(t,e),t.prototype.addChild=function(t){e.prototype.addChild.call(this,t),t.name&&(this.childMap[t.name]=t)},t}(d.StoreContainer)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a,s,u=n(8),c=i(u),l=c.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=n(7),f=r(d),p={left:0,center:.5,right:1},h={top:0,center:.5,bottom:1},v=function(e){var t=e.split(",").map(function(e){return e.trim()});return 1===t.length&&("left"===t[0]||"right"===t[0]?t[1]="center":t[1]=t[0]),{x:t[0],y:t[1]}};t.default=f.CustomLayout=(s=a=function(){function e(t){o(this,e);var n=375===+document.documentElement.clientWidth&&812===+document.documentElement.clientHeight;this.options=t=l({},e.defaults,t);var r=this.anchor=v(t.anchor);r.x=p[r.x],
r.y=h[r.y];var i=this.position={},a=v(t.alignment),s=v(t.offset);switch(s.x=s.x.match(/%$/)?parseInt(s.x,10)/100*f.WIN_SIZE.width:parseInt(s.x,10),s.y=s.y.match(/%$/)?parseInt(s.y,10)/100*f.WIN_SIZE.height:parseInt(s.y,10),a.x){default:case"left":i.x=s.x;break;case"center":i.x=f.WIN_SIZE.width/2+s.x;break;case"right":i.x=f.WIN_SIZE.width-s.x}switch(a.y){default:case"top":i.y=n&&t.clientLayout?s.y+48:s.y;break;case"center":i.y=f.WIN_SIZE.height/2+s.y;break;case"bottom":i.y=f.WIN_SIZE.height-s.y}var u=this.size={},c=t.scale||1,d=v(t.size);u.x=d.x.match(/%$/)?parseInt(d.x,10)/100*f.WIN_SIZE.width:parseInt(d.x,10),u.y=d.y.match(/%$/)?parseInt(d.y,10)/100*f.WIN_SIZE.height:parseInt(d.y,10),u.x=u.x*c,u.y=u.y*c}return e.prototype.place=function(e){e.position.x=this.position.x,e.position.y=this.position.y,e.anchor&&(e.anchor.x=this.anchor.x,e.anchor.y=this.anchor.y),this.options.size&&(e.width=this.size.x,e.height=this.size.y)},e}(),a.defaults={anchor:"left,top",alignment:"left,top",offset:"0",size:"",pivot:"0"},s)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(c.default?(0,c.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),c=i(u),l=n(7),d=r(l);t.default=d.CustomSprite=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var r=d.TextureCache[n.image];r||(r=d.Texture.fromImage(n.image));var i=a(this,e.call(this,r));return i.config=n,i.layout=new d.CustomLayout(i.config),i.layout.place(i),i.config.opacity&&i.setOpacity(i.config.opacity),i}return s(t,e),t}(d.Sprite)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(c.default?(0,c.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),c=i(u),l=n(7),d=r(l),f={};t.default=d.CustomText=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2];if(o(this,t),!i)throw new Error("Text 未定义 key："+n);var s=(f[i]||{}).canvas;s||(s=document.createElement("canvas"));var u=a(this,e.call(this,n,r,s));return u._key=i,f[i]={canvas:s,text:u},u}return s(t,e),t.prototype.destroy=function(t){e.prototype.destroy.call(this,{children:!0,texture:!0,baseTexture:!0}),f[this._key].text=null,t&&(f[this._key].canvas=null,f[this._key]=void 0)},t}(d.Text),window._TextOffscreenCanvas=f},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var i=n(7),o=r(i),a=n(579);o.ParticleContainer=a.ParticleContainer},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(){return c?c:c="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(p.default?(0,p.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,l=n(8),d=i(l),f=n(9),p=i(f),h=d.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=n(7),m=r(v),y=n(3),g=i(y),b=n(14),_=i(b),w=n(35),C=i(w),T=n(20),k=i(T),E=n(45),P=i(E),A=k.default.bubblesLayer,S=74,x=58,O=2*S,I=2*x,M=(O-I)/2,R={BALL:"ball",BG:"bg",LIGHT:"light",EMPTY:"empty",EMPTY_MASK:"empty_mask",DIVIDE:"divide",DIVIDE_MASK:"divide_mask",DOUBLE:"double",TEXT:"text",BIZ_TEXT:"biz_text",TEXT_HAISHENG:"text_haisheng",TEXT_XIAOSHI:"text_xiaoshi"},D={WAITING:"WAITING",HELP:"WAITING",ENERGY:"ENERGY",BIZTEXT:"BIZTEXT",NUMBER:"NUMBER"},L=function(e){function t(n,r){a(this,t);var i=s(this,e.call(this,n,r));return i.textPrefix="tileset-text"+(i.isDay?"Day-":"Night-"),i.self=i._isMyself(),i.draw(n),i.self?"AVAILABLE"===n.collectStatus&&Tracert.expo("c8085.d19514"):i._isCanHelpCollect(n)?Tracert.expo("c10632.d27105"):"AVAILABLE"===n.collectStatus&&Tracert.expo("c10632.d19707"),i}return u(t,e),t.prototype.draw=function(t){e.prototype.draw.call(this,t),this.waterLevelAnime&&(this.waterLevelAnime.stop(),this.waterLevelAnime=void 0);for(var n=this.removeChildren(),r=0;r<n.length;++r)n[r].destroy({children:!0});var i=new m.CustomContainer;i.name=R.BALL,this.addChild(i);var o=new m.CustomSprite(A.bubbleFull);o.name=R.BG,i.addChild(o),this._isHideBubbleNo()||this._drarWaterLevel(t,i),this._drawBubbleText(t,i),this._drawLight(i),this._drawDouble(t,i),this._setOpacity(t),this._bizText(t)},t.prototype.onChange=function(t,n){e.prototype.onChange.call(this,t,n),n.attribute===_.default.FORCE_COLLECT?this._animeForceProduce(t):(t.collectedEnergy&&this._animeCollectNumber(t),this.draw(t))},t.prototype.onClick=function(t,n){return new(o())(function(r,i){function a(){return Tracert.click("c8085.d19514"),l.call(this)}function s(){return u.call(this)}function u(){return y=m.app.root.childMap.shieldContainer,y.tryDuang(n),Tracert.click("c10632.d19707"),c.call(this)}function c(){return l.call(this)}function l(){return o().resolve(g.default.time.delay(300)).then(function(e){try{return g.default.lock.unlock(p),r()}catch(e){return i(e)}}.bind(this),i)}var d,f,p,h,v,y;return e.prototype.onClick.call(this,t,n),d=this.store,f=t.id,p="bubbleClick."+f,g.default.lock.isLocked(p)?r():t.attribute===_.default.FORCE_COLLECT&&this.forceCollectAnime?r():(g.default.lock.lock(p),h=t.collectStatus,this.self?"AVAILABLE"===h?o().resolve(d.dispatch("tree/collectEnergy",[t])).then(function(e){try{return a.call(this)}catch(e){return i(e)}}.bind(this),i):("WAITING"===h&&g.default.native.toast(t.waitTimeText+"后才能收取"),a.call(this)):this._isCanHelpCollect(t)?o().resolve(d.dispatch("tree/collectEnergyForFriend",[t])).then(function(e){try{return Tracert.click("c10632.d27105"),c.call(this)}catch(e){return i(e)}}.bind(this),i):(v=d.state.props,v.shield.effective?u.call(this):"AVAILABLE"===h?o().resolve(d.dispatch("tree/collectEnergy",[t])).then(function(e){try{return s.call(this)}catch(e){return i(e)}}.bind(this),i):("WAITING"===h&&g.default.native.toast(t.waitTimeText+"后才能收取"),s.call(this))))}.bind(this))},t.prototype._getEmptyHeight=function(e){var t=e.remainEnergy/e.fullEnergy,n=Math.ceil((1-t)*I);return n+.01},t.prototype._drarWaterLevel=function(e,t){var n=I/2,r=this._getEmptyHeight(e),i=this.lastEmptyHeight||r;if(r>4){var o=new m.CustomSprite(A.bubbleEmpty);o.name=R.EMPTY;var a=new m.Graphics;a.name=R.EMPTY_MASK,a.lineStyle(0),a.beginFill(16777215),a.drawRect(0,0,I,r),a.endFill(),a.x=M,a.y=M,o.mask=a,t.addChild(a),t.addChild(o);var s=new m.CustomSprite(A.bubbleBorder);s.name=R.DIVIDE,s.x=M,s.y=i-4+M;var u=new m.Graphics;if(u.name=R.DIVIDE_MASK,u.lineStyle(0),u.beginFill(16777215),u.drawCircle(n,n,n),u.endFill(),u.x=M,u.y=M,s.mask=u,t.addChild(u),t.addChild(s),r!==i){var c=this;this.waterLevelAnime=new m.TWEEN.Tween({k:i}).to({k:r},600).onUpdate(function(){a.height=this.k,s.y=this.k-4+M}).onComplete(function(){c.waterLevelAnime.stop(),c.waterLevelAnime=void 0}).start()}}this.lastEmptyHeight=r},t.prototype._drawBubbleText=function(e,t){var n={fontWeight:"bold",fontFamily:"digital",fill:this.isDay?"#11A120":"#228670"},r=h({},n,{fontSize:37,padding:10}),i=new m.CustomContainer;if(i.name=R.TEXT,"WAITING"===e.collectStatus){var o=this.textPrefix+"haisheng.png",a=new m.CustomSprite({image:o});a.setAnchor(.5,0),a.x=S,a.y=42,i.addChild(a);var s=new m.CustomText(e.waitTimeText,r,D.WAITING+(this.self?e.id:this.posIndex));s.name=R.TEXT_HAISHENG,s.setAnchor(.5,0),s.x=S,s.y=72,i.addChild(s)}else if(this._isCanHelpCollect(e)){var u=new m.CustomText(e.overTimeText,r,D.HELP+(this.self?e.id:this.posIndex));u.setAnchor(.5,0),u.x=S,u.y=42,i.addChild(u);var c=this.textPrefix+"xiaoshi.png",l=new m.CustomSprite({image:c});l.name=R.TEXT_XIAOSHI,l.setAnchor(.5,0),l.x=S,l.y=80,i.addChild(l)}else{var d=void 0;if(this._isHideBubbleNo()){var f=this.textPrefix+"energy.png";d=new m.CustomSprite({image:f}),d.y=15}else{var p=g.default.parse.parseEnergyAmount(e.remainEnergy);d=new m.CustomText(p,h({},n,{fontSize:p.length>=6?39:p.length>=5?43:47}),D.ENERGY+(this.self?e.id:this.posIndex)),d.y=(t.height-d.height)/2}d.setAnchor(.5,0),d.x=S,i.addChild(d)}t.addChild(i)},t.prototype._drawLight=function(e){var t=new m.CustomSprite(A.bubbleLight);t.name=R.LIGHT,e.addChild(t)},t.prototype._drawDouble=function(e,t){if(!this.self&&e.canBeRobbedTwice&&"AVAILABLE"===e.collectStatus){var n=new m.CustomSprite(A.bubbleDouble);n.name=R.DOUBLE,t.addChild(n)}},t.prototype._setOpacity=function(e){this.removeActionsTrace();var t=this,n=e.collectStatus;"AVAILABLE"===n?t._opacityPerformer(1):this._isCanHelpCollect(e)?P.default.bling(this,function(e){t._opacityPerformer(e)}):t._opacityPerformer(0)},t.prototype._opacityPerformer=function(e){if(this.isDay)this.setOpacity(.5+.5*e);else{this.setOpacity(1);var t=this.childMap[R.BALL],n=t.childMap[R.BG],r=t.childMap[R.LIGHT],i=t.childMap[R.EMPTY],o=t.childMap[R.DIVIDE],a=t.childMap[R.TEXT];n.setOpacity(.6+.4*e),r.setOpacity(.1+.9*e),i&&i.setOpacity(.1+.9*e),o&&o.setOpacity(.5+.5*e),a.setOpacity(.6+.4*e)}},t.prototype._bizText=function(e){var t=this.isDay,n={fontSize:24,padding:5,fontFamily:"digital",fontWeight:"normal",fill:t?"#11A120":"#0FE5FF"},r=new m.CustomContainer;if(r.name=R.BIZ_TEXT,this.self){var i=e.business,o=m.Sprite.fromImage(t?i.dayIconUrl:i.nightIconUrl);o.width=34,o.height=34;var a=new m.CustomText(i.bigIconDisplayName,n,D.BIZTEXT+(this.self?e.id:this.posIndex));a.x=38,a.y=8,r.addChild(a),r.addChild(o),r.x=(O-r.width)/2}else{var s=void 0;this._isCanHelpCollect(e)?s=new m.CustomSprite({image:"tileset-bubble-help.png"}):"AVAILABLE"===e.collectStatus&&(s=new m.CustomSprite({image:this.textPrefix+"collect.png"})),s&&(s.x=S+10,s.setAnchor(.5,0),r.addChild(s))}r.y=135,this.addChild(r)},t.prototype._animeForceProduce=function(e){var t=this.childMap[R.BALL],n=t.childMap[R.TEXT],r=n.childMap[R.TEXT_HAISHENG];if(r){var i=this;this.forceCollectAnime=new m.TWEEN.Tween({t:10}).to({t:0},1e3).onUpdate(function(){r.text=Math.floor(this.t)+"’"}).onComplete(function(){i.forceCollectAnime.stop(),i.forceCollectAnime=void 0,i.draw(e)}).start()}},t.prototype._animeCollectNumber=function(e){var t=e.collectedEnergy,n="+"+t+"g",r={fontSize:32,fontWeight:"bold",fill:this.isDay?"#11A120":"#0FE5FF"},i=new m.CustomText(n,r,D.NUMBER+(this.self?e.id:this.posIndex+(e.canBeRobbedAgain?"X":"")));this.parent.addChild(i),i.y=this.y+this.height/2-i.height-10,i.x=this.x+this.width/2-i.width/2-8;var o=1e3,a=m.MoveBy(o,{x:0,y:-80});a.setEasing(m.TWEEN.Easing.Quartic.Out);var s=m.FadeOut(o+200);s.onComplete=function(){m.Action.cleanup(i),i.destroy(!0)},i.runAction([a,s])},t}(C.default);t.default=L},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(c.default?(0,c.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=n(9),c=i(u),l=n(7),d=r(l),f=n(3),p=i(f),h=n(35),v=i(h),m=n(20),y=i(m),g=n(2),b=i(g),_=y.default.bubblesLayer,w=function(){},C=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i._show=!1,i._removeTips=w,i._self=i._isMyself(),i.draw(n),Tracert.expo(i._self?"c8085.d102727":"c49915.d102723"),i}return s(t,e),t.prototype.draw=function(t){var n=this;e.prototype.draw.call(this,t);var r=new d.CustomSprite(_.bubblesProp);this.addChild(r);var i=new d.CustomSprite({image:"https://gw.alipayobjects.com/mdn/consumer_operation/afts/img/A*e6cbQoBXHFkAAAAAAAAAAABkARQnAQ"});i.x=42,i.y=40,this.addChild(i),setTimeout(function(){var e=d.FadeTo(300,1);n.runAction(e),n._show=!0,!n.bubble.init&&n._self||n._showTips()},300)},t.prototype.onClick=function(t,n){if(this._removeTips(),this._show){e.prototype.onClick.call(this,t,n);var r=t.id,i="bubbleClick."+r;p.default.lock.isLocked(i)||(this._self?b.default.goto.hongbaoCollection(r):this._openWaterPanel(),p.default.lock.unlock(i),Tracert.click(this._self?"c8085.d102727":"c49915.d102723"))}},t.prototype.remove=function(t){e.prototype.remove.call(this,t),this._removeTips()},t.prototype._showTips=function(){var e=this;if(this._self){var t={image:"https://gw.alipayobjects.com/mdn/consumer_operation/afts/img/A*CXoDS5d5CGEAAAAAAAAAAABkARQnAQ",container:".home-entries",style:"top: 1.90rem; right: .92rem; transform-origin: top right; width: 1.5rem; height: .36rem;",onClick:function(){b.default.hongbao.shareFriend("HONGBAO_COLLECTION"),e._removeTips(),Tracert.click("c8085.d102726")}};this._removeTips=p.default.html.showBubbleTips(t),Tracert.expo("c8085.d102726")}else{var n={image:"https://gw.alipayobjects.com/mdn/consumer_operation/afts/img/A*b0nLTqYfTI8AAAAAAAAAAABkARQnAQ",container:".home-entries",style:"top: 1.90rem; right: .92rem; transform-origin: top right; width: 1.3rem; height: .36rem;",once:!0,key:"tips_hongbao_2",onClick:function(){e._openWaterPanel()}};this._removeTips=p.default.html.showBubbleTips(n)}},t.prototype._openWaterPanel=function(){p.default.native.toast("浇水有机会拆红包"),this.store.commit("water/triggerShow",!0),this._removeTips()},t}(v.default);t.default=C},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(){return c?c:c="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d.default?(0,d.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,l=n(9),d=i(l),f=n(7),p=r(f),h=n(3),v=i(h),m=n(35),y=i(m),g=n(102),b=i(g),_=n(20),w=i(_),C=w.default.bubblesLayer,T=function(e){function t(n,r){a(this,t);var i=s(this,e.call(this,n,r));return i._show=!1,i._num=r._num,i.draw(n),Tracert.expo("c8085.d108758"),i}return u(t,e),t.prototype.draw=function(t){var n=this;if(e.prototype.draw.call(this,t),t.propConfig){var r=new p.CustomSprite(C.bubblesProp);this.addChild(r);var i=new p.CustomSprite({image:t.propConfig.imageUrl});i.width=76,i.height=76,i.x=36,i.y=36,this.addChild(i),this._bizText(t),setTimeout(function(){var e=p.FadeTo(300,1);n.runAction(e),n._show=!0},300)}},t.prototype.onClick=function(t,n){return new(o())(function(r,i){function a(){return o().resolve(v.default.time.delay(300)).then(function(e){try{return v.default.lock.unlock(c),Tracert.click("c8085.d108758"),r()}catch(e){return i(e)}}.bind(this),i)}var s,u,c;return this._show?(e.prototype.onClick.call(this,t,n),s=this.store,u=t.id,c="bubbleClick."+u,v.default.lock.isLocked(c)?r():(v.default.lock.lock(c),this._isMyself()?o().resolve(s.dispatch("props/collectProp",t)).then(function(e){try{return a.call(this)}catch(e){return i(e)}}.bind(this),i):a.call(this))):r()}.bind(this))},t.prototype.onChange=function(){},t.prototype._bizText=function(e){this._isMyself()&&b.default.bizTextOfUserinfo(this,e)},t}(y.default);t.default=T},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(){return c?c:c="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(p.default?(0,p.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,l=n(8),d=i(l),f=n(9),p=i(f),h=d.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=n(7),m=r(v),y=n(3),g=i(y),b=n(20),_=i(b),w=n(101),C=i(w),T=n(45),k=i(T),E=n(35),P=i(E),A=n(102),S=i(A),x=_.default.bubblesLayer,O=function(e){function t(n,r){a(this,t);var i=s(this,e.call(this,n,r));return i._show=!1,i._num=r._num,i.draw(n),Tracert.expo("c40524"),Tracert.expo("c40524.d81910"),i}return u(t,e),t.prototype.draw=function(t){var n=this;e.prototype.draw.call(this,t);var r={fontWeight:"bold",fontFamily:"digital",fill:this.isDay?"#D09211":"#845C08"},i=this.store.getters["water/count"]>1?x.bubblesWater:x.bubbleWater,o=new m.CustomSprite(i);this.addChild(o);var a=g.default.parse.parseEnergyAmount(t.fullEnergy),s=new m.CustomText(a,h({},r,{fontSize:a.length>=6?39:a.length>=5?43:47}),"WATERENERGY"+this._num%3);s.setAnchor(.5,.5),s.y=this.height/2+14,s.x=74,this.addChild(s),this._bizText(t),setTimeout(function(){if(t.canHelpCollect)k.default.bling(n);else{n._isMyself()?n.isDay||s.setOpacity(.7):o.setOpacity(.6);var e=m.FadeTo(300,1);n.runAction(e)}setTimeout(function(){n._show=!0},300)})},t.prototype.onClick=function(t,n){return new(o())(function(r,i){function a(){return s.call(this)}function s(){return o().resolve(g.default.time.delay(300)).then(function(e){try{return g.default.lock.unlock(l),Tracert.click("c40524.d81910"),r()}catch(e){return i(e)}}.bind(this),i)}var u,c,l;return this._show?(e.prototype.onClick.call(this,t,n),u=this.store,c=t.id,l="bubbleClick."+c,g.default.lock.isLocked(l)?r():(g.default.lock.lock(l),this._isMyself()?o().resolve(u.dispatch("water/collectEnergy",t)).then(function(e){try{return C.default.fallSomething(t.image),s.call(this)}catch(e){return i(e)}}.bind(this),i):t.canHelpCollect?o().resolve(u.dispatch("water/collectEnergyForFriend",t)).then(function(e){try{return a.call(this)}catch(e){return i(e)}}.bind(this),i):(g.default.native.toast("好友送给TA的，不能收取哦~"),a.call(this)))):r()}.bind(this))},t.prototype._bizText=function(e){return new(o())(function(t,n){function r(){return S.default.bizTextOfUserinfo(this,e),t()}var i,a,s,u;return i=e.fromUser,i?this._isMyself()?r.call(this):(a=new m.CustomContainer,o().resolve(g.default.native.getUserId()).then(function(o){try{return s=o,e.canHelpCollect?(u=new m.CustomSprite({image:"tileset-bubble-help.png"}),u.x=84,a.addChild(u),u.setAnchor(.5,0),a.x=(this.width-u.width+10)/2,a.y=135,this.addChild(a),t()):s!==i.userId?t():r.call(this)}catch(e){return n(e)}}.bind(this),n)):t()}.bind(this))},t}(P.default);t.default=O},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d.default?(0,d.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=n(8),c=i(u),l=n(9),d=i(l),f=c.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=n(7),h=r(p),v=n(3),m=i(v),y=n(20),g=i(y),b=n(45),_=i(b),w=n(395),C=i(w),T=n(35),k=i(T),E=g.default.bubblesLayer,P=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i._show=!1,i.draw(n),Tracert.expo("c40525"),i}return s(t,e),t.prototype.draw=function(t){var n=this;e.prototype.draw.call(this,t);var r=new h.CustomSprite(E.bubbleWhisper);this.addChild(r);var i=window.__THEME__.getThemeRes(),o=f({frames:i.tilesetWhisperJSON},g.default.bubblesLayer.whisperGif),a=new h.CustomAnimateSprite(o);this.addChild(a),setTimeout(function(){var e=h.FadeTo(300,n._isMyself()?1:.5);n.runAction(e),_.default.ripple(n),n._show=!0},300)},t.prototype.onClick=function(t,n){if(this._show){e.prototype.onClick.call(this,t,n);var r=this.store,i=t.id,o="bubbleClick."+i;if(!m.default.lock.isLocked(o)){if(m.default.lock.lock(o),this._isMyself()){r.dispatch("whisper/remove",t),window.scrollTo(0,0);var a=this.getGlobalPosition();C.default.show({data:t,point:{left:a.x+"px",top:a.y+"px"}})}m.default.lock.unlock(o),Tracert.click("c40525.d81913")}}},t}(k.default);t.default=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){this.POS_X_POOL=[],this.POS_X_COUNT=0,this.FUTURE_POS_X_POOL=[1],this.FUTURE_POS={x:75,y:-58},this.FIX_POS_X_POOL=[1],this.FIX_POS={x:392,y:-58}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(454),a=r(o),s=n(14),u=r(s),c=500,l=120,d="FUTURE",f=[u.default.TYPE_WHISPER,u.default.TYPE_WATER,u.default.TYPE_PROP],p="FIX",h=[u.default.TYPE_HONGBAO],v=0;i.prototype.initPos=function(e){var t=Math.min(6,Math.max(e,1));this.POS_X_COUNT=t,this.POS_X_POOL=[];for(var n=1;n<=t;n++)this.POS_X_POOL.push(n);2===e?this.FUTURE_POS={x:190,y:-90}:3===e&&(this.FUTURE_POS={x:120,y:-66})},i.prototype._getRandomIndexFromPool=function(){return this.POS_X_POOL.length?this.POS_X_POOL.splice(0,1)[0]:0},i.prototype.getPos=function(e){var t=null;if(e===u.default.TYPE_ENERGY){var n=30,r=this._getRandomIndexFromPool();if(r){var i=c/this.POS_X_COUNT,o=c/10/this.POS_X_COUNT;o=-o+Math.floor(2*o*Math.random());var a=i*r-i/2,s=Math.sin(a/c*Math.PI)*l;t={x:a+o,y:l-s+(-n/2+Math.floor(n*Math.random())),posIndex:r}}}else if(f.indexOf(e)>=0){if(this.FUTURE_POS_X_POOL.length){var m=this.FUTURE_POS_X_POOL.splice(0,1)[0];t={x:this.FUTURE_POS.x,y:this.FUTURE_POS.y,posIndex:d+"_"+m,_num:++v}}}else if(h.indexOf(e)>=0&&this.FIX_POS_X_POOL.length){var y=this.FIX_POS_X_POOL.splice(0,1)[0];t={x:this.FIX_POS.x,y:this.FIX_POS.y,posIndex:p+"_"+y}}return t},i.prototype.resetPosIndex=function(e){var t=(String(e)||"").split("_"),n=t[0],r=t[1];if(n===d)this.FUTURE_POS_X_POOL.push(parseInt(r,10));else if(n===p)this.FIX_POS_X_POOL.push(parseInt(r,10));else{var i=parseInt(e,10);if((0,a.default)(i)||this.POS_X_POOL.indexOf(i)>-1)return;this.POS_X_POOL.push(i)}},t.default=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(c.default?(0,c.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=n(9),c=i(u),l=n(7),d=r(l),f=n(370),p=i(f),h=n(14),v=i(h),m=n(408),y=i(m),g=n(403),b=i(g),_=n(406),w=i(_),C=n(407),T=i(C),k=n(404),E=i(k),P=n(405),A=i(P),S=function(){var e={};return e[v.default.TYPE_ENERGY]=b.default,e[v.default.TYPE_WATER]=w.default,e[v.default.TYPE_WHISPER]=T.default,e[v.default.TYPE_HONGBAO]=E.default,e[v.default.TYPE_PROP]=A.default,e}(),x=function(e){function t(n){o(this,t);var r=a(this,e.call(this,n));return r.name="bubblesContainer",r.bubbleShowPool={},r.count={energy:0,water:0,whisper:0},r.pos=new y.default,r._watch(),r._anime(),r}return s(t,e),t.prototype._watch=function(){var e=this;this.store.watch(function(e){var t=e.tree.inited,n={inited:t};if(t){var r=e.tree.bubbles,i=e.props.givenProps,o=e.water.bubbles,a=e.whisper.whispers,s=e.hongbao.redpacket;n.energyBubbles=r,n.propBubbles=i,n.waterBubbles=o,n.whisperBubbles=a,n.redpacketBubble=s}return n},function(t,n){if(t.inited){var r=[t,n].map(function(e){return e?[].concat(e.energyBubbles||[],e.propBubbles||[],e.waterBubbles||[],e.whisperBubbles||[],e.redpacketBubble?[e.redpacketBubble]:[]):[]}),i=r[0],o=r[1],a=e._makeData(i),s=e._makeData(o),u=(0,p.default)(s,a,{N:!0,D:!0});if(u){var c=t.energyBubbles.length;!e.count.energy&&c&&e.pos.initPos(c),e.count.energy=c,e._render(i,u)}}},{immediate:!0})},t.prototype._render=function(e,t){var n=this;if(luna.isArray(e)&&e.length)for(var r=0,i=e.length;r<i;r++){var o=e[r],a=""+o.id,s=this._tryRemoveBubble(o);if(!s){if(!this.bubbleShowPool[a]){var u=o.bubbleType,c=this.pos.getPos(u);if(c){var l=S[o.bubbleType],d=new l(o,c);this.bubbleShowPool[a]=d,this.addChild(d)}}var f=this.bubbleShowPool[a];if(f&&t&&t[a]){var p=t[a];f.onChange(o,p)}}}t&&Object.keys(t).forEach(function(e){if(void 0===t[e]){var r={id:e,attribute:v.default.FORCE_DISAPPEAR};n._tryRemoveBubble(r)}})},t.prototype._makeData=function(e){var t={};return e.forEach(function(e){var n=e.id;t[""+n]=e}),t},t.prototype._tryRemoveBubble=function(e){var t=e.delete||e.attribute===v.default.FORCE_DISAPPEAR;if(t){var n=this.bubbleShowPool[e.id];return n&&(delete this.bubbleShowPool[e.id],this.pos.resetPosIndex(n.posIndex),n.remove(e)),!0}return!1},t.prototype._anime=function(){var e=this,t=function(){Object.keys(e.bubbleShowPool).forEach(function(t){var n=e.bubbleShowPool[t];if(n){var r=d.ticker.shared.lastTime;r%=2e3,r/=2e3,n.y=n.yData.y+6*Math.sin(n.yData.r+2*r*Math.PI)}})};t._tiny_update_key="bubbleAnime",d.app.onUpdate(t,!0)},t}(d.CustomContainer);t.default=x},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(c.default?(0,c.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=n(9),c=i(u),l=n(7),d=r(l),f=n(2),p=i(f),h=n(3),v=i(h),m=18,y=300,g=function(e){function t(){o(this,t);var n=a(this,e.call(this));return n.name="dialogContainer",n.isDay=p.default.biz.isDay(),n.tinyUIPluginReady=0,n.frame=null,n.text=null,n.sprite=null,n}return s(t,e),t.prototype._loadPlugin=function(e){var t=this;if(!(this.tinyUIPluginReady>0)){this.tinyUIPluginReady=1;var n="https://gw.alipayobjects.com/os/lib/tinyjs-plugin-ui/0.4.1/index.js";v.default.html.loadScript(n,function(){t.tinyUIPluginReady=2,e()},function(){t.tinyUIPluginReady=0},3e3)}},t.prototype.dialog=function(e){var t=this;2===this.tinyUIPluginReady?this._show(e):this._loadPlugin(function(){t._show(e)})},t.prototype._getTextSprite=function(e){return this.text?this.text.text=e:this.text=new d.CustomText(e,{fill:this.isDay?"#4fa271":"#25688e",fontSize:28,padding:m},"DIALOGTEXT"),this.text},t.prototype._show=function(e){this.removeChildren();var t=new d.Sprite,n=this._getTextSprite(e),r=n.width+2*m,i=n.height+2*m,o=(30+40*Math.random())/100*r;n.x=-o+m,n.y=-i+m;var a=window.__THEME__.getThemeRes();this.frame||(this.frame=d.Texture.fromImage(a.dialogFrame));var s=[20,20,160,20],u=new d.ui.NinePatch(this.frame,r,i,s);u.x=-o,u.y=-i;var c=new d.CustomSprite({image:"tileset-text"+(this.isDay?"Day":"Night")+"-dialog-arrow.png",offset:"0,-6"}),l=window.AF_STORE,f=l.getters["tree/treeStageTop"];t.addChild(u),t.addChild(c),t.addChild(n),t.x=370,t.y=2*f+560,t.setScale(.01),t.setOpacity(0);var p=d.ScaleTo(y,{scaleX:1,scaleY:1}),h=d.FadeIn(y);t.runAction([p,h]),this.sprite=t,this.addChild(t)},t.prototype.hide=function(){if(this.sprite){var e=d.ScaleTo(y,{scaleX:.01,scaleY:.01}),t=d.FadeOut(y);this.sprite.runAction([e,t])}},t}(d.CustomContainer);t.default=g},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(c.default?(0,c.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=n(9),c=i(u),l=n(7),d=r(l),f=function(e){function t(){var n,r,i;o(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=a(this,e.call.apply(e,[this].concat(u))),r.name="effectContainer",i=n,a(r,i)}return s(t,e),t}(d.CustomContainer);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return s?s:s="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}function o(e){return new(i())(function(t,n){var r,o;return r="SEND_MESSAGE",d.default.lock.isLocked(r)?t():(d.default.lock.lock(r,1e3),i().resolve(c.default.rpc.sendChatMessage([e],"friendCollectRemind","FRIEND_HOME")).then(function(e){try{return o=e,o.success&&d.default.native.toast("提醒成功，谢谢你"),t()}catch(e){return n(e)}}.bind(this),n))}.bind(this))}function a(e){var t=!1;try{t=e.success&&e.combineHandlerVOMap.waterLimit.limit}catch(e){}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.sendCollectChat=o,t.checkLimit=a;var s,u=n(2),c=r(u),l=n(3),d=r(l)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(){return a?a:a="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(7),u=i(s),c=n(2),l=r(c),d=n(3),f=r(d),p=n(375),h=r(p),v=n(88),m=i(v);t.default={activity:null,sprite:null,store:null,render:function(e,t){var n=this;if(this.store=t.store,t.__activity=this,e.data&&e.data.icon){this.activity=e;var r=e.data.icon,i=new u.CustomSprite({image:r});i.x=32,i.y=172,this.sprite=i,this.fixWeatherPos(),t.addChild(i),this._bindEvent(),Tracert.expo("c8085.d17108"),e.firstShow?this._showPopup(!0):this.store.watch(function(e){return e.activity.firstShow},function(e){e&&n._showPopup(!0)})}},fixWeatherPos:function(){var e=l.default.properties.get("weather");"Y"===e&&(this.sprite.y+=50)},_bindEvent:function(){var e=this;this.sprite&&(this.sprite.setEventEnabled(!0),this.sprite.on("tap",function(){return new(o())(function(t,n){var r,i;return o().resolve(l.default.tired.checkTired(e.activity.data.id)).then(function(o){try{return r=o,i="Dialog"===e.activity.data.type||r&&"Once"===e.activity.data.type,i?e._showPopup():e._gotoActivityPage(),Tracert.click("c8085.d17108"),t()}catch(e){return n(e)}}.bind(this),n)}.bind(this))}))},_showPopup:function(e){var t=this,n=m.getTplData(this.activity.data),r=function(){e&&t.store.dispatch("activity/closeFirstShow")};h.default.showNormal(n,this._gotoActivityPage.bind(this),r),Tracert.expo("c8085.d33934")},_gotoActivityPage:function(){var e="activityClick";if(!f.default.lock.isLocked(e)){f.default.lock.lock(e,1e3);var t=m.getTplData(this.activity.data);t.url&&f.default.scheme.go(t.url),Tracert.click("c8085.d33934")}}}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(){return c?c:c="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d.default?(0,d.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,l=n(9),d=i(l),f=n(7),p=r(f),h=n(2),v=i(h),m=n(5),y=i(m),g=n(3),b=i(g),_=n(31),w=i(_),C=n(413),T=i(C),k=n(412),E=r(k),P=n(46),A=i(P),S=n(387),x=i(S),O=n(100),I=i(O),M=n(388),R=r(M),D=n(99),L=i(D),F="ALIPAY_FOREST_REDPOINT",B=function(e){function t(n){a(this,t);var r=s(this,e.call(this,n));if(r.name="entriesContainer",r.config=n,r.isMyself=v.default.home.isMyself(),r.isFriend=v.default.home.isFriend(),r.runWatering=!1,r.strollDegrade="N"!==v.default.properties.get("de7"),r.strollDegrade&&["tips","task","tool","sendProp","remind","barrage","water"].forEach(function(e){var t=r.config[e].offset,n=t.split(","),i=n[0],o=n[1];r.config[e].offset=parseInt(i)+170+","+o}),x.default.init(),r.isMyself){r._renderMyself();var i=r.store.state.activity;T.default.render(i,r)}else r.isFriend&&r._renderFriend();return r}return u(t,e),t.prototype._renderMyself=function(){return new(o())(function(e,t){var n=this,r=this.store;if(this._welfareEntry(),this._achieveEntry(!0),this._stroll(),"N"===v.default.properties.get("de5")){var i=new p.CustomSprite(this.config.hongbao);this.addChild(i),i.setEventEnabled(!0),i.on("tap",function(){var e=n.store.state.hongbao;e.redpacket?v.default.goto.hongbaoCollection(e.redpacket.packetNo):I.default.start(e.config),n._removeCornerTips("hongbao"),Tracert.click("c8085.d102728")}),Tracert.expo("c8085.d102728")}var o=new p.CustomSprite(this.config.tool);this.addChild(o),o.setEventEnabled(!0),o.on("tap",function(){r.dispatch("props/showPropsPanel"),n._removeCornerTips("tool"),Tracert.click("c8085.d14164")}),Tracert.expo("c8085.d14164");var a=new p.CustomSprite(this.config.task);this.addChild(a),a.setEventEnabled(!0),a.on("tap",function(){r.dispatch("task/showTaskPanel",!0),n._removeCornerTips("task"),Tracert.click("c8085.d97703")}),this._dotCheckForTask(a),Tracert.expo("c8085.d97703");var s=new p.CustomSprite(this.config.tips);return this.addChild(s),s.setEventEnabled(!0),s.on("tap",function(){n._removeCornerTips("tips"),v.default.goto.tipsPage(),Tracert.click("c8085.d14163")}),Tracert.expo("c8085.d14163"),L.default.on(D.EVENTS.AF_COMMON_HOME_ERROR,function(){n.shopEntry()}),e()}.bind(this))},t.prototype.shopEntry=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("Y"===v.default.properties.get("ipSoldEntry")&&"Y"!==v.default.properties.get("degradeIPSoldQuery")){var n=v.default.biz.isDay(),r=this.config.shop[n?"dayBG":"nightBG"],i=this.config.shop[n?"dayIcon":"nightIcon"];t.dayIcon&&t.nightIcon&&(i.image=n?t.dayIcon:t.nightIcon);var o=new p.CustomSprite(r),a=new p.CustomSprite(i);this.addChild(o),this.addChild(a),a.setOpacity(0),a.runAction(p.FadeIn(200)),o.setOpacity(0);var s=p.FadeIn(1e3);o.runAction(p.RepeatForever(p.Back(s))),a.setEventEnabled(!0),a.on("tap",function(){t.jumpUrl?y.default.call("pushWindow",{url:t.jumpUrl}):v.default.goto.shop(),e._removeCornerTips("shop"),Tracert.click("c8085.d107295")}),this.__shop=a,Tracert.expo("c8085.d107295")}},t.prototype._welfareEntry=function(){return new(o())(function(e,t){var n=this,r=v.default.properties.get("welfareForestDisplay");if("Y"!==r)return e();var i=new p.CustomSprite(this.config.welfare);return this.addChild(i),i.setEventEnabled(!0),i.on("tap",function(){n._removeCornerTips("welfare"),v.default.goto.welfare(),Tracert.click("c8085.d61511")}),this._dotCheckForTips({welfare:i}),Tracert.expo("c8085.d61511"),e()}.bind(this))},t.prototype._stroll=function(){var e=this;if(!this.strollDegrade){var t=v.default.home.isMyself(),n=function(){},r=t?"https://gw.alipayobjects.com/mdn/consumer_operation/afts/img/A*1oCIQ5jBmhEAAAAAAAAAAABkARQnAQ":"https://gw.alipayobjects.com/mdn/consumer_operation/afts/img/A*YeWyT6PRN-QAAAAAAAAAAABkARQnAQ",i=t?"tips_stroll_1":"tips_stroll_2",o={image:r,container:".home-entries",style:"right: .15rem; bottom: .5rem; transform-origin: right bottom; width: .9rem; height: .36rem;",once:!!t||6048e4,key:i};n=b.default.html.showBubbleTips(o);var a=new p.CustomSprite(this.config.stroll);this.addChild(a),a.setEventEnabled(!0),a.on("tap",function(){e._removeCornerTips("stroll"),n(),R.go(),Tracert.click(t?"c8085.d113156":"c10632.d113557")}),Tracert.expo(t?"c8085.d113156":"c10632.d113557")}},t.prototype._renderFriend=function(){return new(o())(function(e,t){var n,r,i,a,s,u,c,l,d,f,h,m,y,g,_;return n=this,r=this.store,i=r.state,this._achieveEntry(!1),this._stroll(),a=new p.CustomSprite(this.config.remind),this.addChild(a),s=i.tired.collectEnergyRemind,s&&s.myself&&s.target&&(u=r.getters["tree/effectBubbleCount"],c=r.getters["tree/waitingBubbleCount"],u-c>0&&(l=this.strollDegrade?"1.03rem":"1.86rem",d={image:"https://gw.alipayobjects.com/mdn/consumer_operation/afts/img/A*nIFVRo7fhg0AAAAAAAAAAABkARQnAQ",container:".home-entries",style:"bottom: .5rem; right: "+l+"; transform-origin: right bottom; width: 1.2rem; height: .36rem;"},x.default.show(x.default.KEY.REMIND,"bubble",d))),a.setEventEnabled(!0),a.on("tap",function(){var e=i.uid;E.sendCollectChat(e),x.default.hide(x.default.KEY.REMIND),Tracert.click("c10632.d84118")}),f=new p.CustomSprite(this.config.barrage),h=v.default.drm.get("barrageTipsTs"),m="BARRAGE_TIPS_SHOW",o().resolve(b.default.storage.get(m)).then(function(a){try{return y=a,+h&&+y!==+h&&Date.now()>+h&&this._cornerTips("barrage"),this.addChild(f),f.setEventEnabled(!0),f.on("tap",function(){r.dispatch("barrage/showPanel"),n._removeCornerTips("barrage"),b.default.storage.set(m,h),Tracert.click("c10632.d19709")}),g=new p.CustomSprite(this.config.water),this.addChild(g),g.setEventEnabled(!0),g.on("tap",function(){return new(o())(function(e,t){function a(){return Tracert.click("c10632.d19708"),e()}var s,u,c,l,d,f;return s=v.default.properties.get("WTC"),"Y"===s?(u=i.uid,c=!1,l=setTimeout(function(){c=!0,r.commit("water/triggerShow",!0)},300),o().resolve(v.default.rpc.queryMiscInfo("waterLimit",{targetUserId:u})).then(function(e){try{return d=e,!c&&E.checkLimit(d)?(clearTimeout(l),b.default.native.toast("今天浇水已经达到上限，去帮其他好友浇水吧")):(c=!0,r.commit("water/triggerShow",!0)),a.call(this)}catch(e){return t(e)}}.bind(this),t)):n.runWatering?e():(n.runWatering=!0,o().resolve(r.dispatch("water/sendEnergy")).then(function(e){try{return f=e,f.success?A.default.water(10,function(){n.runWatering=!1}):(n.runWatering=!1,b.default.native.toast(f.error.resultDesc||"浇水失败")),a.call(this)}catch(e){return t(e)}}.bind(this),t))}.bind(this))}),"N"===v.default.properties.get("de6")&&(_=new p.CustomSprite(this.config.sendProp),this.addChild(_),_.setEventEnabled(!0),_.on("tap",function(){r.dispatch("props/showPropsPanel"),n._removeCornerTips("sendProp"),Tracert.click("c10632.d108759")}),Tracert.expo("c10632.d108759")),e()}catch(e){return t(e)}}.bind(this),t)}.bind(this))},t.prototype._achieveEntry=function(e){return new(o())(function(t,n){var r=this,i=this.store.state,o=e?this.config.achieve_myself:this.config.achieve_friend,a=new p.CustomSprite(o);return this.addChild(a),a.setEventEnabled(!0),a.on("tap",function(){var t=void 0;e?r._removeCornerTips("achieve_myself"):t=i.uid,Tracert.click(e?"c8085.d61509":"c10632.d35339"),v.default.goto.achieve({from:"cj",userId:t})}),Tracert.expo(e?"c8085.d61509":"c10632.d35339"),t()}.bind(this))},t.prototype._cornerTips=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.config[e]||{},r=n.offset;if(r&&("shop"!==e||this.__shop)){var i=r.split(","),o=i[0],a=i[1];o=(+o+50)/200,a=+a/200;var s=t.text,u=t.spaceCodes,c=t.objectId;return u&&c&&v.default.cdp.feedback(u,c,"SHOW"),b.default.html.showCornerTips({container:".home-entries",text:s,id:e,data:{spaceCodes:u,objectId:c},style:"top: "+a+"rem; left: "+o+"rem;"})}},t.prototype._removeCornerTips=function(e){var t=b.default.html.removeTips(e),n=t[0];if(n){var r=n.dataset||{},i=r.objectId,o=r.spaceCodes;o&&i?v.default.cdp.feedback(o,i,"CLICK"):i&&(0,w.default)(function(e){try{e.biz.refined._feedback(i)}catch(e){}})}},t.prototype._dotCheckForTask=function(){return new(o())(function(e,t){var n,r,i,a,s;return n={FINISHED:"奖",PROGRESS0:"得道具"},r="Y"===v.default.properties.get("dTs"),r?e():o().resolve(v.default.rpc.displayTaskTips()).then(function(r){try{return i=r,i.success?(a=i.taskTips,a&&a.length&&(s={},a.forEach(function(e){e.taskTip&&(s[e.taskTip]=e.display)}),s.FINISHED?this._cornerTips("task",{text:n.FINISHED}):s.PROGRESS0&&this._cornerTips("task",{text:n.PROGRESS0})),e()):e()}catch(e){return t(e)}}.bind(this),t)}.bind(this))},t.prototype._dotCheckForTips=function(){function e(e){var t=e||{},n=t.ALIPAY_FOREST_REDPOINT;if(r&&n&&n.spaceObjectList&&n.spaceObjectList.length){var i=n.spaceObjectList[0].objectId,o=n.spaceObjectList[0].content;this._cornerTips("welfare",{text:"dot"===o?"":o,spaceCodes:F,objectId:i})}}var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.welfare;return this.cdpSpaceInfos?void e.call(this,this.cdpSpaceInfos):void y.default.call("getCdpSpaceInfos",{spaceCodes:[F],immediately:!1,multiCallback:!0},function(n){t.cdpSpaceInfos=n,e.call(t,t.cdpSpaceInfos)})},t}(p.CustomContainer);t.default=B},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(){return c?c:c="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(p.default?(0,p.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,l=n(8),d=i(l),f=n(9),p=i(f),h=d.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=n(7),m=r(v),y=n(2),g=i(y),b=n(5),_=i(b),w="ANT_FOREST_SEE_TIPS",C=function(e){function t(n){a(this,t);var r=s(this,e.call(this,n));return r.name="groundContainer",r.groundStage=-1,r.groundConfig=n,r.mountLayer=new m.CustomContainer(n.mountLayer),r.realLayer=new m.CustomContainer({offset:"35,50"}),r.groundLayer=new m.CustomContainer(n.groundLayer),r.plantLayer=new m.CustomContainer(n.plantLayer),r.addChild(r.mountLayer),r.addChild(r.realLayer),r.addChild(r.groundLayer),r.addChild(r.plantLayer),r._renderMount(),r._renderRealEntry(),r._renderGround(),r._renderPlant(),r._watch(),r}return u(t,e),t.prototype._renderMount=function(){var e=window.__THEME__.getThemeRes(),t=new m.CustomSprite(h({},this.groundConfig.mount,{image:e.mount}));this.mountLayer.addChild(t)},t.prototype._renderRealEntry=function(){var e=this,t=g.default.home.isMyself()||g.default.home.isFriend(),n=g.default.properties.get("degradeTreePicQuery");if(t&&"Y"!==n){var r=this.realLayer,i=new m.CustomSprite({image:"https://gw.alipayobjects.com/zos/rmsportal/oyJmCWKAyCGaBOABDgQF.png"});r.addChild(i),r.setEventEnabled(!0),r.on("tap",function(){e.__removeBubble&&e.__removeBubble();var t=e.__objectId;g.default.cdp.feedback(w,t,"CLICK"),g.default.goto.real(),Tracert.click("c8085.d49133")}),_.default.call("getCdpSpaceInfo",{spaceCode:w,immediately:!0},function(t){return new(o())(function(n,r){function i(){return n()}var a,s;return t&&"FULL"!==t.location&&!+t.height&&t.spaceObjectList&&t.spaceObjectList.length?(a=t.spaceObjectList[0],s=a.content,e.__objectId=a.objectId,o().resolve(e.onceShowBubble({key:"ONCE_SHOW_REAL_BUBBLE_NY",text:s||"实景相册"})).then(function(t){try{return e.__removeBubble=t,g.default.cdp.feedback(w,e.__objectId,"SHOW"),Tracert.expo("c8085.d49133"),i.call(this)}catch(e){return r(e)}}.bind(this),r)):i.call(this)}.bind(this))})}},t.prototype._renderGround=function(){var e=this.store.getters["userinfo/groundStage"];if(e!==this.groundStage){var t=document.documentElement.classList;t.remove("af-ground-"+this.groundStage),t.add("af-ground-"+e),this.groundStage=e;for(var n=window.__THEME__.getThemeRes(),r=window.__THEME__.getThemeOnlineRes(),i=this.groundLayer.removeChildren(),o=0;o<i.length;++o)i[o].destroy({children:!0});var a=new m.CustomSprite(h({},this.groundConfig.ground,{image:n["ground"+e]}));if(this.groundLayer.addChild(a),5===e){var s=new m.CustomSprite(h({image:r.lake},this.groundConfig.lake));this.groundLayer.addChild(s)}}},t.prototype._renderPlant=function(){var e=this,t=this.groundConfig.plantLayer,n=this.store.state.plantTrees.trees||[];if(n.length){var r=n.filter(function(e){return"TREE"===e.type}),i=n.filter(function(e){return"RESERVE"===e.type}),o=0,a=r.map(function(e){var n=t[e.alias],r=void 0;if(n)r=new m.CustomSprite(h({image:e.icon},n,{size:"68,83"}));else{var i=t.__prepares__[o];r=new m.CustomSprite(h({image:e.icon},i,{size:"68,83"})),o++}return r}).sort(function(e,t){return e.y-t.y});if(a.forEach(function(t){e.plantLayer.addChild(t)}),i.length){var s=window.__THEME__.getThemeOnlineRes(),u=new m.CustomSprite(h({image:s.reserve},t.reserve));this.plantLayer.addChild(u)}this.addChild(this.plantLayer)}},t.prototype._watch=function(){var e=this;this.store.watch(function(e){return e.plantTrees.trees},function(){return e._renderPlant()}),this.store.watch(function(e){return e.userinfo.userEnergy.energySummation},function(){return e._renderGround({fadeIn:!1})})},t.prototype.onceShowBubble=function(e){return new(o())(function(t,n){var r=e.text,i=new m.CustomText(r,{fontSize:18,fill:"#333"},"REALPAGETIPS");i.x=10,i.y=5;var o=i.width+20,a=new m.CustomContainer({offset:60-o/4+",5",size:o+",39"});a.setOpacity(0);var s=new m.CustomSprite({image:"https://gw.alipayobjects.com/zos/rmsportal/DVdHoVRueLrnalPBluRB.png"});s.width=o,a.addChild(s),a.addChild(i),this.addChild(a);var u=300,c=m.FadeIn(u);return a.runAction([c]),t(function(){setTimeout(function(){return a.destroy()},300)})}.bind(this))},t}(m.CustomContainer);t.default=C},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d.default?(0,d.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=n(8),c=i(u),l=n(9),d=i(l),f=c.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=n(7),h=r(p),v=n(3),m=i(v),y=674,g=function(e){function t(n){o(this,t);var r=a(this,e.call(this,n));return r.name="shieldContainer",r.shieldLayerConfig=n,r.shieldCover=null,r.shieldLight=null,r.countDown=null,r.duangSprite=new h.CustomSprite(n.shieldDuang),r.duangSprite.setAnchor(.5,.5),r.duangSprite.renderable=!1,r.addChild(r.duangSprite),r._watch(),r}return s(t,e),t.prototype._watch=function(){var e=this;this.store.watch(function(e){return e.props.shield},function(){e._render()},{immediate:!0})},t.prototype._render=function(){var e=this.store.state.props,t=e.shield.remainingTime;if(t>=0){if(!this.shieldCover){var n=window.__THEME__.getThemeOnlineRes(),r=new h.CustomSprite(f({image:n.shield},this.shieldLayerConfig.shield));r.name="shield",r.setAnchor(.5,.5),r.setOpacity(0),this.addChild(r),setTimeout(function(){r.setScale(.7),r.setOpacity(1);var e=h.ScaleTo(y,{scaleX:1,scaleY:1});e.setEasing(h.TWEEN.Easing.Elastic.Out),r.runAction(e),e.onComplete=function(){r.removeActionsTrace()}},300),this.shieldCover=r,this._anime()}var i=this.countDown||this._createCountDown(e.shield.logo);i.textSprite.text=m.default.time.formatRestTime(t)}else if(this.shieldCover)try{this.shieldLight.anime.stop(),this.removeActionsTrace();for(var o=this.removeChildren(),a=0;a<o.length;++a)o[a].destroy({children:!0});this.countDown=null,this.shieldCover=null,this.shieldLight=null}catch(e){console.error(e)}},t.prototype._createCountDown=function(e){var t=new h.CustomContainer,n=new h.Graphics;n.beginFill(0,.2);var r=e?[200,72]:[144,36],i=r[0],o=r[1];if(n.drawRoundedRect(0,0,i,o,o/2),n.endFill(),t.setPosition((y-i)/2,36-o),t.addChild(n),e){var a=new Image;a.onload=function(){var n=(90-this.width)/2,r=(22-this.height)/2,i=new h.CustomSprite({image:e});i.x=22+n,i.y=10+r,t.addChild(i);var o=new h.CustomText("在守护",{fill:"#ffffff",fontSize:22},"SHIELDLOGO");o.x=111-n/2,o.y=10,t.addChild(o)},a.src=e}var s=new h.CustomSprite(this.shieldLayerConfig.countdownIcon);s.y=o-28,s.x=i/2-62,t.addChild(s);var u=new h.CustomText("88:88:88",{fill:"#c3fb58",fontSize:26},"SHIELDTIME");return u.name="timeText",u.y=o-34,u.x=i/2-36,u.width=98,t.addChild(u),t.textSprite=u,this.addChild(t),this.countDown=t,t},t.prototype._anime=function(){var e=y/2,t=new h.Graphics;t.lineStyle(0),t.beginFill(16777215),t.drawCircle(e,e+15,e+15),t.endFill(),t.y=52,t.setOpacity(.5),this.addChild(t);var n=new h.CustomSprite(this.shieldLayerConfig.shieldLight);n.name="shieldLight",n.setOpacity(0),n.setAnchor(.5,.5),n.rotation=-Math.PI/4,n.mask=t;var r=520,i=n.x,o=n.y;n.anime=new h.TWEEN.Tween({k:0}).to({k:1},700).delay(4e3).repeat(1/0).onUpdate(function(){var e=1-2*Math.abs(.5-this.k);n.setScale(1+1.6*e),n.setOpacity(e+.1),n.x=i+this.k*r,n.y=o+this.k*r}).start(),this.shieldLight=n,this.addChild(n)},t.prototype.tryDuang=function(e){if(e&&e.data&&e.data.global){var t=e.data.global,n=t.x,r=t.y,i=this.duangSprite;if("FRIEND"===this.store.state.pageState&&this.store.state.props.shield.remainingTime>0){i.removeActions(),i.setScale(.25),i.setOpacity(.75);var o=h.ScaleTo(400,{scaleX:1,scaleY:1}),a=h.FadeOut(400);a.onComplete=function(){i.renderable=!1},h.Action.cleanup(i),i.runAction([o,a]),i.renderable=!0;var s=2*n-this.x,u=2*r-this.y;i.x=s,i.y=u}}},t}(h.CustomContainer);t.default=g},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(c.default?(0,c.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=n(9),c=i(u),l=n(7),d=r(l),f=15e3,p=function(e){function t(){return o(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.prototype.flutter=function(){var e=d.MoveTo(f/this.config.speed,d.point(this.config.rightward?d.WIN_SIZE.width:0-this.width,this.position.y));this.runAction(d.RepeatForever(e))},t}(d.CustomSprite);t.default=p},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d.default?(0,d.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=n(8),c=i(u),l=n(9),d=i(l),f=c.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=n(7),h=r(p),v=n(417),m=i(v),y=n(2),g=i(y),b=function(e){function t(n){o(this,t);var r=a(this,e.call(this,n));r.name="skyContainer",r.skyConfig=n;var i=window.__THEME__.getThemeOnlineRes();r.light=i.light;var s=g.default.biz.isNight();r._drawBg();var u=new h.CustomContainer;return u.name="skyDecoration",r.addChild(u),r.decorationContainer=u,s?r._night():r._day(),r}return s(t,e),t.prototype._night=function(){var e=this.skyConfig,t=new h.CustomSprite(f({image:this.light},e.lightNight));t.name="light",this.addChild(t);var n=new h.CustomContainer;n.setPosition(0,10);for(var r=11;r>0;){var i=new h.CustomSprite(e["star"+r]);i.setOpacity(0),i.r=2e3*Math.random(),n.addChild(i),--r}h.app.onUpdate(function(){n&&n.children.forEach(function(e){var t=h.ticker.shared.lastTime+e.r;t%=4e3,t/=4e3,e.setOpacity(Math.sin(t*Math.PI))})}),this.decorationContainer.addChild(n)},t.prototype._day=function(){var e=this,t=this.skyConfig;this.cloundLeft=new m.default(t.cloundLeft),this.cloundRight=new m.default(t.cloundRight),this.decorationContainer.addChild(this.cloundLeft),this.decorationContainer.addChild(this.cloundRight);var n=function(){e.cloundLeft.flutter(),e.cloundRight.flutter()};n(),this.light=new h.CustomSprite(f({image:this.light},t.light)),this.decorationContainer.addChild(this.light)},t.prototype._drawBg=function(){var e=window.__THEME__.getThemeRes(),t=e.sky,n=new h.CustomSprite({image:t,size:"830, 750",offset:"-40, 0"});this.addChild(n)},t}(h.CustomContainer);t.default=b},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(){return c?c:c="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d.default?(0,d.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,l=n(9),d=i(l),f=n(7),p=r(f),h=n(2),v=i(h),m=n(3),y=i(m),g=n(47),b=i(g),_=n(46),w=i(_),C=n(60),T=i(C),k=function(e){function t(n){a(this,t);var r=s(this,e.call(this,n));return r.name="treeContainer",p.app.tree=r,r.treeSprite=null,r.treeConfig=n,r.treeIndex=1,"Y"===v.default.properties.get("quitForest")?r.renderQuitForest():(r._watch(),r._bindEvent()),r}return u(t,e),t.prototype.renderQuitForest=function(){this.treeSprite=new p.CustomSprite(this.treeConfig.quit),this.addChild(this.treeSprite)},t.prototype._watch=function(){var e=this,t=function(){e.renderTree()};this.store.watch(function(e){return e.tree.treeEnergy.currentEnergy},t,{immediate:!0})},t.prototype.renderTree=function(){return new(o())(function(e,t){function n(){return f=v.default.home.isMyself(),s&&!f&&(d.setEventEnabled(!0),d.on("tap",function(e){e.stopPropagation(),b.default.$dressMask(u)})),this.addChild(d),this.treeSprite=d,b.default.apply(),e(!0)}var r,i,a,s,u,c,l,d,f;return r=window.__THEME__.getThemeRes(),i=this.store.getters["tree/treeStage"],a=r["tree"+i],s=!1,u=this.store.state.dress.treeDress,u&&u.dressIcon&&(a=u.dressIcon,i=7,s=!0),this.treeSprite&&this.treeSprite.image===a?e(!1):(c=document.documentElement.classList,c.remove("af-tree-"+this.treeIndex),c.add("af-tree-"+i),this.treeIndex=i,l={image:a,anchor:"center,bottom",offset:"250,600"},d=new p.CustomSprite(l),d.name="treeSprite",d.image=a,this.treeSprite?o().resolve(y.default.time.delay(500)).then(function(e){try{return this.treeSprite.anime&&this.treeSprite.anime.stop(),this.treeSprite.destroy(),d.setOpacity(0),d.runAction(new p.FadeIn(500)),n.call(this)}catch(e){return t(e)}}.bind(this),t):n.call(this))}.bind(this))},t.prototype._bindEvent=function(){var e=this;this.setEventEnabled(!0),this.on("tap",function(t){t.stopPropagation(),e.shake(),T.default.showText();var n=p.app.root.childMap.shieldContainer;n.tryDuang(t)})},t.prototype.shake=function(){w.default.shake(this.treeSprite)},t.prototype.outHeart=function(){var e=this.store,t=e.getters["tree/treeStageTop"];w.default.outHeart(this,t)},t}(p.CustomContainer);t.default=k},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d.default?(0,d.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(8),c=i(u),l=n(9),d=i(l),f=c.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=n(7),h=r(p),v=n(2),m=i(v),y=function(e){function t(n){o(this,t);var r=a(this,e.call(this,n));return r.name="waterContainer",r.bottleSprite=null,r.energyText=null,r}return s(t,e),t.prototype.runWater=function(e,t){var n=e.energyCount;this._clean(this.bottleSprite),this._clean(this.energyText),this._addBottle(),this._pour(t),this._flutter(n)},t.prototype._addBottle=function(){var e=window.__THEME__.getThemeRes(),t=f({frames:e.tilesetWaterJSON},this.config.gif),n=this.config.bottle,r=new h.CustomSprite(n),i=new h.CustomAnimateSprite(t);r.addChild(i),this.bottleSprite=r,this.addChild(r)},t.prototype._flutter=function(e){var t=this;this.config.text.fill=m.default.biz.isDay()?6413181:9502633;var n=new h.CustomText("＋"+e+"g",this.config.text,"WATER"),r=2500,i=h.FadeOut(r),o=h.MoveBy(r,h.point(0,-150));o.setEasing(h.TWEEN.Easing.Quartic.In),n.runAction([i,o]),this.energyText=n,this.addChild(n),o.onComplete=function(){t._clean(t.energyText)}},t.prototype._pour=function(e){var t=this,n=h.RotateTo(1e3,{rotation:h.deg2radian(-35)});this.bottleSprite.setRotation(h.deg2radian(-20)),this.bottleSprite.runAction(h.Repeat(2,h.Back(n))),n.onComplete=function(){var n=h.FadeOut(500);t.bottleSprite.runAction(n),n.onComplete=function(){t._clean(t.bottleSprite),"function"==typeof e&&e()}}},t.prototype._clean=function(e){e&&e._texture&&(h.Action.cleanup(e),this.removeChild(e),e.destroy({children:!0}),e=null)},t}(h.CustomContainer);t.default=y},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;
var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(c.default?(0,c.default)(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=n(9),c=i(u),l=n(7),d=r(l),f=function(e){function t(){var n,r,i;o(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=a(this,e.call.apply(e,[this].concat(u))),r.name="weatherContainer",i=n,a(r,i)}return s(t,e),t}(d.CustomContainer);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s,u=n(7),c=i(u),l=n(2),d=r(l),f=n(47),p=r(f),h=n(423),v=(s=a=function(){function e(){o(this,e),this.type="treeDecoration"}return e.prototype.apply=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.options=t,this.dressItem=e,this.$store=c.app.root.store;var n=this._findPos(e);this._draw(e,n)},e.prototype.down=function(){var e=this,t=c.FadeOut(600),n=c.ScaleTo(600,{scaleX:.5,scaleY:.5}),r=c.MoveTo(600,c.point(280,100));t.onComplete=function(){e.remove(),c.app.tree.shake()},r.setEasing(c.TWEEN.Easing.Cubic.InOut),this.dressSprite&&this.dressSprite.runAction([n,t,r])},e.prototype.remove=function(){this.dressSprite&&this.dressSprite._texture&&(this.dressSprite.destroy(),this.dressSprite=null)},e.prototype._draw=function(e,t){var n=this,r=e.dressIcon,i=new c.CustomSprite({image:r});if(this.dressSprite=i,i.x=t.x,i.y=t.y,i.setEventEnabled(!0),i.on("tap",function(t){t.stopPropagation(),p.default.$dressMask(e);var n=d.default.home.isMyself();Tracert.click(n?"c8085.d62778":"c10632.d62776")}),c.app.tree.treeSprite.addChild(i),this.options.panelApply){i.x=280,i.y=100,i.setScale(.5,.5),i.setOpacity(0);var o=c.FadeIn(500),a=c.ScaleTo(500,{scaleX:1,scaleY:1}),s=c.MoveTo(500,c.point(t.x,t.y));s.setEasing(c.TWEEN.Easing.Cubic.InOut),i.runAction([o,a,s]);var u=new c.CustomSprite({image:"tileset-common-shield-duang.png",size:"150,150",offset:"38,70"});u.setAnchor(.5,.5),u.setOpacity(.5);var l=c.ScaleTo(2e3,{scaleX:1.5,scaleY:1.5}),f=c.FadeOut(1e3),h=c.MoveBy(1e3,c.point(0,-20));h.onComplete=function(){u.destroy()},setTimeout(function(){u.runAction([l,f,h]),n.dressSprite.addChild(u),c.app.tree.shake()},500)}else{i.setOpacity(0);var v=c.FadeIn(200);i.runAction(v)}},e.prototype._findPos=function(e){var t=this.$store.state.dress.treeDress,n=this.$store.getters["tree/treeStage"],r=h.downgradePos[n];t&&t.dressIcon&&(r=h.downgradePos[7]);var i=r[e.position];return i},e}(),a.downgradePos=h.downgradePos,s);t.default=v},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.downgradePos={1:{tree__1:{x:-90,y:-145},tree__2:{x:-45,y:-110},tree__3:{x:10,y:-170}},2:{tree__1:{x:-100,y:-160},tree__2:{x:-40,y:-175},tree__3:{x:20,y:-140}},3:{tree__1:{x:-95,y:-140},tree__2:{x:-40,y:-240},tree__3:{x:30,y:-150}},4:{tree__1:{x:-100,y:-150},tree__2:{x:-40,y:-290},tree__3:{x:40,y:-160}},5:{tree__1:{x:-100,y:-150},tree__2:{x:-40,y:-290},tree__3:{x:40,y:-160}},6:{tree__1:{x:-110,y:-180},tree__2:{x:-20,y:-350},tree__3:{x:40,y:-180}},7:{tree__1:{x:-110,y:-190},tree__2:{x:-40,y:-350},tree__3:{x:20,y:-180}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(5),s=r(a);n(577);var u={$dressMask:function(e,t){function n(){u.remove()}var r=o.default.home.isMyself(),i=e.detailImg;$(".modal-wrapper").remove();var a=$("body"),u=$('<div class="fuqian-wrapper '+e.batchType+'"></div>'),c=$('<div class="modal">\n        <div class="main">\n          <img src="'+i+'" />\n          '+(t&&!t.btn?"":r?'<div class="down">取下</div>':e.jumpUrl?'<div class="down">我也要领取</div>':"")+'\n          <div class="close"></div>\n        </div>\n      </div>');u.append(c),a.append(u),setTimeout(function(){u.find(".down").on("click",function(t){t.stopPropagation(),t.preventDefault(),r?(window.AF_STORE.dispatch("dress/takeoff",e),n(),Tracert.click("c8085.d62779")):e.jumpUrl&&(s.default.call("pushWindow",{url:e.jumpUrl,param:{backgroundColor:-1}}),Tracert.click("c10632.d62777"))}),u.find(".close").on("click",function(e){e.stopPropagation(),e.preventDefault(),n()}),u.find(".modal").on("click",function(e){e.stopPropagation(),e.preventDefault()}),u.on("click",function(e){e.stopPropagation(),e.preventDefault(),n()})},300),u.on("touchmove",function(e){e.preventDefault()})}};t.default=u},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(7),a=r(o),s=function(){function e(){i(this,e),this.type="treeMain"}return e.prototype.apply=function(e){this.dressItem=e,this.$store=a.app.root.store,this._draw(e)},e.prototype._draw=function(){a.app.tree.renderTree()},e.prototype.down=function(){},e.prototype.remove=function(){},e}();t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(){return u?u:u="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}function a(){var e=function(){var e=document.documentElement.scrollTop||document.body.scrollTop,t=450*(document.documentElement.clientWidth/375);e>=t?l.app.stop():l.app.resume()};e.toString=function(){return"scoll_canvas_stop"},f.default.event.addEventListenerUniq("scroll",e,window,!0)}function s(){return new(o())(function(e,t){var n;return n=f.default.storage,o().resolve(n.get(n.KEY.CUSTOM_FPS)).then(function(n){try{return p=n,p=p||60,e(p)}catch(e){return t(e)}}.bind(this),t)}.bind(this))}Object.defineProperty(t,"__esModule",{value:!0}),t.bindScroll=a,t.getCustomFPS=s;var u,c=n(7),l=i(c),d=n(3),f=r(d),p=60},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=r(i),a=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(589),u=r(s),c=n(590),l=r(c),d=n(591),f=r(d),p=n(592),h=r(p),v=n(593),m=r(v),y=n(601),g=r(y),b=n(602),_=r(b),w=n(598),C=r(w),T=n(603),k=r(T),E=n(604),P=r(E),A=n(605),S=r(A),x=n(606),O=r(x),I=n(607),M=r(I),R=n(608),D=r(R),L=n(609),F=r(L),B=n(594),N=r(B),j=n(597),U=r(j),z=n(588),H=r(z),W=n(587),V=r(W),G=n(610),$=r(G),J=n(611),Y=r(J),X=n(612),q=r(X),K=n(613),Q=r(K),Z=n(614),ee=r(Z),te=n(615),ne=r(te),re=n(616),ie=r(re),oe=n(582),ae=r(oe),se=n(581),ue=r(se),ce=n(580),le=r(ce),de=n(583),fe=r(de),pe=n(584),he=r(pe),ve=n(585),me=r(ve),ye=n(586),ge=r(ye),be=n(2),_e=r(be),we=_e.default.biz.isDay(),Ce={commonJSON:ue.default,bubbleJSON:le.default,tilesetWaterJSON:me.default,tilesetWhisperJSON:ge.default,entriesJSON:ae.default,textJSON:we?fe.default:he.default},Te={ground1:u.default,ground2:l.default,ground3:f.default,ground4:h.default,ground5:m.default,mount:C.default,sky:g.default,dialogFrame:H.default},ke={ground:N.default,mount:U.default,sky:_.default,dialogFrame:V.default},Ee={tree1:k.default,tree2:P.default,tree3:S.default,tree4:O.default,tree5:M.default,tree6:D.default,tree7:F.default},Pe={tree1:$.default,tree2:Y.default,tree3:q.default,tree4:Q.default,tree5:ee.default,tree6:ne.default,tree7:ie.default},Ae=a({},Ce,we?Te:ke);t.default={getResource:function(){var e=_e.default.biz.lottieDowngrade();return e&&(Ae=a({},Ae,we?Ee:Pe)),Ae}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(596),s=r(a),u=n(595),c=r(u),l=n(600),d=r(l),f=n(599),p=r(f),h=o.default.biz.getResourcePrefix(),v=h.base,m=o.default.biz.isDay(),y={reserve:m?d.default:p.default,lake:m?s.default:c.default,light:m?v+"/sky-light.png":v+"/sky-bottom.png",shield:v+"/shield.png"};t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(8),o=r(i),a=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s="base",u=function(){this.use=""};u.prototype.getThemeRes=function(){var e=this[s],t=this.use,n=this[t]||{load:{}};return a({},e.load,n.load)},u.prototype.getThemeOnlineRes=function(){var e=this[s],t=this.use,n=this[t]||{online:{}};return a({},e.online,n.online)},u.prototype.setThemeRes=function(e,t){if(t&&t.load){var n=t.load;n.ground&&(["ground5","ground4","ground3","ground2","ground1"].forEach(function(e){n[e]=n.ground}),delete n.ground),this[e]=t}e===s&&this.use&&this.use!==s&&document.body.classList.remove(this.use),document.body.classList.add(e),this.use=e},window.__THEME__=new u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return o?o:o="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(2),s=r(a),u=n(104),c=r(u),l=n(103),d=r(l);t.default={start:function(){var e=luna.urlParam.get("userId"),t=luna.urlParam.get("shareId"),n=luna.urlParam.get("canRobFlags"),r=s.default.home.getSource(),o=s.default.bubble.getWaterBubbleConfig(),a=o.version,u=s.default.hongbao.getHongbaoConfig(),l=u.version;return i().all([s.default.rpc.queryNextAction(e,t,a,l,n,r),c.default.loadResources(),d.default.initTinyOption()])}}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(){return a?a:a="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(2),u=i(s),c=n(88),l=r(c);t.default={namespaced:!0,state:{data:null,firstShow:!1},getters:{isBigPromotion:function(e){return l.isBigPromotion(e.data)},rankFriendTips:function(e){return l.getExtData(e.data,"rankFriendTips")},addFriendTips:function(e){return l.getExtData(e.data,"addFriendTips")},waterTips:function(e){return l.getExtData(e.data,"waterTips")}},mutations:{updateData:function(e,t){e.data=t},updateFirstShow:function(e,t){e.firstShow=t},init:function(e,t){t&&t.icon&&(e.data=t)}},actions:{firstShow:function(e){return new(o())(function(t,n){var r,i,a,s,c;return r=e.commit,i=e.dispatch,a=e.state,s=function(){i("autoPopupNext",null,{root:!0})},a.data&&a.data.firstTime?"Dialog"!==a.data.type&&"Once"!==a.data.type?(s(),t()):o().resolve(u.default.tired.checkTired(a.data.id,a.data.tiredMap)).then(function(e){try{return c=e,r("updateFirstShow",c),c||s(),t()}catch(e){return n(e)}}.bind(this),n):(s(),t())}.bind(this))},closeFirstShow:function(e){var t=e.commit,n=e.dispatch;t("updateFirstShow",!1),n("autoPopupNext",null,{root:!0})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return o?o:o="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(2),s=r(a),u=n(3),c=r(u);t.default={namespaced:!0,state:{imgInfo:null},mutations:{updateData:function(e,t){e.imgInfo=t}},actions:{init:function(e){return new(i())(function(t,n){var r,o,a,u;return r=e.commit,o=e.dispatch,a=function(){o("autoPopupNext",null,{root:!0})},i().resolve(i().race([s.default.cdp.getPopupImage(),c.default.time.delay(1e3)])).then(function(e){try{return u=e,r("updateData",u),u?(Tracert.expo("c8085.d31461"),s.default.cdp.feedback(u.spaceCode,u.objectId,"SHOW")):a(),t()}catch(e){return n(e)}}.bind(this),n)}.bind(this))},close:function(e){var t=e.commit,n=e.dispatch;t("updateData",null),n("autoPopupNext",null,{root:!0})}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={namespaced:!0,state:{charity:{}},mutations:{setCharity:function(e,t){e.charity=t||{}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return o?o:o="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(2),s=r(a),u=n(24),c=r(u);t.default={namespaced:!0,state:{isLoaded:!1,cooperatePlant:{},cooperateDynamics:[],cooperateTemplate:{}},mutations:{init:function(e,t){var n=t.cooperatePlant,r=t.cooperateDynamics;e.cooperatePlant=n;var i=(r||[]).map(function(e){return e.headPortrait=e.userBasicInfo.headPortrait||c.default.DefaultAvatarOnline,e});e.cooperateDynamics=i,e.cooperateTemplate=n.cooperateTemplate||{}},updateLoaded:function(e,t){e.isLoaded=t}},actions:{queryIndexCooperate:function(e){return new(i())(function(t,n){var r,o;return r=e.commit,i().resolve(s.default.rpc.queryIndexCooperate()).then(function(e){try{return o=e,o.success&&o.cooperatePlant&&o.cooperatePlant.cooperationId&&r("init",o),r("updateLoaded",!0),t()}catch(e){return n(e)}}.bind(this),n)}.bind(this))}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return u?u:u="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}function o(e){var t=e.filter(function(e){return"tree__main"===e.position&&"tree_default"!==e.dressType});return t.length?t[0]:null}function a(e,t,n){return e.map(function(e){var r=e;return e.dressType===t&&(r.remainNum+=n),r})}function s(e){var t=e?{name:e.name,batchType:e.batchType,dressType:e.dressType,dressId:e.dressId,position:e.position,dressIcon:e.dressIcon,detailImg:e.detailImg,jumpUrl:e.jumpUrl}:null,n=t?t.dressIcon:"";return y.default.storage.setLS(y.default.storage.KEY.MAIN_TREE_DRESS,n),t}Object.defineProperty(t,"__esModule",{value:!0});var u,c=n(8),l=r(c),d=l.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=n(17),p=r(f),h=n(2),v=r(h),m=n(3),y=r(m),g=!1;t.default={namespaced:!0,state:{dressList:[],indexDressList:[],treeDress:null,degradeIndexDress:!1,showDress:!0},mutations:{downDress:function(e,t){e.indexDressList=e.indexDressList.filter(function(e){return e.position!==t.position});var n=o(e.indexDressList);e.treeDress=s(n);var r=e.dressList;r=a(r,t.dressType,1),e.dressList=r},applyDress:function(e,t){var n=null,r=e.dressList,i=e.indexDressList.map(function(e){return e.position===t.position?(n=e,t):e});n?r=a(r,n.dressType,1):i.push(t),e.indexDressList=i,r=a(r,t.dressType,-1),e.dressList=r;var u=o(i);e.treeDress=s(u)},refreshIndexDress:function(e,t){var n=t||[],r=o(n);e.treeDress=s(r),e.indexDressList=n},updateProperty:function(e,t){luna.extend(e,t)},updateDressList:function(e,t){e.dressList=t}},actions:{init:function(e){return new(i())(function(t,n){var r,o,a,s,u;return r=e.state,o=e.commit,a=v.default.home.isMyself(),a&&r.showDress?i().resolve(v.default.rpc.listUserDressForBackpack()).then(function(e){try{return s=e,s.success&&s.userHoldDressVOList&&(u=s.userHoldDressVOList,u=u.map(function(e){return e.expireTime&&(e.expireTimeFormat=p.default.formatDate(e.expireTime,"yyyy.MM.dd")),e}),o("updateDressList",u)),t(s)}catch(e){return n(e)}}.bind(this),n):(o("updateProperty",{showDress:!1}),t({success:!1}))}.bind(this))},refreshIndexDress:function(e){return new(i())(function(t,n){var r,o,a,s;return r=e.state,o=e.commit,r.degradeIndexDress||!r.showDress?t():i().resolve(v.default.rpc.getIndexDress()).then(function(e){try{return a=e,s=a.indexDressVO,a.success&&s&&(o("refreshIndexDress",s.dressDetailList||[]),o("updateProperty",{degradeIndexDress:s.degradeIndexDress,showDress:s.showDress})),t()}catch(e){return n(e)}}.bind(this),n)}.bind(this))},apply:function(e,t){return new(i())(function(n,r){var o,a,s,u,c,l,f;return o=e.commit,a=e.state,g?n():(g=!0,a.degradeIndexDress?(y.default.native.toast("服务器开小差了，请稍后再试"),g=!1,n()):t.remainNum<=0?(g=!1,n()):(s=t.dressType,i().resolve(v.default.rpc.wearDress(s)).then(function(e){try{return u=e,u.success?(c=u.position,l=d({},t,{position:c}),o("applyDress",l)):u.error&&(f=u.error.resultDesc||"排队的人太多，客官请稍后",y.default.native.toast(f)),setTimeout(function(){g=!1},1e3),n()}catch(e){return r(e)}}.bind(this),r)))}.bind(this))},takeoff:function(e,t){return new(i())(function(n,r){var o,a,s,u,c;return o=e.commit,a=e.state,g?n():(g=!0,a.degradeIndexDress?(y.default.native.toast("服务器开小差了，请稍后再试"),g=!1,n()):(s=t.dressType,u=t.position,i().resolve(v.default.rpc.takeOffDress(u,s)).then(function(e){try{return c=e,c.success||c.error&&"DRESS_CONFIG_NOT_EXIST"===c.error.resultCode?o("downDress",t):c.error&&y.default.native.toast(c.error.resultDesc||"排队的人太多，客官请稍后"),setTimeout(function(){g=!1},1e3),n()}catch(e){return r(e)}}.bind(this),r)))}.bind(this))}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return o?o:o="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(2),s=r(a),u=n(3),c=r(u),l=n(44),d=r(l);t.default={namespaced:!0,state:{list:[],hasSet:!1,configType:"",configContent:"",viewCount:0,showPanel:!1,loading:!1},mutations:{updateMain:function(e,t){var n=t.configVOS,r=t.hasSet,i=t.configType,o=t.configContent,a=t.viewCount;n&&(e.list=n||[]),e.hasSet=!!r,e.configType=i||"",e.configContent=o||"",e.viewCount=a||0},updateShowPanel:function(e,t){e.showPanel=t;var n=document.getElementById("J_app_outter");if(t){c.default.html.forbidBodyScroll();var r=document.documentElement.clientWidth/375,i=480*r-(window.screen.height-313*r);i=Math.max(0,i),n.style.marginTop=-i+"px"}else c.default.html.allowBodyScroll(),n.style.marginTop=""},updateLoading:function(e,t){e.loading=t}},actions:{showFanghuaPanel:function(e){return new(i())(function(t,n){var r,o,a;return r=e.commit,o=e.state,r("updateShowPanel",!0),o.loading?t():(r("updateLoading",!0),i().resolve(s.default.rpc.queryBluffPage()).then(function(e){try{return a=e,a.success&&r("updateMain",a),r("updateLoading",!1),t()}catch(e){return n(e)}}.bind(this),n))}.bind(this))},hidePanel:function(e){var t=e.commit;t("updateShowPanel",!1)},autoShowFanghua:function e(t){var n=t.dispatch,e=c.default.native.getMultiSourceParam("autoShowFanghua");e&&n("showFanghuaPanel")},setFanghua:function(e,t){return new(i())(function(n,r){var o,a,u,l,d,f;return o=e.commit,a=e.dispatch,u={},u.userBluff=t,l="set"===t.opType,i().resolve(s.default.rpc.updateUserConfig(u)).then(function(e){try{return d=e,d.success?(f={hasSet:l,configType:t.configType,configContent:t.configContent+"",viewCount:0},o("updateMain",f),c.default.native.toast(l?"设置成功":"取消成功"),l&&"text"===t.configType&&a("mockFanghua",t)):c.default.native.toast(d.error.resultDesc),n()}catch(e){return r(e)}}.bind(this),r)}.bind(this))},mockFanghua:function(e,t){var n=e.dispatch,r={refinedOpsVOList:[{renderType:"USER_BLUFF",renderValue:{configType:t.configType,configContent:t.configContent+"",emojiConfig:JSON.stringify(t.emojiConfig||{}),leadToSet:""}}],requestType:1,resultCode:"SUCCESS",resultDesc:"成功",success:!0};n("refined/do",{actionCode:d.default.af_ro_queryNextAction,refinedVO:r},{root:!0})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return o?o:o="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(8),s=r(a),u=s.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(2),l=r(c),d=n(3),f=r(d),p=n(24),h=r(p),v=n(89);t.default={namespaced:!0,state:{loaded:!1,hasMore:!0,displayArticles:[],todayEnergySummary:null,robRank:[],recentDynamics:[]},mutations:{setMain:function(e,t){luna.extend(e,t)},updateOneDynamic:function(e,t){var n=t.path,r=t.bizNo,i=t.data,o=e[n],a=(0,v.getIndex)(o,"bizNo",r);if(a){var s=u({},a.data,i);o.splice(a.index,1,s)}}},actions:{queryDynamicsIndex:function(e,t){return new(i())(function(n,r){var o,a,s,u,c,d,p,m;return o=e.commit,a=t.refresh,i().resolve(l.default.rpc.queryDynamicsIndex(!!a)).then(function(e){function t(){return o("updateIsLoaded",2,{root:!0}),n()}try{return s=e,s.success?(u=s.displayArticles||[],u.forEach(function(e){e.imageUrl=f.default.html.resizeImage(e.imageUrl,80)}),c=[{key:"ROB",type:"ENERGY",color:"green",tagText:"今日最慷慨"},{key:"ROBBED",type:"UNLIKE",color:"blue",tagText:"今日最过分"}],d=[],s.robRank&&c.forEach(function(e){var t=s.robRank[e.key];if(t)return t.bizNo=e.key+"_"+t.userId+"_"+f.default.time.todayStr,t.type=e.type,t.color=e.color,t.tagText=e.tagText,t.properties={energy:5},d.push(t),t}),i().resolve(l.default.relation.queryLocalSocialInfo({result:{rank:d,dynamics:s.recentDynamics||[]},pathList:["rank","dynamics"],propPath:["","fromUser"],defaultName:"你的好友",defalltPortrait:h.default.DefaultAvatarOnline})).then(function(e){try{return p=e,m=void 0,m=a?{todayEnergySummary:s.todayEnergySummary||null,robRank:(0,v.supplemenDynamics)(p.rank,"homepage"),loaded:!0}:{displayArticles:s.displayArticles||[],todayEnergySummary:s.todayEnergySummary||null,robRank:(0,v.supplemenDynamics)(p.rank,"homepage"),recentDynamics:(0,v.supplemenDynamics)(p.dynamics,"homepage"),hasMore:s.hasMore,loaded:!0},o("setMain",m),t.call(this)}catch(e){return r(e)}}.bind(this),r)):t.call(this)}catch(e){return r(e)}}.bind(this),r)}.bind(this))},handleDynamic:function(e,t){var n=e.commit,r=t||{},i=r.biz,o=r.data;i&&(n("updateOneDynamic",{path:i.path,bizNo:i.id,data:{alreadyOperate:!0,operatedInfo:o}}),(0,v.saveOperate)(i.id+"_"+i.type))},operateDynamic:function(e,t){return new(i())(function(n,r){var o,a,s,u;return o=e.commit,a=t.dynamic,s={receiverUserId:a.fromUser.userId,bizType:a.type,bizNo:a.bizNo,bizDt:a.bizDt,action:"PRAISE"},i().resolve(l.default.rpc.operateDynamic(s)).then(function(e){try{return u=e,u.success&&(o("updateOneDynamic",{path:"recentDynamics",bizNo:a.bizNo,data:{alreadyOperate:!0}}),f.default.native.toast("已赠送TA "+u.praiseEnergy+"g"),o("tree/updateTreeEnergy",u.treeEnergy,{root:!0}),o("userinfo/cutUserEnergy",u.praiseEnergy,{root:!0})),n()}catch(e){return r(e)}}.bind(this),r)}.bind(this))}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return o?o:o="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(2),s=r(a),u=n(3),c=r(u);t.default={namespaced:!0,state:{startIndex:0,feedList:[],hasMore:!1},mutations:{updateFeedList:function(e,t){var n=t.feedList,r=t.hasMore,i=[];i=0===e.startIndex?n:e.feedList.concat(n),i=i.filter(function(e){return!e.feedDivide});var o=0;for(c.default.time.listFeedDivideInit();o<i.length;){var a=i[o];if(a.bizDt){var s=c.default.time.listFeedDivide(a.bizDt);s&&(i.splice(o,0,{feedDivide:s,bizNo:s}),o++)}o++}e.feedList=i,e.hasMore=r},updateStartIndex:function(e,t){e.startIndex=t},deleteFeed:function(e,t){var n=t.bizNo;e.feedList=e.feedList.filter(function(e){return e.bizNo!==n})},mockUpdateFeedList:function(e,t){e.feedList.unshift(t)}},actions:{queryFriendFeed:function(e){var t=arguments;return new(i())(function(n,r){var o,a,u,l,d,f,p,h,v,m,y;return o=e.commit,a=e.rootState,u=e.state,l=t.length>1&&void 0!==t[1]?t[1]:{},d=l.forceUpdate,f=void 0!==d&&d,p=u.startIndex,f&&(c.default.time.divideShown={},p=0,o("updateStartIndex",0),o("updateFeedList",{feedList:[],hasMore:!0})),h=u.feedList,v=(h[h.length-1]||{}).bizDt,i().resolve(s.default.rpc.queryHomeFeed(p,10,a.uid,v)).then(function(e){try{return m=e,m.dynamics&&m.dynamics.length&&(y={hasMore:m.hasMore,feedList:m.dynamics},o("updateFeedList",y),o("updateStartIndex",m.nextStartIndex)),o("updateIsLoaded",2,{root:!0}),n(m)}catch(e){return r(e)}}.bind(this),r)}.bind(this))},deleteFeed:function(e,t){return new(i())(function(n,r){var o,a,u,l,d;return o=e.commit,a=t.bizNo,u=t.bizDt,l=t.userId,i().resolve(s.default.rpc.deleteUserDynamic(a,l,u)).then(function(e){try{return d=e,d.success?o("deleteFeed",{bizNo:a}):c.default.native.toast(d.error.resultDesc),n(d)}catch(e){return r(e)}}.bind(this),r)}.bind(this))},mockFeedList:function(e,t){return new(i())(function(n,r){var o,a,s,u,l,d,f,p,h;return o=e.commit,a=e.state,s=t.type,u=t.energy,u?i().resolve(c.default.native.getUserInfo()).then(function(e){try{return l=e,d=l.userID,f=l.displayName,p=l.headUrl,h={ROB:"收取"+u+"g",ROB_BY_ENERGY_DOUBLE_CLICK:"使用双击卡收取"+u+"g",WATERING:"来浇过水，+"+u+"g绿色能量",FRIEND_COLLECT:"帮忙收取"+u+"g"},o("mockUpdateFeedList",{friend:!0,bizDt:c.default.time.now(),content:h[s],properties:{},fromUser:{displayName:f,userId:d,realName:!1,headPortrait:p},type:s}),o("updateFeedList",{feedList:[],hasMore:a.hasMore}),n()}catch(e){return r(e)}}.bind(this),r):n()}.bind(this))}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(14),s=r(a),u=n(3),c=r(u),l=n(100),d=r(l);t.default={namespaced:!0,state:{config:{},redpacket:null},mutations:{updateConfig:function(e,t){e.config=t||{}},updateRedpacket:function(e,t){t&&(t.id=t.packetNo,t.bubbleType=s.default.TYPE_HONGBAO,e.redpacket=t)},deleteRedpacket:function(e){if(e.redpacket){var t=luna.extend({},e.redpacket,{delete:s.default.DELETE_COLLECT_LITE});e.redpacket=t}}},actions:{init:function(e,t){var n=e.commit,r=t.redPacketConfig,i=t.redPacketVO,a=o.default.hongbao.getHongbaoConfig(r);n("updateConfig",a),n("updateRedpacket",i)},autoShowHongbao:function e(t){var n=t.state,e=c.default.native.getMultiSourceParam("autoShowHongbao");e&&!n.redpacket&&d.default.start(n.config)}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return o?o:o="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(2),s=r(a),u=n(360),c=r(u);t.default={namespaced:!0,state:{robRecord:null,helpRecord:null,index:0},mutations:{slideTo:function(e,t){e.index=t},updateRobRecord:function(e,t){t.my&&t.target&&(e.robRecord=t)},updateHelpRecord:function(e,t){t.my&&t.target&&(e.helpRecord=t)}},actions:{init:function(e){return new(i())(function(t,n){var r,o,a,u,c,l;return r=e.commit,o=e.rootState,a=o.uid,i().resolve(s.default.rpc.queryPKRecord(a)).then(function(e){try{return u=e,u.success&&(c={my:u.myRecord,target:u.targetRecord},r("updateRobRecord",c),l={my:u.myHelpCollectRecord,target:u.targetHelpCollectRecord},r("updateHelpRecord",l)),r("updateIsLoaded",2,{root:!0}),t()}catch(e){return n(e)}}.bind(this),n)}.bind(this))},collectEnergy:function(e,t){var n=e.commit,r=e.state,i=t.energy,o=t.type,a=r[o+"Record"];if(a){var s=(0,c.default)(a,{my:{collectEnergy:a.my.collectEnergy+i}});n("slideTo","help"===o?1:0),n("update"+(o.charAt(0).toLocaleUpperCase()+o.substr(1))+"Record",s)}}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={namespaced:!0,state:{trees:[]},mutations:{setPlantTrees:function(e,t){e.trees=(t||{}).plantTreeCountDetailVOList||[]}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return o?o:o="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(8),s=r(a),u=s.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(2),l=r(c),d=n(3),f=r(d),p=n(17),h=r(p),v=n(24),m=r(v),y=n(14),g=r(y),b=0;t.default={namespaced:!0,state:{show:0,forestPropVOList:[],usingUserProps:[],loginUserUsingProp:[],shield:{remainingTime:-1,effective:!1,logo:""},doubleCollect:{remainingTime:-1},givenProps:[]},getters:{usingShield:function(e){return e.shield.remainingTime>0},usingDoubleClick:function(e){return e.doubleCollect.remainingTime>0}},mutations:{triggerShow:function(e,t){e.show=t;var n=document.getElementById("J_app_outter");if(t){f.default.html.forbidBodyScroll();var r=document.documentElement.clientWidth/375,i=480*r-(window.screen.height-313*r);i=Math.max(0,i),n.style.marginTop=-i+"px"}else f.default.html.allowBodyScroll(),n.style.marginTop=""},updateUserHoldProps:function(e,t){e.forestPropVOList=t},updateUsingUserProps:function(e,t){e.usingUserProps=t},updateLoginUserUsingProp:function(e,t){e.loginUserUsingProp=t},updateShield:function(e,t){var n=u({},e.shield,t||{});e.shield=n},updateDoubleCollect:function(e,t){var n=u({},e.doubleCollect,t||{});e.doubleCollect=n},updateGivenProps:function(e,t){e.givenProps=t},updateOnePropBubble:function(e,t){var n=e.givenProps.map(function(e){var n=e;return n.id===t.id&&(n=luna.extend({},n,t)),n});e.givenProps=n}},actions:{init:function(e,t){var n=e.dispatch,r=t.usingUserProps,i=void 0===r?[]:r,o=t.givenProps,a=void 0===o?[]:o,s=t.loginUserUsingProp,u=void 0===s?[]:s;n("setUsingUserProps",{usingUserProps:i,loginUserUsingProp:u}),n("initGivenProps",a)},showPropsPanel:function(e,t){return new(i())(function(n,r){var o,a,s;return o=e.commit,a=e.dispatch,s=function(){return i().all([a("getPropList"),a("dress/init",void 0,{root:!0})])},i().resolve(s()).then(function(e){try{return o("triggerShow",t||1),n()}catch(e){return r(e)}}.bind(this),r)}.bind(this))},getPropList:function(e){return new(i())(function(t,n){var r,o,a,s,c;return r=e.commit,o=l.default.home.isMyself(),a=o?"":"Y",i().resolve(l.default.rpc.queryPropList(a)).then(function(e){try{return s=e,c=(s.forestPropVOList||[]).filter(function(e){return!e.recentExpireTime||e.recentExpireTime<7287941532e3}),c=c.map(function(e){var t=e.propConfigVO||{},n=u({},e,t,{name:t.propName});return delete n.propConfigVO,e.recentExpireTime&&(n.recentExpireTimeStr=h.default.formatDate(new Date(e.recentExpireTime),"yyyy.MM.dd")),n}),r("updateUserHoldProps",c),t()}catch(e){return n(e)}}.bind(this),n)}.bind(this))},autoShowProps:function e(t){var n=t.dispatch,e=f.default.native.getMultiSourceParam("autoShowProps");e&&n("showPropsPanel",+e)},useProp:function(e,t){return new(i())(function(n,r){var o,a,s,u,c,d,p,h,v,m,y,g;return o=e.commit,a=e.dispatch,s=e.state,u=(t.propIdList||[])[0],i().resolve(l.default.rpc.consumeProp(t.propType,u)).then(function(e){try{return c=e,d=c.error,p=c.useResult,h=c.orgName,o("triggerShow",0),d?(f.default.native.toast(d.resultDesc||"稍后再试试吧~"),n(null)):(l.default.logger.info("USE_PROP",{propid:u}),v=l.default.props.PropFamilyKey,m=l.default.props.PropTypeFamily,y=f.default.time.now(),g={description:t.desc,effectTime:y,endTime:y+1e3*t.durationTime,id:u,name:t.name,propId:t.propId,logo:h,type:m[t.propType],init:!0
},i().resolve(a("setUsingUserProps",{usingUserProps:s.usingUserProps.concat([g]),loginUserUsingProp:s.usingUserProps})).then(function(e){function o(){return n({useResult:p})}try{return m[t.propType]===v.bb?i().resolve(a("tree/allCanCollect",p,{root:!0})).then(function(e){try{return o.call(this)}catch(e){return r(e)}}.bind(this),r):o.call(this)}catch(e){return r(e)}}.bind(this),r))}catch(e){return r(e)}}.bind(this),r)}.bind(this))},setUsingUserProps:function(e,t){var n=e.commit,r=e.dispatch,i=t.usingUserProps,o=t.loginUserUsingProp,a=i;a&&a.length||r("clearUsingUserProps");var s=l.default.props.PropFamilyKey,u=f.default.time.now(),c=a.filter(function(e){return e.endTime>u}),d=o.filter(function(e){return e.endTime>u});n("updateUsingUserProps",c),n("updateLoginUserUsingProp",d),clearInterval(b);var p=function(){var e=l.default.props.getPropInfo(c),t=l.default.props.getPropInfo(d),r={};l.default.home.isMyself()?r=e:(r[s.es]=e[s.es],r[s.edc]=t[s.edc]);var i=!1,o=r[s.es];o&&o.remainingTime>=0?(n("updateShield",{remainingTime:o.remainingTime,logo:o.log}),i=!0):n("updateShield",{remainingTime:-1,effective:!1});var a=r[s.edc];a&&a.remainingTime>=0?(n("updateDoubleCollect",{remainingTime:a.remainingTime,init:a.init}),i=!0):n("updateDoubleCollect",{remainingTime:-1}),i||clearInterval(b)};b=setInterval(p,1e3),p()},clearUsingUserProps:function(e){var t=e.commit;t("updateShield",{remainingTime:-1,effective:!1,logo:""}),t("updateDoubleCollect",{remainingTime:-1})},initGivenProps:function(e,t){return new(i())(function(n,r){function o(){return a("updateGivenProps",s.givenProps),n()}var a,s;return a=e.commit,s={givenProps:t},s.givenProps&&s.givenProps.length?(s.givenProps=s.givenProps.map(function(e){return e.id=e.giveId,e.bubbleType=g.default.TYPE_PROP,e.fromUser={userId:e.userId},e}),i().resolve(l.default.relation.queryLocalSocialInfo({result:s,pathList:["givenProps"],propPath:["fromUser"],defaultName:"你的好友",defalltPortrait:m.default.DefaultAvatarOnline})).then(function(e){try{return s=e,o.call(this)}catch(e){return r(e)}}.bind(this),r)):o.call(this)}.bind(this))},handselProp:function(e,t){var n=e.dispatch,r=e.rootState,i=t.prop,o=t.source,a=l.default.home.isMyself(),s=a?"":r.uid,u=i.giveConfigVO||{},c={icon:i.imageUrl,propId:i.propIdList[0],giveConfigId:u.giveConfigId,targetUserId:s,source:o};l.default.props.handsel(c,function(){n("getPropList")})},collectProp:function(e){var t=arguments;return new(i())(function(n,r){function o(){return n()}var a,s,u,c,d,f;return a=e.commit,s=t.length>1&&void 0!==t[1]?t[1]:{},u=s.giveId,c=s.giveConfigId,u&&c?i().resolve(l.default.rpc.collectProp(u,c)).then(function(e){try{return d=e,d.success&&(f={id:u,delete:g.default.DELETE_COLLECT},a("updateOnePropBubble",f)),o.call(this)}catch(e){return r(e)}}.bind(this),r):o.call(this)}.bind(this))}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(){return a?a:a="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(356),u=i(s),c=n(2),l=r(c),d=n(3),f=r(d),p=void 0;t.default={namespaced:!0,state:{list:[],hasMore:!1,loading:!1,success:!1,type:""},mutations:{updateType:function(e,t){e.type=t},updateMainData:function(e,t){var n={};t?(n.hasMore=t.hasMore,n.list=t.list,n.inited=t.inited):n.list=e.list,n.list.length?n.list=u.refreshList(n.list):delete n.list,luna.extend(e,n),u.setTypeData(e.type,n)},updateOneData:function(e,t){var n=t||{},r=n.index,i=n.data;if(i&&e.list[r]){var o=luna.extend({},e.list[r],i);e.list[r]=o,u.setTypeData(e.type,o,"list."+r),i.handled&&u.setHandleData(o.userId)}},updateLoading:function(e,t){e.loading=t},updateSuccess:function(e,t){e.success=t}},actions:{changeTab:function(e,t){return new(o())(function(n,r){function i(){return a("updateIsLoaded",2,{root:!0}),n(!0)}var a,s,c,l,d,f;return a=e.commit,s=e.dispatch,c=e.state,l=t.type,d=t.force,c.loading||!d&&l===c.type?n():(f=u.getTypeData(l),a("updateType",l),a("updateMainData",f),f.inited?i.call(this):o().resolve(s("queryHomeRank")).then(function(e){try{return o().resolve(s("refresh")).then(function(e){try{return i.call(this)}catch(e){return r(e)}}.bind(this),r)}catch(e){return r(e)}}.bind(this),r))}.bind(this))},queryHomeRank:function(e){return new(o())(function(t,n){var r,i,a,s;return r=e.commit,i=e.state,i.loading?t():(r("updateLoading",!0),o().resolve(u.getList(i.type)).then(function(e){try{return a=e,r("updateLoading",!1),a.success&&(s={list:a.friendRanking||[],hasMore:a.hasMore,inited:!0},r("updateMainData",s),r("updateSuccess",!0)),t()}catch(e){return n(e)}}.bind(this),n))}.bind(this))},rankInviteFriend:function(e,t){return new(o())(function(n,r){var i,a,s,c,d;return i=e.commit,a=t.userId,s=t.index,a?o().resolve(l.default.rpc.rankInviteFriend(a)).then(function(e){try{return c=e,c.success&&(d={},d[a]=f.default.time.now(),u.setInvited(d),i("updateOneData",{data:{isInvited:!0},index:s})),n(c)}catch(e){return r(e)}}.bind(this),r):n({success:!1})}.bind(this))},refresh:function(e){var t=e.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.stop,i=void 0!==r&&r,o=n.immediate,a=void 0!==o&&o;clearInterval(p),i||(p=setInterval(function(){t("updateMainData")},1e4)),a&&t("updateMainData")},refreshRankForced:function(e){var t=e.dispatch;u.clear(),t("queryHomeRank")},refreshRankIfHasMyself:function(e){return new(o())(function(t,n){var r,i,a;return r=e.dispatch,i=!1,o().resolve(f.default.native.getUserId()).then(function(e){try{return a=e,["week","total"].forEach(function(e){if(!i)for(var t=u.getTypeData(e),n=(t.list||[]).filter(function(e){return!!e}),r=0;r<n.length;r++){var o=n[r];if(o.userId===a){i=!0;break}}}),i&&r("refreshRankForced"),t(i)}catch(e){return n(e)}}.bind(this),n)}.bind(this))},refreshRankFromLocal:function(e,t){return new(o())(function(n,r){var i,a,s,c;return i=e.dispatch,a=e.state,s=t.toRankTs,o().resolve(f.default.storage.get(f.default.storage.KEY.RANK_LIST)).then(function(e){try{return c=e,c&&(+c.lastTs>s?(["week","total"].forEach(function(e){if(c[e]&&c[e].length){var t=u.getTypeData(e);t.list=c[e],u.setTypeData(e,t)}}),c.handled&&u.appendHandleData(c.handled)):l.default.logger.errorCommon("RANK","LOCAL_REFRESH",s+"~"+c.lastTs),f.default.storage.remove(f.default.storage.KEY.RANK_LIST),i("changeTab",{type:a.type,force:!0})),n()}catch(e){return r(e)}}.bind(this),r)}.bind(this))}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return o?o:o="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(8),s=r(a),u=s.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(2),l=r(c),d=n(3),f=r(d);t.default={namespaced:!0,state:{recommendUsers:[]},mutations:{updateRecommendUsers:function(e,t){e.recommendUsers=t},updateItem:function(e,t){var n=e.recommendUsers.indexOf(t);e.recommendUsers=[].concat(e.recommendUsers.slice(0,n),[u({},t)],e.recommendUsers.slice(n+1))}},actions:{queryRecommand:function(e){return new(i())(function(t,n){var r,o,a,s;return r=e.commit,i().resolve(l.default.rpc.queryRecommand()).then(function(e){function u(){return t()}try{return o=e,o.success&&o.recommendUsers?(a=o.recommendUsers,i().resolve(f.default.storage.get(f.default.storage.KEY.INVITEDLIST)).then(function(e){try{return s=e,s&&luna.isArray(a)&&(a=a.filter(function(e){return!(s.indexOf(e.userId)>=0||s.indexOf(e.phoneNum)>=0)})),r("updateRecommendUsers",a),a&&a.length&&Tracert.expo("c14484.d26910"),u.call(this)}catch(e){return n(e)}}.bind(this),n)):u.call(this)}catch(e){return n(e)}}.bind(this),n)}.bind(this))},invite:function(e,t){return new(i())(function(n,r){var o,a,s;return o=e.dispatch,a=e.commit,i().resolve(l.default.rpc.inviteUser(t.userId,t.phoneNum)).then(function(e){try{return s=e,s.success&&(t.isInvited=!0,a("updateItem",t),o("pushLocalInvitedList",t.userId||t.phoneNum)),n(s)}catch(e){return r(e)}}.bind(this),r)}.bind(this))},addFriend:function(e,t){return new(i())(function(n,r){var o,a,s;return o=e.dispatch,a=e.commit,i().resolve(l.default.rpc.friendRequest(t.userId,t.loginId)).then(function(e){try{return s=e,s.success&&(t.isAdded=!0,a("updateItem",t),o("pushLocalInvitedList",t.userId)),n(s)}catch(e){return r(e)}}.bind(this),r)}.bind(this))},pushLocalInvitedList:function(e,t){return new(i())(function(e,n){var r,o;return i().resolve(f.default.storage.get(f.default.storage.KEY.INVITEDLIST)).then(function(a){try{return r=a,r=r||[],r.push(t),i().resolve(f.default.storage.set(f.default.storage.KEY.INVITEDLIST,r)).then(function(t){try{return o=t,e(o)}catch(e){return n(e)}}.bind(this),n)}catch(e){return n(e)}}.bind(this),n)}.bind(this))}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(){return a?a:a="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(7),u=i(s),c=n(2),l=r(c),d=n(3),f=r(d),p=n(44),h=r(p),v=n(31),m=r(v),y=n(60),g=r(y),b=n(99),_=r(b),w=["COMMON_TREE_TALK","RAINBOW_TREE_TALK","COMMON_POPUP_WIN","TEXT_TREE_TALK"];t.default={namespaced:!0,state:{cacheVo:null},getters:{canPopup:function(e,t,n,r){return r["tree/canCollectBubbleCount"]<=0}},mutations:{updateCacheVo:function(e,t){e.cacheVo=t}},actions:{do:function(e,t){var n=e.state,r=e.commit,i=e.getters,o=t.refinedVO,a=t.actionCode,s=t.extInfo,u=t.callback,c=l.default.home.isMyself(),d=i.canPopup,f=void 0,p=void 0,v=function(e){"function"==typeof u&&u(e),d&&!e.success&&c&&a===h.default.af_ro_collectEnergy&&g.default.autoShow()};d&&n.cacheVo&&n.cacheVo.refinedOpsVOList.length?(f=n.cacheVo,p=h.default.af_ro_queryNextAction,r("updateCacheVo",null)):(f=o,p=a),(0,m.default)(function(e){try{e.biz.refined.do({isMyself:c,refinedVO:f,actionCode:p,extInfo:s,callback:v})}catch(e){_.default.emit(b.EVENTS.AF_COMMON_HOME_ERROR),v(e)}})},initCombineBiz:function(e,t){var n=e.dispatch,r=e.commit,i=e.getters,o={refinedOpsVOList:[]},a={refinedOpsVOList:[]},s={refinedOpsVOList:[]},c=i.canPopup;if("object"==typeof t){if(t.refinedOpsVOList.forEach(function(e){w.indexOf(e.renderType)>-1?o.refinedOpsVOList.push(e):a.refinedOpsVOList.push(e)}),s=c?t:a,!t.refinedOpsVOList.filter(function(e){return"SHOP_ENTRY"===e.renderType}).length){var d=u.app.root.childMap.entriesContainer;d.shopEntry()}t.refinedOpsVOList.length||l.default.logger.infoCommon("CDP_nextaction",{code:"NO_CONT"})}s.refinedOpsVOList&&s.refinedOpsVOList.length&&n("do",{actionCode:h.default.af_ro_queryNextAction,refinedVO:s}),c&&!o.refinedOpsVOList.length&&g.default.autoShow(),!c&&o.refinedOpsVOList.length&&r("updateCacheVo",o)},doGuideCoWater:function(e){return new(o())(function(t,n){var r,i,a,s;return r=e.getters,(i=r.canPopup)?(a=f.default.storage.KEY.TREE_COWATER,o().resolve(l.default.tired.todayHasShow(a)).then(function(e){try{return s=e,s||g.default.showGuideCoWater(function(){l.default.tired.saveTodayHasShow(a)}),t()}catch(e){return n(e)}}.bind(this),n)):t()}.bind(this))}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return o?o:o="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(5),s=r(a),u=n(3),c=r(u),l=n(98),d=r(l),f=!1;t.default={namespaced:!0,state:{energyCache:[],catchTreeCurrentEnergy:null,toRankPage:0,toCooperation:!1,toHistory:!1,changeDress:!1},mutations:{updateToRankPage:function(e,t){e.toRankPage=t||0},updateToCooperation:function(e,t){e.toCooperation=!!t},updateToHistory:function(e,t){e.toHistory=!!t},pushEnergyCache:function(e,t){e.energyCache.push(t)},clearEnergyCache:function(e){e.energyCache=[]},updateCatchTreeCurrentEnergy:function(e,t){e.catchTreeCurrentEnergy=t},clearCatchTreeCurrentEnergy:function(e){e.catchTreeCurrentEnergy=null},updateAFChangeDress:function(e,t){e.changeDress=t}},actions:{init:function(e){var t=e.commit,n=e.dispatch;f||(f=!0,s.default.call("addNotifyListener",{name:"NEBULANOTIFY_AFListFeedPraised"},function(e){var n=e.result,r=null;try{r=JSON.parse(n)}catch(e){}if(r){var i=r,o=i.treeEnergy,a=i.praiseEnergy;o&&t("tree/updateTreeEnergy",o,{root:!0}),a&&t("userinfo/cutUserEnergy",a,{root:!0})}}),s.default.call("addNotifyListener",{name:"NEBULANOTIFY_AFResumeData"},function(e){var n=e.result;if(n){try{n=JSON.parse(n)}catch(e){}n.type&&n.energy&&t("pushEnergyCache",n)}}),s.default.call("addNotifyListener",{name:"NEBULANOTIFY_AFCPData"},function(e){var n=e.type,r=e.currentEnergy;"WATERED"===n&&r>=0&&t("updateCatchTreeCurrentEnergy",r)}),s.default.call("addNotifyListener",{name:"NEBULANOTIFY_AFChangeDress"},function(e){var n=e.error;n||t("updateAFChangeDress",!0)}),s.default.call("addNotifyListener",{name:"NEBULANOTIFY_AFRefresh"},function(e){var t=e.refresh;t&&location.reload()}),s.default.call("addNotifyListener",{name:"NEBULANOTIFY_AFExit"},function(e){var t=e.needExitApp;t&&s.default.call("exitApp")}),document.addEventListener("appResume",function(e){var t=e.data||e;t.autoShowProps?n("props/showPropsPanel",+t.autoShowProps,{root:!0}):t.autoShowTask?n("task/showTaskPanel",void 0,{root:!0}):t.autoShowFanghua&&n("task/showFanghuaPanel",void 0,{root:!0})}))},run:function(e){var t=e.dispatch;c.default.time.init(),t("_AFEnergyResume"),t("_AFChangeDress"),t("_AFAntfarmUpdate"),t("_AFCPIndexUpdate"),t("_AFNoticeRedDotUpdate")},_AFRankResume:function(e,t){var n=e.state,r=e.commit,i=e.dispatch,o=t.localSync;if(n.toRankPage){if(i("refined/doGuideCoWater",void 0,{root:!0}),o){var a=n.toRankPage;i("rank/refreshRankFromLocal",{toRankTs:a},{root:!0})}r("updateToRankPage",0)}i("rank/refresh",{immediate:!o},{root:!0})},_AFEnergyResume:function(e){return new(i())(function(t,n){function r(){return o.call(this)}function o(){return s("_AFRankResume",{localSync:!v}),t()}var a,s,u,c,l,d,f,p,h,v;return a=e.commit,s=e.dispatch,u=e.state,c=e.rootState,l=c.tree.treeEnergy.currentEnergy,d=0,f=!1,p=!1,u.energyCache.length&&(u.energyCache.forEach(function(e){"WATER"===e.type?(d-=e.energy,f=!0):"ROB"!==e.type&&"ROB_BY_ENERGY_DOUBLE_CLICK"!==e.type||(d+=e.energy,p=!0)}),a("clearEnergyCache")),u.catchTreeCurrentEnergy&&(h=+u.catchTreeCurrentEnergy||0,d=h-l,f=!0,a("clearCatchTreeCurrentEnergy")),l+=d,l<0?(window.location.reload(),t()):(d&&(a("tree/updateTreeCurrentEnergy",l,{root:!0}),a("userinfo/addUserEnergy",d,{root:!0}),s("feed/queryDynamicsIndex",{refresh:!0},{root:!0})),v=!1,f?(s("rank/refreshRankForced",{},{root:!0}),v=!0,o.call(this)):p?i().resolve(s("rank/refreshRankIfHasMyself",{},{root:!0})).then(function(e){try{return v=e,r.call(this)}catch(e){return n(e)}}.bind(this),n):r.call(this))}.bind(this))},_AFChangeDress:function(e){var t=e.dispatch,n=e.commit,r=e.state;r.changeDress&&(t("dress/refreshIndexDress",void 0,{root:!0}),n("updateAFChangeDress",!1))},_AFAntfarmUpdate:function(){d.default.gotoAntfarm&&(d.default.update(),d.default.gotoAntfarm=!1)},_AFCPIndexUpdate:function(e){var t=e.commit,n=e.dispatch,r=e.state;r.toCooperation&&(t("updateToCooperation",!1),n("cooperation/queryIndexCooperate","",{root:!0}))},_AFNoticeRedDotUpdate:function(e){return new(i())(function(t,n){function r(){return t()}var o,a,s,u;return o=e.commit,a=e.state,a.toHistory?(o("updateToHistory",!1),i().resolve(c.default.storage.get(c.default.storage.KEY.HISTORY_DATA)).then(function(e){try{return s=e,u=s&&s.noticeRedDot,o("userinfo/updateNoticeRedDot",u,{root:!0}),r.call(this)}catch(e){return n(e)}}.bind(this),n)):r.call(this)}.bind(this))}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return a?a:a="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(8),u=r(s),c=u.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(2),d=r(l),f=n(5),p=r(f),h=n(3),v=r(h);t.default={namespaced:!0,state:{show:!1,taskInfos:[]},mutations:{triggerShow:function(e,t){e.show=t,t?v.default.html.forbidBodyScroll():v.default.html.allowBodyScroll()},updateTaskInfos:function(e,t){e.taskInfos=t},updateTaskInfo:function(e,t){var n=e.taskInfos.map(function(e){return e.taskType===t.taskType?t:e});e.taskInfos=n}},actions:{init:function(e){return new(i())(function(t,n){var r,a,s,u,c;return r=e.commit,i().resolve(d.default.rpc.queryTaskList()).then(function(e){function l(){return t()}try{return a=e,s=a.error,u=o(a,["error"]),u.success&&u.forestTaskVOList?(c=u.forestTaskVOList.map(function(e){if("string"==typeof e.bizInfo)try{e.bizInfo=JSON.parse(e.bizInfo)}catch(t){console.log(e.bizInfo)}else e.bizInfo=e.bizInfo||{};return e}),i().resolve(d.default.task.filterTaskList(c)).then(function(e){try{return c=e,r("updateTaskInfos",c),c.forEach(function(e){"TODO"===e.taskStatus&&Tracert.expo("c22416.d41412","",{taskType:e.taskType})}),l.call(this)}catch(e){return n(e)}}.bind(this),n)):(r("updateTaskInfos",[]),l.call(this))}catch(e){return n(e)}}.bind(this),n)}.bind(this))},showTaskPanel:function(e){return new(i())(function(t,n){var r,o;return r=e.commit,o=e.dispatch,i().resolve(o("init")).then(function(e){try{return r("triggerShow",!0),Tracert.expo("c22416"),t()}catch(e){return n(e)}}.bind(this),n)}.bind(this))},autoShowTask:function e(t){var n=t.dispatch,e=v.default.native.getMultiSourceParam("autoShowTask");e&&n("showTaskPanel")},onTaskGetClick:function(e,t){return new(i())(function(n,r){var a,s,u,l,f,h,m,y,g;return a=e.commit,s=e.dispatch,i().resolve(d.default.rpc.receiveTaskAward({ignoreLimit:!1,taskType:t.taskType})).then(function(e){try{return u=e,l=u.error,f=o(u,["error"]),h=!1,f.success?(m=c({},t,{taskStatus:"RECEIVED"}),y=function(){v.default.native.toast(t.bizInfo.receiveTips||"领取成功"),a("updateTaskInfo",m),t.bizInfo.receiveNext&&s(t.bizInfo.receiveNext,void 0,{root:!0})},f.reachLimit?p.default.call("confirm",{message:"触达上限了",okButton:"领取",cancelButton:"取消"},function(e){return new(i())(function(n,r){function o(){return n()}var a;return e.ok?i().resolve(d.default.rpc.receiveTaskAward({ignoreLimit:!0,taskType:t.taskType})).then(function(e){try{return a=e,a.success&&y(),o.call(this)}catch(e){return r(e)}}.bind(this),r):o.call(this)}.bind(this))}):y(),h=!0):(g=["500000002","1100000001"],g.indexOf(String(l.code))>=0&&(v.default.native.toast(l.desc),s("init")),h=!1),n(h)}catch(e){return r(e)}}.bind(this),r)}.bind(this))}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={namespaced:!0,state:{collectEnergyRemind:null},mutations:{updateCollectEnergyRemind:function(e,t){e.collectEnergyRemind=t}},actions:{init:function(e,t){var n=e.commit;if(t)try{var r={myself:!t.selfTiredInfo.REMIND_COLLECT_ENERGY,target:!t.targetTiredInfo.BE_REMINDED_COLLECT_ENERGY};n("updateCollectEnergyRemind",r)}catch(e){}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return a?a:a="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}function o(e,t){var n=-1,r=(e||[]).filter(function(e){return!e.delete});return r.length&&(n=r.length,"string"==typeof t?n=r.filter(function(e){return e.collectStatus===t}).length:"function"==typeof t&&(n=r.filter(function(e){return t(e)}).length)),n}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(8),u=r(s),c=u.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(2),d=r(l),f=n(3),p=r(f),h=n(14),v=r(h),m=n(44),y=r(m),g=100,b=[0,895,2685,5370,8950,12530,1e5],_=b.length,w=0,C=0,T=!1,k=2e4,E=0;t.default={namespaced:!0,state:{bubbles:[],treeEnergy:{},inited:!1},getters:{isHideBubbleNo:function(e,t,n){return"Y"===n.properties.hideBubbleNo},effectBubbleCount:function(e){return o(e.bubbles)},canCollectBubbleCount:function(e){return o(e.bubbles,function(e){var t=p.default.time.now();return"AVAILABLE"===e.collectStatus||e.produceTime-t<k&&e.produceTime-t>0})},canHelpCollectBubbleCount:function(e){return o(e.bubbles,function(e){var t=e.collectStatus;return e.canHelpCollect&&("ROBBED"===t||"INSUFFICIENT"===t)})},waitingBubbleCount:function(e){return o(e.bubbles,"WAITING")},treeStage:function(e,t,n){var r=n.dress.treeDress;if(r&&r.dressIcon)return _;for(var i=e.treeEnergy.currentEnergy||0,o=0;void 0!==b[o]&&i>=b[o];)o++;return o=Math.min(_,o)},treeStageTop:function(e,t){var n=t.treeStage,r=n/_;return g*(1-r)}},mutations:{initBubbles:function(e,t){var n=t.self,r=t.bubbles,i=r||[];i=i.map(function(e){var t=c({},e);return n||(t.produceTime=p.default.time.friendCollectionTimeFix(e.produceTime)),d.default.bubble.timeStatus(t),t.bubbleType=v.default.TYPE_ENERGY,t}),e.bubbles=i},updateBubbles:function(e,t){var n=e.bubbles.map(function(e){var n=luna.extend({},e);return t&&t.forEach(function(e){n.id===e.id&&(n=luna.extend(n,e))}),d.default.bubble.timeStatus(n),n});e.bubbles=n},updateTreeEnergy:function(e,t){t&&void 0!==t.currentEnergy&&(e.treeEnergy=t,d.default.home.postNoticeTreeEnergy(e.treeEnergy))},updateTreeCurrentEnergy:function(e,t){e.treeEnergy.currentEnergy=t,d.default.home.postNoticeTreeEnergy(e.treeEnergy)},initComplate:function(e){e.inited=!0}},actions:{initBubbles:function(e){var t=e.commit,n=e.dispatch,r=e.state;r.inited||(t("initComplate"),n("_resume")),n("_refreshBubbles")},reloadBubbles:function(e){return new(i())(function(t,n){var r,o,a,s,u,c,l;return r=e.commit,o=e.rootState,T?t():(T=!0,a=d.default.home.isMyself(),s=o.uid,u=a?{}:{targetUserId:s},i().resolve(d.default.rpc.queryMiscInfo("greenBubble",u)).then(function(e){try{if(c=e,T=!1,c.success){l=[];try{l=c.combineHandlerVOMap.greenBubble.bubbles}catch(e){}r("initBubbles",{bubbles:[]}),setTimeout(function(){r("initBubbles",{self:a,bubbles:l})},300)}return t()}catch(e){return n(e)}}.bind(this),n))}.bind(this))},_refreshBubbles:function(e){var t=e.commit;clearInterval(C),t("updateBubbles"),C=setInterval(function(){t("updateBubbles")},1e4)},collectEnergy:function(e,t){return new(i())(function(n,r){var o,a,s,u,c,l,f,h,v,m,g,b;return o=e.commit,a=e.dispatch,s=e.getters,u=d.default.home.isMyself(),c=d.default.home.isFriend(),t&&t.length>0?(l=t[0].userId,f=t.map(function(e){return e.id}),u&&(h=t.map(function(e){return{id:e.id,fullEnergy:e.fullEnergy,remainEnergy:0}}),o("updateBubbles",h)),i().resolve(d.default.rpc.collectEnergy(l,f)).then(function(e){try{return v=e,(m=d.default.bubble.errorBubbleStateHandle(v))?(p.default.native.toast(m.errMsg),"TARGET_USER_PROTECT_BY_ENERGY_SHIELD"===m.errCode?(o("props/updateShield",{effective:!0},{root:!0}),a("feedfriend/queryFriendFeed",{forceUpdate:!0},{root:!0})):"PARTIAL_SUCCESS"===m.errCode?a("reloadBubbles"):u&&setTimeout(function(){d.default.rpc.collectEnergy(l,f)},300),n(!1)):(u?(a("handleCollectEnergyForMyself",v),clearTimeout(E),E=setTimeout(function(){a("feed/queryDynamicsIndex",{refresh:!0},{root:!0})},1500)):c&&(o("updateBubbles",v.bubbles||[]),a("handleCollectEnergyForFriend",v)),g=u?y.default.af_ro_collectEnergy:y.default.af_ro_rob,b={noCollectEnergy:+s.canCollectBubbleCount<=0?"Y":"N"},u||(b.noFriendCollectEnergy=+s.canHelpCollectBubbleCount<=0?"Y":"N",b.targetUserId=l),a("refined/do",{actionCode:g,extInfo:b},{root:!0}),n(!0))}catch(e){return r(e)}}.bind(this),r)):n(!1)}.bind(this))},collectEnergyForFriend:function(e,t){return new(i())(function(n,r){var o,a,s,u,c,l,f;return o=e.commit,a=e.dispatch,s=e.rootState,t&&t.length>0?(u=s.uid,c=t.map(function(e){return e.id}),i().resolve(d.default.rpc.forFriendCollectEnergy(u,c)).then(function(e){try{return l=e,(f=d.default.bubble.errorBubbleStateHandle(l))?(p.default.native.toast(f.errMsg),n(!1)):(o("updateBubbles",l.bubbles||[]),a("handleHelpCollectEnergy",l),n(!0))}catch(e){return r(e)}}.bind(this),r)):n(!1)}.bind(this))},_resume:function(e){var t=e.dispatch,n=function(){clearInterval(C)};n.toString=function(){return"pause_bubble"};var r=function(){setTimeout(function(){t("_refreshBubbles")},1e3)};r.toString=function(){return"resume_bubble"},p.default.event.addEventListenerUniq("pause",n,null,!0),p.default.event.addEventListenerUniq("resume",r,null,!0)},allCanCollect:function(e,t){return new(i())(function(n,r){var i=e.commit,o=e.state,a=(t||"").split(",");if(a.length){var s=[];o.bubbles.forEach(function(e){var t=""+e.id;"WAITING"===e.collectStatus&&a.indexOf(t)>-1&&s.push(c({},e,{attribute:v.default.FORCE_COLLECT}))}),i("updateBubbles",s)}return n()}.bind(this))},handleCollectEnergyForMyself:function(e,t){var n=e.commit,r=e.dispatch,i=d.default.bubble.getTotalEnergy(t.bubbles);n("userinfo/addUserEnergy",i,{root:!0}),n("updateTreeEnergy",t.treeEnergy),clearTimeout(w),w=setTimeout(function(){r("rank/refreshRankIfHasMyself",void 0,{root:!0})},1500)},handleCollectEnergyForFriend:function(e,t){var n=e.dispatch,r=d.default.bubble.getTotalEnergy(t.bubbles);n("pk/collectEnergy",{energy:r,type:"rob"},{root:!0});var i=(t.bubbles[0]||{}).robbedTwice,o=i?"ROB_BY_ENERGY_DOUBLE_CLICK":"ROB";n("feedfriend/mockFeedList",{type:o,energy:r},{root:!0}),d.default.home.postNoticeChangeEnergy(r,o)},handleHelpCollectEnergy:function(e,t){var n=e.commit,r=e.dispatch,i=e.getters;n("updateTreeEnergy",t.treeEnergy);var o=d.default.bubble.getTotalEnergy(t.bubbles);n("userinfo/addUserEnergy",o,{root:!0}),r("pk/collectEnergy",{energy:o,type:"help"},{root:!0}),r("feedfriend/mockFeedList",{type:"FRIEND_COLLECT",energy:o},{root:!0});var a=y.default.af_ro_forFriendCollectEnergy,s={noCollectEnergy:+i.canCollectBubbleCount<=0?"Y":"N",noFriendCollectEnergy:+i.canHelpCollectBubbleCount<=0?"Y":"N"};r("refined/do",{actionCode:a,extInfo:s},{root:!0})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return o?o:o="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(5),s=r(a),u=n(3),c=r(u),l=n(2),d=r(l),f=n(29),p=[2e3,4e3,6e3,8e3,1e4];t.default={namespaced:!0,state:{userEnergy:{},baseInfo:{},noticeRedDot:!1},getters:{groundStage:function(e){var t=e.userEnergy.energySummation,n=p.length,r=1;return p.every(function(e){return t>e&&(r++,!0)}),r=Math.min(n,r)}},mutations:{updateUserEnergy:function(e,t){e.userEnergy=t},updateBaseInfo:function(e,t){e.baseInfo=t||{}},cutUserEnergy:function(e,t){e.userEnergy.energySummation-=t},addUserEnergy:function(e,t){e.userEnergy.energySummation+=t},updateNoticeRedDot:function(e,t){e.noticeRedDot=t}},actions:{init:function(e,t){return new(i())(function(n,r){var o,a,u,l,p,h,v,m,y,g,b,_;return o=e.commit,a=e.dispatch,u=e.state,l=t.realName,p=t.loginId,h=t.userId,v=t.headPortrait,m=t.displayName,i().resolve(c.default.native.getUserInfo(t.userId)).then(function(e){try{return y=e,g=luna.extend({realName:l,loginId:p,userId:h,headPortrait:v,displayName:m},y),g.headPortrait=g.headPortrait||y.headUrl,g.loginId=g.loginId||y.account,o("updateBaseInfo",g),b=luna.extend({},u.userEnergy),b.headPortrait=g.headPortrait,o("updateUserEnergy",b),_=(0,f.t)("title"),d.default.home.isMyself()?a("noticeRedDot"):_=(g.displayName||"TA")+(0,f.t)("friendTitle"),s.default.call("setTitle",{title:_}),n()}catch(e){return r(e)}}.bind(this),r)}.bind(this))},noticeRedDot:function(e){return new(i())(function(t,n){var r,o;return r=e.commit,i().resolve(d.default.rpc.getLastNoticeTime()).then(function(e){try{return o=e,o.success&&o.haveNewNotice&&r("updateNoticeRedDot",!0),t()}catch(e){return n(e)}}.bind(this),n)}.bind(this))}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return o?o:o="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(8),s=r(a),u=s.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(5),l=r(c),d=n(59),f=r(d),p=n(2),h=r(p);t.default={namespaced:!0,state:{show:!1,city:"",weather:"",weatherCode:"",temperature:0},mutations:{updateDatas:function(e,t){e.city=t.city||"",e.weather=t.weather||"",e.weatherCode=t.weatherCode||"",e.temperature=t.temperature||0},updateShow:function(e,t){e.show=t}},actions:{init:function(e){return new(i())(function(t,n){var r=e.dispatch,i=h.default.properties.get("weather");return"Y"!==i||luna.version.lt("10.1.90")?t():(l.default.call("getMainSelectedCity",function(e){var t=e.code,n=e.name;if(!t||!n||String(t).length>9)return void h.default.logger.errorCommon("weather","city",t);var i=f.default.KEY.AF_WEATHER,o=f.default.getLS(i);if(o&&o.now&&o.city===n&&o.weather&&o.temperature){var a=Date.now(),s=o.now,c=a-s,d=(new Date).getDate(),p=new Date(s).getDate(),v=+h.default.properties.get("wehct");if(d===p&&c>0&&c<60*v*1e3)return void r("displayMap",u({city:n},o))}l.default.call("getRealWeather",{appKey:"60000002",adCode:t,latitude:"0.0",longitude:"0.0",type:0},function(e){return!e.error&&e.weather&&e.temperature?(r("displayMap",u({city:n},e)),void f.default.setLS(i,u({city:n},e,{now:Date.now()}))):void h.default.logger.errorCommon("weather","real",e.error)})}),t())}.bind(this))},displayMap:function(e,t){var n=e.commit,r=t.temperature,i=t.city,o=t.weather,a="none",s=["晴"],u=["晴间多云","多云"],c=["阴"],l=["有风","平静","微风","和风","清风","强风/劲风","疾风","大风","烈风","风暴","狂爆风","飓风","热带风暴","龙卷风"],d=["阵雨","雷阵雨","雷阵雨并伴有冰雹","小雨","中雨","大雨","暴雨","大暴雨","特大暴雨","强阵雨","强雷阵雨","极端降雨","毛毛雨/细雨","雨","小雨-中雨","中雨-大雨","大雨-暴雨","暴雨-大暴雨","大暴雨-特大暴雨","雨雪天气","雨夹雪","阵雨夹雪","冻雨"],f=["雪","阵雪","小雪","中雪","大雪","暴雪","小雪-中雪","中雪-大雪","大雪-暴雪"],p=["浮尘","扬沙","沙尘暴","强沙尘暴"],h=["雾","浓雾","强浓雾","轻雾","大雾","特强浓雾"],v=["霾","中度霾","重度霾","严重霾"],m=["未知","热","冷"];s.indexOf(o)!==-1?(a="fine",o="晴"):u.indexOf(o)!==-1?(a="cloud",o="多云"):c.indexOf(o)!==-1?(a="overcast",o="阴"):l.indexOf(o)!==-1?(a="wind",o="风"):d.indexOf(o)!==-1?(a="rain",o="雨"):f.indexOf(o)!==-1?(a="snow",o="雪"):p.indexOf(o)!==-1?(a="sandstorm",o="沙尘"):h.indexOf(o)!==-1?(a="fog",o="雾"):v.indexOf(o)!==-1?(a="haze",o="霾"):m.indexOf(o)!==-1&&(a="none"),n("updateShow",!0),n("updateDatas",{city:i,weather:o,weatherCode:a,temperature:r})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return o?o:o="undefined"!=typeof window&&window.Promise&&"function"==typeof window.Promise.resolve?window.Promise:n(1).default||n(1)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(2),s=r(a),u=n(14),c=r(u),l=n(24),d=r(l);t.default={namespaced:!0,state:{whispers:[]},mutations:{updateWhispers:function(e,t){e.whispers=t.whispers||[]},updateOneWhisper:function(e,t){var n=e.whispers.map(function(e){var n=luna.extend({},e);return e.whisperId===t.whisperId&&(n=luna.extend(n,t)),n});e.whispers=n},unshiftBubbles:function(e,t){e.whispers=[].concat(t,e.whispers)}},actions:{init:function(e,t){return new(i())(function(n,r){function o(){return n()}var a,u,l;return a=e.commit,t&&t.whispers.length?(u=t.whispers.map(function(e){return e.id=e.whisperId,e.bubbleType=c.default.TYPE_WHISPER,e.fromUser={userId:e.fromUserId,displayName:"你的好友",headPortrait:d.default.DefaultAvatar},e}),i().resolve(s.default.relation.queryLocalSocialInfo({result:{whispers:u},pathList:["whispers"],propPath:["fromUser"]})).then(function(e){
try{return l=e,a("updateWhispers",l),o.call(this)}catch(e){return r(e)}}.bind(this),r)):o.call(this)}.bind(this))},remove:function(e,t){var n=e.commit,r=e.dispatch;n("updateOneWhisper",{whisperId:t.whisperId,delete:c.default.DELETE_REMOVE}),r("_postReadRequers",t)},_postReadRequers:function(e,t){s.default.rpc.readWhisper(t.whisperId)}}}},,function(e,t,n){e.exports={default:n(456),__esModule:!0}},,function(e,t,n){n(488),e.exports=n(15).Number.isNaN},,function(e,t,n){n(493),e.exports=n(15).Object.values},,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(25),i=n(111),o=n(39),a=n(112).f;e.exports=function(e){return function(t){for(var n,s=o(t),u=i(s),c=u.length,l=0,d=[];c>l;)n=u[l++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},,,,,,,,,,,function(e,t,n){var r=n(26);r(r.S,"Number",{isNaN:function(e){return e!=e}})},,,,,function(e,t,n){var r=n(26),i=n(477)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){},,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,function(e,t){},,,function(e,t){},,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){},function(e,t){},function(e,t){},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,function(e,t){},,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t,n){/*!
	 * Name: tinyjs-plugin-particles
	 * Description: A really fast type of the Container built solely for speed
	 * Author: fangjun.yfj
	 * Version: v0.1.0
	 */
!function(e,n){n(t)}(this,function(e){"use strict";function t(e){for(var t=6*e,n=new Uint16Array(t),r=0,i=0;r<t;r+=6,i+=4)n[r+0]=i+0,n[r+1]=i+1,n[r+2]=i+2,n[r+3]=i+0,n[r+4]=i+2,n[r+5]=i+3;return n}var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},s=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,r=arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n(this,t);var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),u=16384;return i>u&&(i=u),i>e&&(i=e),s._properties=[!1,!0,!1,!1,!1],s._maxSize=e,s._batchSize=i,s._glBuffers={},s._bufferUpdateIDs=[],s._updateID=0,s.interactiveChildren=!1,s.blendMode=Tiny.BLEND_MODES.NORMAL,s.autoResize=o,s.roundPixels=!0,s.baseTexture=null,s.setProperties(r),s._tint=0,s.tintRgb=new Float32Array(4),s.tint=16777215,s}return o(t,e),r(t,[{key:"setProperties",value:function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}},{key:"updateTransform",value:function(){this.displayObjectUpdateTransform()}},{key:"renderWebGL",value:function(e){var t=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return t.onChildrenChange(0)})),e.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}},{key:"onChildrenChange",value:function(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}},{key:"renderCanvas",value:function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var t=e.context,n=this.worldTransform,r=!0,i=0,o=0,a=0,s=0;e.setBlendMode(this.blendMode),t.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var c=this.children[u];if(c.visible){var l=c._texture.frame;if(t.globalAlpha=this.worldAlpha*c.alpha,c.rotation%(2*Math.PI)===0)r&&(t.setTransform(n.a,n.b,n.c,n.d,n.tx*e.resolution,n.ty*e.resolution),r=!1),i=c.anchor.x*(-l.width*c.scale.x)+c.position.x+.5,o=c.anchor.y*(-l.height*c.scale.y)+c.position.y+.5,a=l.width*c.scale.x,s=l.height*c.scale.y;else{r||(r=!0),c.displayObjectUpdateTransform();var d=c.worldTransform;e.roundPixels?t.setTransform(d.a,d.b,d.c,d.d,d.tx*e.resolution|0,d.ty*e.resolution|0):t.setTransform(d.a,d.b,d.c,d.d,d.tx*e.resolution,d.ty*e.resolution),i=c.anchor.x*-l.width+.5,o=c.anchor.y*-l.height+.5,a=l.width,s=l.height}var f=c._texture.baseTexture.resolution;t.drawImage(c._texture.baseTexture.source,l.x*f,l.y*f,l.width*f,l.height*f,i*e.resolution,o*e.resolution,a*e.resolution,s*e.resolution)}}}}},{key:"getBounds",value:function(){if(!(this.children.length<=0)){var e=this.children[0].getBounds(),t=e.left,n=e.top,r=e.right,i=e.bottom;return this.children.forEach(function(e){var o=e.getBounds();o.x<t&&(t=o.left),o.y<n&&(n=o.top),o.x>r&&(r=o.right),o.y>i&&(i=o.bottom)}),new Tiny.Rectangle(t,n,r-t,i-n)}}},{key:"destroy",value:function(e){if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this,e),this._buffers)for(var n=0;n<this._buffers.length;++n)this._buffers[n].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}},{key:"tint",get:function(){return this._tint},set:function(e){this._tint=e,Tiny.hex2rgb(e,this.tintRgb)}}]),t}(Tiny.Container),u=s,c=function(e){function t(e){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 projectionMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n  gl_FragColor = color;\n}"))}return o(t,e),t}(Tiny.Shader),l=function(){function e(t,r,i,o){n(this,e),this.gl=t,this.size=o,this.dynamicProperties=[],this.staticProperties=[];for(var a=0;a<r.length;++a){var s=r[a];s={attribute:s.attribute,size:s.size,uploadFunction:s.uploadFunction,unsignedByte:s.unsignedByte,offset:s.offset},i[a]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return r(e,[{key:"initBuffers",value:function(){var e=this.gl,n=0;this.indices=t(this.size),this.indexBuffer=Tiny.glCore.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var i=this.dynamicProperties[r];i.offset=n,n+=i.size,this.dynamicStride+=i.size}var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=Tiny.glCore.GLBuffer.createVertexBuffer(e,o,e.STREAM_DRAW);var a=0;this.staticStride=0;for(var s=0;s<this.staticProperties.length;++s){var u=this.staticProperties[s];u.offset=a,a+=u.size,this.staticStride+=u.size}var c=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(c),this.staticDataUint32=new Uint32Array(c),this.staticBuffer=Tiny.glCore.GLBuffer.createVertexBuffer(e,c,e.STATIC_DRAW),this.vao=new Tiny.glCore.VertexArrayObject(e).addIndex(this.indexBuffer);for(var l=0;l<this.dynamicProperties.length;++l){var d=this.dynamicProperties[l];d.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,d.attribute,e.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*d.offset):this.vao.addAttribute(this.dynamicBuffer,d.attribute,e.FLOAT,!1,4*this.dynamicStride,4*d.offset)}for(var f=0;f<this.staticProperties.length;++f){var p=this.staticProperties[f];p.unsignedByte?this.vao.addAttribute(this.staticBuffer,p.attribute,e.UNSIGNED_BYTE,!0,4*this.staticStride,4*p.offset):this.vao.addAttribute(this.staticBuffer,p.attribute,e.FLOAT,!1,4*this.staticStride,4*p.offset)}}},{key:"uploadDynamic",value:function(e,t,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(e,t,n,i.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()}},{key:"uploadStatic",value:function(e,t,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(e,t,n,i.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()}},{key:"destroy",value:function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null}}]),e}(),d=function(e){function t(e){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.shader=null,r.indexBuffer=null,r.properties=null,r.tempMatrix=new Tiny.Matrix,r.CONTEXT_UID=0,r}return o(t,e),r(t,[{key:"onContextChange",value:function(){var e=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new c(e),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]}},{key:"start",value:function(){this.renderer.bindShader(this.shader)}},{key:"render",value:function(e){var t=e.children,n=e._maxSize,r=e._batchSize,i=this.renderer,o=t.length;if(0!==o){o>n&&(o=n);var a=e._glBuffers[i.CONTEXT_UID];a||(a=e._glBuffers[i.CONTEXT_UID]=this.generateBuffers(e));var s=t[0]._texture.baseTexture;this.renderer.setBlendMode(Tiny.correctBlendMode(e.blendMode,s.premultipliedAlpha));var u=i.gl,c=e.worldTransform.copy(this.tempMatrix);c.prepend(i._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=c.toArray(!0),this.shader.uniforms.uColor=Tiny.premultiplyRgba(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,s.premultipliedAlpha),this.shader.uniforms.uSampler=i.bindTexture(s);for(var l=!1,d=0,f=0;d<o;d+=r,f+=1){var p=o-d;if(p>r&&(p=r),f>=a.length){if(!e.autoResize)break;a.push(this._generateOneMoreBuffer(e))}var h=a[f];h.uploadDynamic(t,d,p);var v=e._bufferUpdateIDs[f]||0;l=l||h._updateID<v,l&&(h._updateID=e._updateID,h.uploadStatic(t,d,p)),i.bindVao(h.vao),h.vao.draw(u.TRIANGLES,6*p)}}}},{key:"generateBuffers",value:function(e){for(var t=this.renderer.gl,n=[],r=e._maxSize,i=e._batchSize,o=e._properties,a=0;a<r;a+=i)n.push(new l(t,this.properties,o,i));return n}},{key:"_generateOneMoreBuffer",value:function(e){var t=this.renderer.gl,n=e._batchSize,r=e._properties;return new l(t,this.properties,r,n)}},{key:"uploadVertices",value:function(e,t,n,r,i,o){for(var a=0,s=0,u=0,c=0,l=0;l<n;++l){var d=e[t+l],f=d._texture,p=d.scale.x,h=d.scale.y,v=f.trim,m=f.orig;v?(s=v.x-d.anchor.x*m.width,a=s+v.width,c=v.y-d.anchor.y*m.height,u=c+v.height):(a=m.width*(1-d.anchor.x),s=m.width*-d.anchor.x,u=m.height*(1-d.anchor.y),c=m.height*-d.anchor.y),r[o]=s*p,r[o+1]=c*h,r[o+i]=a*p,r[o+i+1]=c*h,r[o+2*i]=a*p,r[o+2*i+1]=u*h,r[o+3*i]=s*p,r[o+3*i+1]=u*h,o+=4*i}}},{key:"uploadPosition",value:function(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=e[t+a].position;r[o]=s.x,r[o+1]=s.y,r[o+i]=s.x,r[o+i+1]=s.y,r[o+2*i]=s.x,r[o+2*i+1]=s.y,r[o+3*i]=s.x,r[o+3*i+1]=s.y,o+=4*i}}},{key:"uploadRotation",value:function(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=e[t+a].rotation;r[o]=s,r[o+i]=s,r[o+2*i]=s,r[o+3*i]=s,o+=4*i}}},{key:"uploadUvs",value:function(e,t,n,r,i,o){for(var a=0;a<n;++a){var s=e[t+a]._texture._uvs;s?(r[o]=s.x0,r[o+1]=s.y0,r[o+i]=s.x1,r[o+i+1]=s.y1,r[o+2*i]=s.x2,r[o+2*i+1]=s.y2,r[o+3*i]=s.x3,r[o+3*i+1]=s.y3,o+=4*i):(r[o]=0,r[o+1]=0,r[o+i]=0,r[o+i+1]=0,r[o+2*i]=0,r[o+2*i+1]=0,r[o+3*i]=0,r[o+3*i+1]=0,o+=4*i)}}},{key:"uploadTint",value:function(e,t,n,r,i,o){for(var a=0;a<n;++a){var s=e[t+a],u=s._texture.baseTexture.premultipliedAlpha,c=s.alpha,l=c<1&&u?Tiny.premultiplyTint(s._tintRGB,c):s._tintRGB+(255*c<<24);r[o]=l,r[o+i]=l,r[o+2*i]=l,r[o+3*i]=l,o+=4*i}}},{key:"destroy",value:function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null}}]),t}(Tiny.ObjectRenderer);Tiny.WebGLRenderer.registerPlugin("particle",d),e.ParticleContainer=u,e.ParticleRenderer=d,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){e.exports=n.p+"tileset-bubble.504f34d.json"},function(e,t,n){e.exports=n.p+"tileset-common.e5fc238.json"},function(e,t,n){e.exports=n.p+"tileset-entries.a4b20d3.json"},function(e,t,n){e.exports=n.p+"tileset-textDay.d4ab591.json"},function(e,t,n){e.exports=n.p+"tileset-textNight.1ef0e03.json"},function(e,t,n){e.exports=n.p+"tileset-water.2d21314.json"},function(e,t,n){e.exports=n.p+"tileset-whisper.40245d0.json"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANAAAAA8CAMAAAAg/MS/AAAA/FBMVEUAAABrvJM0UmkzUWo0Umk6WmoqS2g0UGkvTmkyUWs0Umk0Umk0Umk0Umk0UmkzUmo1Umo4U2o0Umk0U2o0UmkzUWkzU2pAWWs8VmspSmgzUWk0U2o0U2ozUWk0Umk1U2o1Umk0UWkzUmsxTW40Umn////+/v40UmkwUGpOYW/l4OQ1UmlAVmYpS2gpSmctTWhAV2bz9/UrS2hJX25KXWv9+fs1U2s3VW38/PxZZnBFXG04V29DWWj69vlfbHQ+Vmny8PLr6+zm7Ojg4eHW3drFzcppcnhlb3fe4+B/iIpLX25PXmnM0s85WHFQYGvJzsy5wr+st7SptLF1foJ0ianbAAAAJXRSTlMAAt7+/Af6Hvv56K6q2k9GL/68jWpiOP7+/vDv5JrMy8nFPBCclyMLSwAAAotJREFUaN7tm+l24iAYhnGymKh1qba102VWMNbRuJUsxn1tbTvb/d9LwRixXgFweFTyHRDMc1x+yBsQkwLASFeyX271hmDot19zF2mDKjBSKWAUzjF23G5zR6vZasUH0hBoTSHtrmt/S5qYZJRWyeAHWrQzmUkL9rx4gNI8Xi0ukoa9wPFJdF3Na2QvDWZEq2LOw9duNezVhaMXVt0uxndpkGI++czA1Oqjp5kPhcNf/B89W9br2Xf6SYt9LnTPfF5RGYR8JBQ+goTOOjS9z/nkPcrr2Apm1AZBASFWEC7rxOiSGJF7MeOZIwiFlDk4wU5gemdpamTkBmYgtg+BGNXN1zLxAQXy/ZmJ7kONlqGlFwEwzrG2Ft+HGq1N7y4F0rhb9+UQmvXcmx+ggt2RDD4Q+jC49gogq5We5BBCcNXQyuDeudrIIvT3ysmBjBt2ZBFahs43oHf7j1ASOj33DNTkEvqkhHhGCfGOEuIdJcQ7Soh3lBDvKCHeUUK8o4R4RwnxjhLiHSXEO0qId+QU0rv9oRy7D/s/6zNuNJFDCMEF3U65d8YLWYT+kQ0vqbYk1zWtDCrYCR6lMELxpnEaO9FUBiEENyHZ1qfBCz2Q4XcOwZHp/UzRaIwVLcSPXiD4Z6zVigAAIzuwtw9IbCME4bRvDcr7eBm2t/MhhGLG5QiI+rzZcbyMkNdrdv/3xN+NiQckDJd9G9+QAGAS0cR2FMynEwEjpxD6w8kmGNtxRJOFaK1StF29zB+EY/6yeos0a5CEaFnM2dGq41872m3a7uvkQaAt6z+UjPZhpH2yAKtY0f4w9TB6fGQ1m8JWi89rXNIcj8Wcj4PomiMkGq6xIPrJpQIZvSYYp5cKvAORxxZRzzZ6ZgAAAABJRU5ErkJggg=="},function(e,t,n){e.exports=n.p+"img/dialog-frame.f3b39c6d48.png"},function(e,t,n){e.exports=n.p+"img/ground-1.72c5f4a89d.png"},function(e,t,n){e.exports=n.p+"img/ground-2.96e3b5b964.png"},function(e,t,n){e.exports=n.p+"img/ground-3.3acb5c256a.png"},function(e,t,n){e.exports=n.p+"img/ground-4.69dfbbdec8.png"},function(e,t,n){e.exports=n.p+"img/ground-5.8d44f49521.png"},function(e,t,n){e.exports=n.p+"img/ground-night.bfe62c909f.png"},function(e,t,n){e.exports=n.p+"img/lake-night.cb13c794a0.png"},function(e,t,n){e.exports=n.p+"img/lake.ca0bd7a815.png"},function(e,t,n){e.exports=n.p+"img/mount-night.ae4dfff84a.png"},function(e,t,n){e.exports=n.p+"img/mount.3a975aab8b.png"},function(e,t,n){e.exports=n.p+"img/reserve-night.7937ca0af8.png"},function(e,t,n){e.exports=n.p+"img/reserve.0f41467cee.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAALuCAYAAABvmHz3AAAABGdBTUEAALGPC/xhBQAAAdlJREFUSA3tluFOw0AMg7s9Lk/GW5bk8zVOT+1ggsEPirTpck4cnxMQy9v7ut7XdVnuS/zcb7ft5FAoQOYpxXnUZhifgcZV8DmZ0GhVxNUoW/6Az83zJC0po73XKdbnZFAq9ncRDb72rLqLgkCP+PJOaKZg4pRM2ICiOi3TtNJxlUWinhql27QSNQHSFGYybjj8Ml/W0sONOImvUC/cBLjsFPhlvmjXbSK0Q/UiC5e+fVl7rwFqmQJ8BvIUnzEoThojQCbHZ6RMAMmgDfi87Mf5UiR/CiSDsDTjRtsw66u8afrNvyA8/3vlPBlRfGjhri16CXJy65uN/AsbTD0039RSVE4uuY0ZNL9c29xIzeqWKfLvab7H+oJua+5X+gTqlpxAq+zb+k7fGy3GZsv77CubntHXWNAMaRqLL/B5HkE8HH/1PFBQ3eKwPZW70ueXP94/y7VDekw1okdEu0WqvibQvlSZ+SBABiwKi8Ch0CIwHwB8OE5F65tUpHgKjbT4PK1GwEYkgW0Syt3BV+tLbdLTvDlefAIOWOKql5F3qu/F8zhybdJHOM1jem/zpd52xKwxZor4OJWJVLiR+6os4PavAejFN3ZXO2Rj09PLv80DfMmva1/+0758ACH29qVVwwIUAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAALuCAYAAABvmHz3AAAABGdBTUEAALGPC/xhBQAAAttJREFUSA3tlYGxHDEIQ/cunaSR9F/VBj0wwr6930CSmXi8Fgghzv7Xr99/7vcV/973fV/v1+t11afO+AS4AO44u14CYh1xEESEzr4Awb74xExGLZFRuQEQRw2ongCKB93ik/DBJ6VTH6hUncI34LI++MRi0uHLjqZD0gJBCV8Nln/rM/laBi24BhYHGB7A5wUtqU+odrPQ8i/TBgoQSwHqd2+rptpGUHIf4xV91VS/C5egrCvXdoeCc6t76lNHhOxA1u3Ok+Wg4tPL0VsCEnSE/KjvuAbDsG9pmREDqUK7f/TGVGtkHWdVey7zjV7Kl/wpJ6nOZBNoXjUAnWWhBw+sYIYsGXfPd5BKGoDvUZooejtkZtvk16KaVqEIXPpiB1Xlik/VCGaHTa6bZxkiKhvRaRiRLEJxyHE/PyN1A9C37oe1IMMOIfxDX98PBPUAnDb40j950H1AOt+XDU0gmkubKk1GUE2LHeKMjijJ50QjjSEfZ5kmqnqvlhG++wko5LjdlSGAH1K3D+mjfy4E31ie9MFMv61Kbkz/hNrOgYpP9KPfXV+AEn4s8FES4HO+xbcByQL9t4ciQ0BD79LsQqrmPlLVjvqs49BCl+M9yDi31SxKmy8IIdbSKATpFbm0+hlcNy/QmnSEpJb2+XxGDGhQ8bUNQKj1PfUGGvKU223pcwTDQsgOVMjer0Lif7VQD1l0VDJWjcxNfeq3lTKyfK/SXbyKtIgQswmWTWRYix8KZKQW0bN7fE8lN41QDd+yQ5X/JkfY4uvd80OxhNtOdtXHZ2/Wh1wP5QCMDiCo8yef/klaVduAcYZ6jFVu9svZWLYWygPxaRQMJflEwCg8o0QN5E5pKS12fhPJtfcRUTWStHNHhkX2fB/fU+Is40iLyYdwaRkhSENBLwop4X1mkexw0vRGDRw1UrgUDED0+YkqfiV7yaPfUbyFZ1ud9p8vH4Cwao2bHTb9W/79BS9tLSqEy0j3AAAAAElFTkSuQmCC"},function(e,t,n){e.exports=n.p+"img/1.4ba6da2fba.png"},function(e,t,n){e.exports=n.p+"img/2.f65b52e315.png"},function(e,t,n){e.exports=n.p+"img/3.2fec0cb89b.png"},function(e,t,n){e.exports=n.p+"img/4.6d2aa04e82.png"},function(e,t,n){e.exports=n.p+"img/5.7cbf9b062b.png"},function(e,t,n){e.exports=n.p+"img/6.ada37219de.png"},function(e,t,n){e.exports=n.p+"img/7.75251d353f.png"},function(e,t,n){e.exports=n.p+"img/1.948aca91ff.png"},function(e,t,n){e.exports=n.p+"img/2.8fbdbf614f.png"},function(e,t,n){e.exports=n.p+"img/3.fff33f99c0.png"},function(e,t,n){e.exports=n.p+"img/4.3d450bb87f.png"},function(e,t,n){e.exports=n.p+"img/5.b84bb9cede.png"},function(e,t,n){e.exports=n.p+"img/6.46d386565a.png"},function(e,t,n){e.exports=n.p+"img/7.9f68e5f69c.png"}]);